2025-01-24T14:32:40.4521130Z ##[group]Run micromamba activate ./micromamba_tardis
2025-01-24T14:32:40.4521430Z [36;1mmicromamba activate ./micromamba_tardis[0m
2025-01-24T14:32:40.4521980Z [36;1mpytest tardis --tardis-regression-data=/Users/runner/work/tardis/tardis/tardis-regression-data --cov=tardis --cov-report=xml --cov-report=html --cov-append -m "not continuum"[0m
2025-01-24T14:32:40.4573880Z shell: /bin/bash -l {0}
2025-01-24T14:32:40.4574030Z env:
2025-01-24T14:32:40.4574150Z   CACHE_NUMBER: 0
2025-01-24T14:32:40.4574630Z   PYTEST_FLAGS: --tardis-regression-data=/Users/runner/work/tardis/tardis/tardis-regression-data --cov=tardis --cov-report=xml --cov-report=html --cov-append
2025-01-24T14:32:40.4575090Z   CODECOV_TOKEN: 
2025-01-24T14:32:40.4575240Z   MAMBA_ROOT_PREFIX: /Users/runner/micromamba
2025-01-24T14:32:40.4575470Z   MAMBA_EXE: /Users/runner/micromamba-bin/micromamba
2025-01-24T14:32:40.4575720Z   CONDARC: /Users/runner/work/_temp/setup-micromamba/.condarc
2025-01-24T14:32:40.4575940Z ##[endgroup]
2025-01-24T14:32:54.1118840Z ============================= test session starts ==============================
2025-01-24T14:32:54.1119700Z platform darwin -- Python 3.12.4, pytest-8.2.2, pluggy-1.5.0
2025-01-24T14:32:54.1120110Z rootdir: /Users/runner/work/tardis/tardis
2025-01-24T14:32:54.1120420Z configfile: pyproject.toml
2025-01-24T14:32:54.1120790Z plugins: cov-5.0.0, html-4.1.1, metadata-3.1.1, doctestplus-1.2.1, anyio-4.4.0
2025-01-24T14:32:54.1121210Z collected 1796 items / 2 deselected / 1794 selected
2025-01-24T14:32:54.1121470Z 
2025-01-24T14:32:56.7754210Z tardis/energy_input/tests/test_energy_source.py ..xxx                    [  0%]
2025-01-24T14:32:58.3007250Z tardis/energy_input/tests/test_gamma_ray_channel.py ...........          [  0%]
2025-01-24T14:32:59.3894030Z tardis/energy_input/tests/test_gamma_ray_grid.py xx.                     [  1%]
2025-01-24T14:33:00.3096620Z tardis/energy_input/tests/test_gamma_ray_interactions.py xx....          [  1%]
2025-01-24T14:33:00.3151890Z tardis/energy_input/tests/test_gamma_ray_packet_source.py sssssssss      [  1%]
2025-01-24T14:33:01.1395680Z tardis/energy_input/tests/test_util.py .....xxxx.....                    [  2%]
2025-01-24T14:33:01.3666800Z tardis/grid/tests/test_grid.py .                                         [  2%]
2025-01-24T14:33:01.3675230Z tardis/gui/tests/test_gui.py s                                           [  2%]
2025-01-24T14:33:04.1389190Z tardis/io/configuration/tests/test_config_reader.py ...........          [  3%]
2025-01-24T14:33:04.1468050Z tardis/io/configuration/tests/test_configuration_namespace.py .........  [  3%]
2025-01-24T14:33:04.1628190Z tardis/io/logger/tests/test_logging.py ssssssssssssssssssssssssssss      [  5%]
2025-01-24T14:33:28.8953630Z tardis/io/model/readers/tests/test_arepo_parser.py ..                    [  5%]
2025-01-24T14:33:28.9087220Z tardis/io/model/readers/tests/test_ascii_readers.py ...                  [  5%]
2025-01-24T14:33:28.9160820Z tardis/io/model/readers/tests/test_cmfgen_reader.py ..                   [  5%]
2025-01-24T14:33:28.9369100Z tardis/io/model/readers/tests/test_csvy_reader.py ....                   [  6%]
2025-01-24T14:33:28.9526420Z tardis/io/model/readers/tests/test_stella_reader.py ..                   [  6%]
2025-01-24T14:33:29.1750230Z tardis/io/tests/test_HDFWriter.py ...............                        [  7%]
2025-01-24T14:33:29.5177960Z tardis/io/tests/test_atomic.py .....                                     [  7%]
2025-01-24T14:33:29.5379630Z tardis/io/tests/test_decay.py ..                                         [  7%]
2025-01-24T14:33:29.6666490Z tardis/io/tests/test_model_reader.py ......                              [  7%]
2025-01-24T14:33:29.6703810Z tardis/model/geometry/tests/test_radial1d.py ..                          [  7%]
2025-01-24T14:33:53.7546190Z tardis/model/tests/test_base.py ........................................ [ 10%]
2025-01-24T14:33:54.4834180Z ............                                                             [ 10%]
2025-01-24T14:33:56.6881930Z tardis/model/tests/test_csvy_model.py .........                          [ 11%]
2025-01-24T14:33:56.7172990Z tardis/model/tests/test_density.py ..                                    [ 11%]
2025-01-24T14:33:57.6443270Z tardis/opacities/tests/test_opacity_solver.py .....                      [ 11%]
2025-01-24T14:33:58.6688650Z tardis/opacities/tests/test_opacity_state_numba.py .....                 [ 11%]
2025-01-24T14:33:59.8739760Z tardis/opacities/tests/test_tau_sobolev.py FF                            [ 12%]
2025-01-24T14:34:02.0888160Z tardis/plasma/equilibrium/tests/test_collisional_transitions.py ...      [ 12%]
2025-01-24T14:34:36.0995970Z tardis/plasma/equilibrium/tests/test_level_populations.py ....           [ 12%]
2025-01-24T14:34:44.5857330Z tardis/plasma/equilibrium/tests/test_rate_matrix.py .                    [ 12%]
2025-01-24T14:34:45.5435630Z tardis/plasma/tests/test_complete_plasmas.py ..............s......s..... [ 13%]
2025-01-24T14:34:47.4838780Z s....ssssss............s......s.....ss.....s....ssssss............s..... [ 18%]
2025-01-24T14:34:48.6085130Z .s.....ss.....s....ssssss............s......s.....ss.....s....ssssss.... [ 22%]
2025-01-24T14:34:50.4911950Z ........s......s.....ss.....s....ssssss............s......s.....ss.....s [ 26%]
2025-01-24T14:34:52.3137430Z ....ssssss............s......s.....ss.....s....ssssss............s...... [ 30%]
2025-01-24T14:34:52.7690640Z s.....ss.....s....ssssss............s......s.....ss.....s.ss.ssssss..... [ 34%]
2025-01-24T14:34:54.5334520Z .......s......s.....ss.....s....ssssss............s......s.....ss.....s. [ 38%]
2025-01-24T14:34:56.3281040Z ...ssssss............s......s.....ss.....s....ssssss............s......s [ 42%]
2025-01-24T14:34:58.1950640Z .....ss.....s....ssssss............s......s.....s...........ssssss...... [ 46%]
2025-01-24T14:34:59.3023670Z ......s......s.....s...........ssssss............s......s.....s......... [ 50%]
2025-01-24T14:35:01.5164410Z ..ssssss............s......s.....ss.....s....ssssss............s......s. [ 54%]
2025-01-24T14:35:03.5101690Z ....ss.....s....ssssss...................s......s.....s....ssss......... [ 58%]
2025-01-24T14:35:03.7421310Z ............s......s.....s....ssss.......                                [ 60%]
2025-01-24T14:35:03.8700490Z tardis/plasma/tests/test_hdf_plasma.py ................................. [ 62%]
2025-01-24T14:35:03.8768460Z ......                                                                   [ 62%]
2025-01-24T14:35:04.0056870Z tardis/plasma/tests/test_nlte_excitation.py ...                          [ 62%]
2025-01-24T14:36:27.8349070Z tardis/plasma/tests/test_nlte_solver.py .....X                           [ 63%]
2025-01-24T14:36:27.8374920Z tardis/plasma/tests/test_plasma_continuum.py .                           [ 63%]
2025-01-24T14:36:42.8393950Z tardis/plasma/tests/test_plasma_vboundary.py .............               [ 63%]
2025-01-24T14:36:51.6499800Z tardis/plasma/tests/test_tardis_model_density_config.py ...              [ 64%]
2025-01-24T14:36:52.1327930Z tardis/simulation/tests/test_convergence.py .....                        [ 64%]
2025-01-24T14:36:57.5325610Z tardis/simulation/tests/test_simulation.py .............                 [ 65%]
2025-01-24T14:36:57.5430700Z tardis/spectrum/tests/test_cuda_formal_integral.py sssssssssssssssssssss [ 66%]
2025-01-24T14:36:57.7724740Z ssss...ssssssssssssssssssssss                                            [ 67%]
2025-01-24T14:36:57.7763230Z tardis/spectrum/tests/test_luminosity.py ....                            [ 68%]
2025-01-24T14:36:58.4962810Z tardis/spectrum/tests/test_numba_formal_integral.py .................... [ 69%]
2025-01-24T14:36:58.5059260Z ..........                                                               [ 69%]
2025-01-24T14:36:58.6098180Z tardis/spectrum/tests/test_spectrum.py ................................. [ 71%]
2025-01-24T14:36:58.6289510Z .........                                                                [ 72%]
2025-01-24T14:37:13.2826210Z tardis/spectrum/tests/test_spectrum_solver.py ....                       [ 72%]
2025-01-24T14:37:58.1904150Z tardis/tests/test_tardis_full.py ....                                    [ 72%]
2025-01-24T14:39:22.9103210Z tardis/tests/test_tardis_full_formal_integral.py ................        [ 73%]
2025-01-24T14:39:22.9543140Z tardis/tests/test_util.py .............................................  [ 75%]
2025-01-24T14:39:24.6809190Z tardis/transport/montecarlo/tests/test_base.py x.....................    [ 77%]
2025-01-24T14:39:28.8346980Z tardis/transport/montecarlo/tests/test_interaction.py .......            [ 77%]
2025-01-24T14:39:28.9707610Z tardis/transport/montecarlo/tests/test_macro_atom.py ....                [ 77%]
2025-01-24T14:39:28.9799440Z tardis/transport/montecarlo/tests/test_montecarlo.py sssssssssssssssssss [ 78%]
2025-01-24T14:39:29.0019640Z sssssssssssssssssssssssssssssssssssssssssssss                            [ 81%]
2025-01-24T14:39:35.0658050Z tardis/transport/montecarlo/tests/test_montecarlo_main_loop.py x..       [ 81%]
2025-01-24T14:39:35.0744230Z tardis/transport/montecarlo/tests/test_nonhomologous.py ...              [ 81%]
2025-01-24T14:39:37.1640220Z tardis/transport/montecarlo/tests/test_numba_interface.py .....x.        [ 82%]
2025-01-24T14:39:37.4725950Z tardis/transport/montecarlo/tests/test_opacities.py ...............      [ 82%]
2025-01-24T14:39:38.1045040Z tardis/transport/montecarlo/tests/test_packet.py .................xXXXXX [ 84%]
2025-01-24T14:39:38.1837100Z XX.........                                                              [ 84%]
2025-01-24T14:39:38.2050060Z tardis/transport/montecarlo/tests/test_packet_source.py ........         [ 85%]
2025-01-24T14:39:38.3891880Z tardis/transport/montecarlo/tests/test_rpacket_last_interaction_tracker.py . [ 85%]
2025-01-24T14:39:38.6250260Z .....                                                                    [ 85%]
2025-01-24T14:39:46.7068490Z tardis/transport/montecarlo/tests/test_rpacket_tracker.py ......         [ 85%]
2025-01-24T14:39:46.7260440Z tardis/transport/montecarlo/tests/test_single_packet_loop.py xxx         [ 86%]
2025-01-24T14:39:46.7277950Z tardis/transport/montecarlo/tests/test_tracker_utils.py ..               [ 86%]
2025-01-24T14:39:48.2298460Z tardis/transport/montecarlo/tests/test_vpacket.py ..x.                   [ 86%]
2025-01-24T14:39:48.2428160Z tardis/transport/montecarlo/tests/test_weighted_packet_source.py ....    [ 86%]
2025-01-24T14:39:50.5044570Z tardis/transport/montecarlo/tests/test_weighted_packet_source_integration.py . [ 86%]
2025-01-24T14:39:50.5045190Z                                                                          [ 86%]
2025-01-24T14:39:50.9492550Z tardis/transport/tests/test_doppler_factor.py ..................         [ 87%]
2025-01-24T14:39:52.3457560Z tardis/visualization/tools/tests/test_convergence_plot.py .............. [ 88%]
2025-01-24T14:39:53.7478080Z ......                                                                   [ 88%]
2025-01-24T14:39:57.0418460Z tardis/visualization/tools/tests/test_liv_plot.py ...................... [ 90%]
2025-01-24T14:40:00.3249830Z .............................                                            [ 91%]
2025-01-24T14:40:02.9208020Z tardis/visualization/tools/tests/test_rpacket_plot.py .................. [ 92%]
2025-01-24T14:40:09.4198480Z ....                                                                     [ 92%]
2025-01-24T14:40:13.1489000Z tardis/visualization/tools/tests/test_sdec_plot.py ..................... [ 94%]
2025-01-24T14:40:18.5226620Z ..............................                                           [ 95%]
2025-01-24T14:40:18.8289690Z tardis/visualization/widgets/tests/test_custom_abundance.py ........ss.. [ 96%]
2025-01-24T14:40:18.8645480Z ....                                                                     [ 96%]
2025-01-24T14:40:19.5324360Z tardis/visualization/widgets/tests/test_line_info.py ................... [ 97%]
2025-01-24T14:40:19.9612500Z ..................                                                       [ 98%]
2025-01-24T14:43:17.3103590Z tardis/visualization/widgets/tests/test_shell_info.py .................. [ 99%]
2025-01-24T14:43:23.3175290Z ......                                                                   [100%]
2025-01-24T14:43:23.3175760Z 
2025-01-24T14:43:23.3175990Z =================================== FAILURES ===================================
2025-01-24T14:43:23.3176550Z _____________________ test_calculate_sobolev_line_opacity ______________________
2025-01-24T14:43:23.3176910Z 
2025-01-24T14:43:23.3177240Z nb_simulation_verysimple = <tardis.simulation.base.Simulation object at 0x12a379010>
2025-01-24T14:43:23.3177850Z regression_data = <tardis.tests.fixtures.regression_data.RegressionData object at 0x3192db860>
2025-01-24T14:43:23.3178270Z 
2025-01-24T14:43:23.3178440Z     def test_calculate_sobolev_line_opacity(
2025-01-24T14:43:23.3178810Z         nb_simulation_verysimple, regression_data
2025-01-24T14:43:23.3179150Z     ):
2025-01-24T14:43:23.3179480Z         legacy_plasma = nb_simulation_verysimple.plasma
2025-01-24T14:43:23.3179800Z     
2025-01-24T14:43:23.3180030Z         actual = calculate_sobolev_line_opacity(
2025-01-24T14:43:23.3180340Z             legacy_plasma.lines,
2025-01-24T14:43:23.3182930Z             legacy_plasma.level_number_density,
2025-01-24T14:43:23.3183280Z             legacy_plasma.time_explosion,
2025-01-24T14:43:23.3183590Z             legacy_plasma.stimulated_emission_factor,
2025-01-24T14:43:23.3183870Z         )
2025-01-24T14:43:23.3184120Z >       expected = regression_data.sync_dataframe(actual)
2025-01-24T14:43:23.3184370Z 
2025-01-24T14:43:23.3184540Z tardis/opacities/tests/test_tau_sobolev.py:21: 
2025-01-24T14:43:23.3184870Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-01-24T14:43:23.3185240Z tardis/tests/fixtures/regression_data.py:88: in sync_dataframe
2025-01-24T14:43:23.3185590Z     return pd.read_hdf(self.fpath, key=key)
2025-01-24T14:43:23.3185890Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-01-24T14:43:23.3186140Z 
2025-01-24T14:43:23.3186600Z path_or_buf = '/Users/runner/work/tardis/tardis/tardis-regression-data/tardis/opacities/tests/test_tau_sobolev/test_calculate_sobolev_line_opacity.h5'
2025-01-24T14:43:23.3187230Z key = 'data', mode = 'r', errors = 'strict', where = None, start = None
2025-01-24T14:43:23.3187630Z stop = None, columns = None, iterator = False, chunksize = None, kwargs = {}
2025-01-24T14:43:23.3187980Z exists = False
2025-01-24T14:43:23.3188150Z 
2025-01-24T14:43:23.3188280Z     def read_hdf(
2025-01-24T14:43:23.3188520Z         path_or_buf: FilePath | HDFStore,
2025-01-24T14:43:23.3188780Z         key=None,
2025-01-24T14:43:23.3188990Z         mode: str = "r",
2025-01-24T14:43:23.3189230Z         errors: str = "strict",
2025-01-24T14:43:23.3189490Z         where: str | list | None = None,
2025-01-24T14:43:23.3189760Z         start: int | None = None,
2025-01-24T14:43:23.3190050Z         stop: int | None = None,
2025-01-24T14:43:23.3190340Z         columns: list[str] | None = None,
2025-01-24T14:43:23.3190620Z         iterator: bool = False,
2025-01-24T14:43:23.3191310Z         chunksize: int | None = None,
2025-01-24T14:43:23.3191570Z         **kwargs,
2025-01-24T14:43:23.3191770Z     ):
2025-01-24T14:43:23.3191960Z         """
2025-01-24T14:43:23.3192210Z         Read from the store, close it if we opened it.
2025-01-24T14:43:23.3192480Z     
2025-01-24T14:43:23.3192760Z         Retrieve pandas object stored in file, optionally based on where
2025-01-24T14:43:23.3193080Z         criteria.
2025-01-24T14:43:23.3193290Z     
2025-01-24T14:43:23.3193550Z         .. warning::
2025-01-24T14:43:23.3193760Z     
2025-01-24T14:43:23.3194040Z            Pandas uses PyTables for reading and writing HDF5 files, which allows
2025-01-24T14:43:23.3194480Z            serializing object-dtype data with pickle when using the "fixed" format.
2025-01-24T14:43:23.3194910Z            Loading pickled data received from untrusted sources can be unsafe.
2025-01-24T14:43:23.3195250Z     
2025-01-24T14:43:23.3195520Z            See: https://docs.python.org/3/library/pickle.html for more.
2025-01-24T14:43:23.3196050Z     
2025-01-24T14:43:23.3196240Z         Parameters
2025-01-24T14:43:23.3196460Z         ----------
2025-01-24T14:43:23.3196710Z         path_or_buf : str, path object, pandas.HDFStore
2025-01-24T14:43:23.3197100Z             Any valid string path is acceptable. Only supports the local file system,
2025-01-24T14:43:23.3197500Z             remote URLs and file-like objects are not supported.
2025-01-24T14:43:23.3197790Z     
2025-01-24T14:43:23.3198040Z             If you want to pass in a path object, pandas accepts any
2025-01-24T14:43:23.3198350Z             ``os.PathLike``.
2025-01-24T14:43:23.3198500Z     
2025-01-24T14:43:23.3198820Z             Alternatively, pandas accepts an open :class:`pandas.HDFStore` object.
2025-01-24T14:43:23.3199150Z     
2025-01-24T14:43:23.3199280Z         key : object, optional
2025-01-24T14:43:23.3199610Z             The group identifier in the store. Can be omitted if the HDF file
2025-01-24T14:43:23.3199890Z             contains a single pandas object.
2025-01-24T14:43:23.3200370Z         mode : {'r', 'r+', 'a'}, default 'r'
2025-01-24T14:43:23.3200600Z             Mode to use when opening the file. Ignored if path_or_buf is a
2025-01-24T14:43:23.3200860Z             :class:`pandas.HDFStore`. Default is 'r'.
2025-01-24T14:43:23.3201060Z         errors : str, default 'strict'
2025-01-24T14:43:23.3201470Z             Specifies how encoding and decoding errors are to be handled.
2025-01-24T14:43:23.3201760Z             See the errors argument for :func:`open` for a full list
2025-01-24T14:43:23.3201970Z             of options.
2025-01-24T14:43:23.3202110Z         where : list, optional
2025-01-24T14:43:23.3202300Z             A list of Term (or convertible) objects.
2025-01-24T14:43:23.3202490Z         start : int, optional
2025-01-24T14:43:23.3202650Z             Row number to start selection.
2025-01-24T14:43:23.3202830Z         stop  : int, optional
2025-01-24T14:43:23.3202990Z             Row number to stop selection.
2025-01-24T14:43:23.3203170Z         columns : list, optional
2025-01-24T14:43:23.3203340Z             A list of columns names to return.
2025-01-24T14:43:23.3203520Z         iterator : bool, optional
2025-01-24T14:43:23.3203690Z             Return an iterator object.
2025-01-24T14:43:23.3203860Z         chunksize : int, optional
2025-01-24T14:43:23.3204080Z             Number of rows to include in an iteration when using an iterator.
2025-01-24T14:43:23.3204310Z         **kwargs
2025-01-24T14:43:23.3204480Z             Additional keyword arguments passed to HDFStore.
2025-01-24T14:43:23.3204670Z     
2025-01-24T14:43:23.3204770Z         Returns
2025-01-24T14:43:23.3204890Z         -------
2025-01-24T14:43:23.3205000Z         object
2025-01-24T14:43:23.3205180Z             The selected object. Return type depends on the object stored.
2025-01-24T14:43:23.3205410Z     
2025-01-24T14:43:23.3205510Z         See Also
2025-01-24T14:43:23.3205620Z         --------
2025-01-24T14:43:23.3205800Z         DataFrame.to_hdf : Write a HDF file from a DataFrame.
2025-01-24T14:43:23.3206140Z         HDFStore : Low-level access to HDF files.
2025-01-24T14:43:23.3206320Z     
2025-01-24T14:43:23.3206420Z         Examples
2025-01-24T14:43:23.3206530Z         --------
2025-01-24T14:43:23.3206730Z         >>> df = pd.DataFrame([[1, 1.0, 'a']], columns=['x', 'y', 'z'])  # doctest: +SKIP
2025-01-24T14:43:23.3207000Z         >>> df.to_hdf('./store.h5', 'data')  # doctest: +SKIP
2025-01-24T14:43:23.3207250Z         >>> reread = pd.read_hdf('./store.h5')  # doctest: +SKIP
2025-01-24T14:43:23.3207450Z         """
2025-01-24T14:43:23.3207580Z         if mode not in ["r", "r+", "a"]:
2025-01-24T14:43:23.3207760Z             raise ValueError(
2025-01-24T14:43:23.3207960Z                 f"mode {mode} is not allowed while performing a read. "
2025-01-24T14:43:23.3208190Z                 f"Allowed modes are r, r+ and a."
2025-01-24T14:43:23.3208360Z             )
2025-01-24T14:43:23.3208480Z         # grab the scope
2025-01-24T14:43:23.3208800Z         if where is not None:
2025-01-24T14:43:23.3208970Z             where = _ensure_term(where, scope_level=1)
2025-01-24T14:43:23.3209160Z     
2025-01-24T14:43:23.3209280Z         if isinstance(path_or_buf, HDFStore):
2025-01-24T14:43:23.3209570Z             if not path_or_buf.is_open:
2025-01-24T14:43:23.3209800Z                 raise OSError("The HDFStore must be open for reading.")
2025-01-24T14:43:23.3210010Z     
2025-01-24T14:43:23.3210110Z             store = path_or_buf
2025-01-24T14:43:23.3210290Z             auto_close = False
2025-01-24T14:43:23.3210440Z         else:
2025-01-24T14:43:23.3210600Z             path_or_buf = stringify_path(path_or_buf)
2025-01-24T14:43:23.3210830Z             if not isinstance(path_or_buf, str):
2025-01-24T14:43:23.3211030Z                 raise NotImplementedError(
2025-01-24T14:43:23.3211320Z                     "Support for generic buffers has not been implemented."
2025-01-24T14:43:23.3211550Z                 )
2025-01-24T14:43:23.3211680Z             try:
2025-01-24T14:43:23.3211840Z                 exists = os.path.exists(path_or_buf)
2025-01-24T14:43:23.3212040Z     
2025-01-24T14:43:23.3219690Z             # if filepath is too long
2025-01-24T14:43:23.3219900Z             except (TypeError, ValueError):
2025-01-24T14:43:23.3220080Z                 exists = False
2025-01-24T14:43:23.3220220Z     
2025-01-24T14:43:23.3220420Z             if not exists:
2025-01-24T14:43:23.3220640Z >               raise FileNotFoundError(f"File {path_or_buf} does not exist")
2025-01-24T14:43:23.3221270Z E               FileNotFoundError: File /Users/runner/work/tardis/tardis/tardis-regression-data/tardis/opacities/tests/test_tau_sobolev/test_calculate_sobolev_line_opacity.h5 does not exist
2025-01-24T14:43:23.3221760Z 
2025-01-24T14:43:23.3221960Z micromamba_tardis/lib/python3.12/site-packages/pandas/io/pytables.py:424: FileNotFoundError
2025-01-24T14:43:23.3222350Z ---------------------------- Captured stderr setup -----------------------------
2025-01-24T14:43:23.3222550Z 
2025-01-24T14:43:23.3252170Z Iterations:â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ                4/5 [00:08<00:01,  1.83s/it]
2025-01-24T14:43:23.3252410Z 
2025-01-24T14:43:23.3252580Z Packets:                                                                                   4030/? [00:08<00:00, 603.37it/s][A
2025-01-24T14:43:23.3252880Z ------------------------------ Captured log setup ------------------------------
2025-01-24T14:43:23.3253450Z WARNING  tardis.io.model.parse_density_configuration:parse_density_configuration.py:114 Number of density points larger than number of shells. Assuming inner point irrelevant
2025-01-24T14:43:23.3254000Z _________________________ test_calculate_beta_sobolevs _________________________
2025-01-24T14:43:23.3254190Z 
2025-01-24T14:43:23.3254360Z nb_simulation_verysimple = <tardis.simulation.base.Simulation object at 0x12a379010>
2025-01-24T14:43:23.3254800Z regression_data = <tardis.tests.fixtures.regression_data.RegressionData object at 0x12a25f9e0>
2025-01-24T14:43:23.3255340Z 
2025-01-24T14:43:23.3255490Z     def test_calculate_beta_sobolevs(nb_simulation_verysimple, regression_data):
2025-01-24T14:43:23.3255790Z         legacy_plasma = nb_simulation_verysimple.plasma
2025-01-24T14:43:23.3255980Z     
2025-01-24T14:43:23.3256120Z         tau_sobolevs = calculate_sobolev_line_opacity(
2025-01-24T14:43:23.3256320Z             legacy_plasma.lines,
2025-01-24T14:43:23.3256500Z             legacy_plasma.level_number_density,
2025-01-24T14:43:23.3256700Z             legacy_plasma.time_explosion,
2025-01-24T14:43:23.3256900Z             legacy_plasma.stimulated_emission_factor,
2025-01-24T14:43:23.3257080Z         )
2025-01-24T14:43:23.3257220Z         actual = calculate_beta_sobolev(tau_sobolevs)
2025-01-24T14:43:23.3257450Z >       expected = regression_data.sync_ndarray(actual)
2025-01-24T14:43:23.3257600Z 
2025-01-24T14:43:23.3257680Z tardis/opacities/tests/test_tau_sobolev.py:35: 
2025-01-24T14:43:23.3257910Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-01-24T14:43:23.3258440Z tardis/tests/fixtures/regression_data.py:111: in sync_ndarray
2025-01-24T14:43:23.3258680Z     return np.load(self.fpath)
2025-01-24T14:43:23.3258870Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-01-24T14:43:23.3259020Z 
2025-01-24T14:43:23.3259380Z file = PosixPath('/Users/runner/work/tardis/tardis/tardis-regression-data/tardis/opacities/tests/test_tau_sobolev/test_calculate_beta_sobolevs.npy')
2025-01-24T14:43:23.3259940Z mmap_mode = None, allow_pickle = False, fix_imports = True, encoding = 'ASCII'
2025-01-24T14:43:23.3260150Z 
2025-01-24T14:43:23.3260200Z     @set_module('numpy')
2025-01-24T14:43:23.3260420Z     def load(file, mmap_mode=None, allow_pickle=False, fix_imports=True,
2025-01-24T14:43:23.3260720Z              encoding='ASCII', *, max_header_size=format._MAX_HEADER_SIZE):
2025-01-24T14:43:23.3260940Z         """
2025-01-24T14:43:23.3261140Z         Load arrays or pickled objects from ``.npy``, ``.npz`` or pickled files.
2025-01-24T14:43:23.3261380Z     
2025-01-24T14:43:23.3261610Z         .. warning:: Loading files that contain object arrays uses the ``pickle``
2025-01-24T14:43:23.3261920Z                      module, which is not secure against erroneous or maliciously
2025-01-24T14:43:23.3262210Z                      constructed data. Consider passing ``allow_pickle=False`` to
2025-01-24T14:43:23.3262490Z                      load data that is known not to contain object arrays for the
2025-01-24T14:43:23.3262740Z                      safer handling of untrusted sources.
2025-01-24T14:43:23.3262920Z     
2025-01-24T14:43:23.3263020Z         Parameters
2025-01-24T14:43:23.3263140Z         ----------
2025-01-24T14:43:23.3263300Z         file : file-like object, string, or pathlib.Path
2025-01-24T14:43:23.3263540Z             The file to read. File-like objects must support the
2025-01-24T14:43:23.3263780Z             ``seek()`` and ``read()`` methods and must always
2025-01-24T14:43:23.3264030Z             be opened in binary mode.  Pickled files require that the
2025-01-24T14:43:23.3264310Z             file-like object support the ``readline()`` method as well.
2025-01-24T14:43:23.3264580Z         mmap_mode : {None, 'r+', 'r', 'w+', 'c'}, optional
2025-01-24T14:43:23.3264840Z             If not None, then memory-map the file, using the given mode (see
2025-01-24T14:43:23.3265130Z             `numpy.memmap` for a detailed description of the modes).  A
2025-01-24T14:43:23.3265430Z             memory-mapped array is kept on disk. However, it can be accessed
2025-01-24T14:43:23.3265740Z             and sliced like any ndarray.  Memory mapping is especially useful
2025-01-24T14:43:23.3266050Z             for accessing small fragments of large files without reading the
2025-01-24T14:43:23.3266290Z             entire file into memory.
2025-01-24T14:43:23.3266460Z         allow_pickle : bool, optional
2025-01-24T14:43:23.3266710Z             Allow loading pickled object arrays stored in npy files. Reasons for
2025-01-24T14:43:23.3267130Z             disallowing pickles include security, as loading pickled data can
2025-01-24T14:43:23.3267440Z             execute arbitrary code. If pickles are disallowed, loading object
2025-01-24T14:43:23.3267700Z             arrays will fail. Default: False
2025-01-24T14:43:23.3267870Z     
2025-01-24T14:43:23.3267980Z             .. versionchanged:: 1.16.3
2025-01-24T14:43:23.3268190Z                 Made default False in response to CVE-2019-6446.
2025-01-24T14:43:23.3268380Z     
2025-01-24T14:43:23.3268490Z         fix_imports : bool, optional
2025-01-24T14:43:23.3268740Z             Only useful when loading Python 2 generated pickled files on Python 3,
2025-01-24T14:43:23.3269080Z             which includes npy/npz files containing object arrays. If `fix_imports`
2025-01-24T14:43:23.3269410Z             is True, pickle will try to map the old Python 2 names to the new names
2025-01-24T14:43:23.3269660Z             used in Python 3.
2025-01-24T14:43:23.3269940Z         encoding : str, optional
2025-01-24T14:43:23.3270180Z             What encoding to use when reading Python 2 strings. Only useful when
2025-01-24T14:43:23.3270490Z             loading Python 2 generated pickled files in Python 3, which includes
2025-01-24T14:43:23.3270810Z             npy/npz files containing object arrays. Values other than 'latin1',
2025-01-24T14:43:23.3271130Z             'ASCII', and 'bytes' are not allowed, as they can corrupt numerical
2025-01-24T14:43:23.3271360Z             data. Default: 'ASCII'
2025-01-24T14:43:23.3271530Z         max_header_size : int, optional
2025-01-24T14:43:23.3271780Z             Maximum allowed size of the header.  Large headers may not be safe
2025-01-24T14:43:23.3272090Z             to load securely and thus require explicitly passing a larger value.
2025-01-24T14:43:23.3272360Z             See :py:func:`ast.literal_eval()` for details.
2025-01-24T14:43:23.3272630Z             This option is ignored when `allow_pickle` is passed.  In that case
2025-01-24T14:43:23.3272930Z             the file is by definition trusted and the limit is unnecessary.
2025-01-24T14:43:23.3273150Z     
2025-01-24T14:43:23.3273240Z         Returns
2025-01-24T14:43:23.3273350Z         -------
2025-01-24T14:43:23.3273490Z         result : array, tuple, dict, etc.
2025-01-24T14:43:23.3273800Z             Data stored in the file. For ``.npz`` files, the returned instance
2025-01-24T14:43:23.3274100Z             of NpzFile class must be closed to avoid leaking file descriptors.
2025-01-24T14:43:23.3274330Z     
2025-01-24T14:43:23.3274430Z         Raises
2025-01-24T14:43:23.3274540Z         ------
2025-01-24T14:43:23.3274650Z         OSError
2025-01-24T14:43:23.3274800Z             If the input file does not exist or cannot be read.
2025-01-24T14:43:23.3275010Z         UnpicklingError
2025-01-24T14:43:23.3275220Z             If ``allow_pickle=True``, but the file cannot be loaded as a pickle.
2025-01-24T14:43:23.3275440Z         ValueError
2025-01-24T14:43:23.3275640Z             The file contains an object array, but ``allow_pickle=False`` given.
2025-01-24T14:43:23.3275870Z         EOFError
2025-01-24T14:43:23.3276060Z             When calling ``np.load`` multiple times on the same file handle,
2025-01-24T14:43:23.3276310Z             if all data has already been read
2025-01-24T14:43:23.3276470Z     
2025-01-24T14:43:23.3276570Z         See Also
2025-01-24T14:43:23.3276680Z         --------
2025-01-24T14:43:23.3276820Z         save, savez, savez_compressed, loadtxt
2025-01-24T14:43:23.3277070Z         memmap : Create a memory-map to an array stored in a file on disk.
2025-01-24T14:43:23.3277390Z         lib.format.open_memmap : Create or load a memory-mapped ``.npy`` file.
2025-01-24T14:43:23.3277630Z     
2025-01-24T14:43:23.3277720Z         Notes
2025-01-24T14:43:23.3277830Z         -----
2025-01-24T14:43:23.3278010Z         - If the file contains pickle data, then whatever object is stored
2025-01-24T14:43:23.3278250Z           in the pickle is returned.
2025-01-24T14:43:23.3278470Z         - If the file is a ``.npy`` file, then a single array is returned.
2025-01-24T14:43:23.3278890Z         - If the file is a ``.npz`` file, then a dictionary-like object is
2025-01-24T14:43:23.3279200Z           returned, containing ``{filename: array}`` key-value pairs, one for
2025-01-24T14:43:23.3279450Z           each file in the archive.
2025-01-24T14:43:23.3279680Z         - If the file is a ``.npz`` file, the returned value supports the
2025-01-24T14:43:23.3279980Z           context manager protocol in a similar fashion to the open function::
2025-01-24T14:43:23.3280220Z     
2025-01-24T14:43:23.3280330Z             with load('foo.npz') as data:
2025-01-24T14:43:23.3280500Z                 a = data['a']
2025-01-24T14:43:23.3280640Z     
2025-01-24T14:43:23.3280810Z           The underlying file descriptor is closed when exiting the 'with'
2025-01-24T14:43:23.3281040Z           block.
2025-01-24T14:43:23.3281160Z     
2025-01-24T14:43:23.3281250Z         Examples
2025-01-24T14:43:23.3281500Z         --------
2025-01-24T14:43:23.3281640Z         Store data to disk, and load it again:
2025-01-24T14:43:23.3281810Z     
2025-01-24T14:43:23.3281950Z         >>> np.save('/tmp/123', np.array([[1, 2, 3], [4, 5, 6]]))
2025-01-24T14:43:23.3282160Z         >>> np.load('/tmp/123.npy')
2025-01-24T14:43:23.3282320Z         array([[1, 2, 3],
2025-01-24T14:43:23.3282460Z                [4, 5, 6]])
2025-01-24T14:43:23.3282580Z     
2025-01-24T14:43:23.3282730Z         Store compressed data to disk, and load it again:
2025-01-24T14:43:23.3282920Z     
2025-01-24T14:43:23.3283030Z         >>> a=np.array([[1, 2, 3], [4, 5, 6]])
2025-01-24T14:43:23.3283200Z         >>> b=np.array([1, 2])
2025-01-24T14:43:23.3283360Z         >>> np.savez('/tmp/123.npz', a=a, b=b)
2025-01-24T14:43:23.3283550Z         >>> data = np.load('/tmp/123.npz')
2025-01-24T14:43:23.3283710Z         >>> data['a']
2025-01-24T14:43:23.3283840Z         array([[1, 2, 3],
2025-01-24T14:43:23.3283980Z                [4, 5, 6]])
2025-01-24T14:43:23.3284110Z         >>> data['b']
2025-01-24T14:43:23.3284240Z         array([1, 2])
2025-01-24T14:43:23.3284370Z         >>> data.close()
2025-01-24T14:43:23.3284500Z     
2025-01-24T14:43:23.3284650Z         Mem-map the stored array, and then access the second row
2025-01-24T14:43:23.3284870Z         directly from disk:
2025-01-24T14:43:23.3285000Z     
2025-01-24T14:43:23.3285130Z         >>> X = np.load('/tmp/123.npy', mmap_mode='r')
2025-01-24T14:43:23.3285300Z         >>> X[1, :]
2025-01-24T14:43:23.3285420Z         memmap([4, 5, 6])
2025-01-24T14:43:23.3285550Z     
2025-01-24T14:43:23.3285640Z         """
2025-01-24T14:43:23.3285790Z         if encoding not in ('ASCII', 'latin1', 'bytes'):
2025-01-24T14:43:23.3286040Z             # The 'encoding' value for pickle also affects what encoding
2025-01-24T14:43:23.3286300Z             # the serialized binary data of NumPy arrays is loaded
2025-01-24T14:43:23.3286560Z             # in. Pickle does not pass on the encoding information to
2025-01-24T14:43:23.3286840Z             # NumPy. The unpickling code in numpy._core.multiarray is
2025-01-24T14:43:23.3287120Z             # written to assume that unicode data appearing where binary
2025-01-24T14:43:23.3287390Z             # should be is in 'latin1'. 'bytes' is also safe, as is 'ASCII'.
2025-01-24T14:43:23.3287600Z             #
2025-01-24T14:43:23.3287770Z             # Other encoding values can corrupt binary data, and we
2025-01-24T14:43:23.3288050Z             # purposefully disallow them. For the same reason, the errors=
2025-01-24T14:43:23.3288340Z             # argument is not exposed, as values other than 'strict'
2025-01-24T14:43:23.3288600Z             # result can similarly silently corrupt numerical data.
2025-01-24T14:43:23.3288890Z             raise ValueError("encoding must be 'ASCII', 'latin1', or 'bytes'")
2025-01-24T14:43:23.3289120Z     
2025-01-24T14:43:23.3289290Z         pickle_kwargs = dict(encoding=encoding, fix_imports=fix_imports)
2025-01-24T14:43:23.3289510Z     
2025-01-24T14:43:23.3289640Z         with contextlib.ExitStack() as stack:
2025-01-24T14:43:23.3289910Z             if hasattr(file, 'read'):
2025-01-24T14:43:23.3290070Z                 fid = file
2025-01-24T14:43:23.3290220Z                 own_fid = False
2025-01-24T14:43:23.3290360Z             else:
2025-01-24T14:43:23.3290530Z >               fid = stack.enter_context(open(os.fspath(file), "rb"))
2025-01-24T14:43:23.3291140Z E               FileNotFoundError: [Errno 2] No such file or directory: '/Users/runner/work/tardis/tardis/tardis-regression-data/tardis/opacities/tests/test_tau_sobolev/test_calculate_beta_sobolevs.npy'
2025-01-24T14:43:23.3291640Z 
2025-01-24T14:43:23.3291840Z micromamba_tardis/lib/python3.12/site-packages/numpy/lib/_npyio_impl.py:455: FileNotFoundError
2025-01-24T14:43:23.3292200Z =============================== warnings summary ===============================
2025-01-24T14:43:23.3292440Z tardis/io/configuration/config_validator.py:6
2025-01-24T14:43:23.3292650Z tardis/io/configuration/config_validator.py:6
2025-01-24T14:43:23.3293230Z   /Users/runner/work/tardis/tardis/tardis/io/configuration/config_validator.py:6: DeprecationWarning:
2025-01-24T14:43:23.3293580Z   
2025-01-24T14:43:23.3294500Z   jsonschema.RefResolver is deprecated as of v4.18.0, in favor of the https://github.com/python-jsonschema/referencing library, which provides more compliant referencing behavior as well as more flexible APIs for customization. A future release will remove RefResolver. Please file a feature request (on referencing) if you are missing an API for the kind of customization you need.
2025-01-24T14:43:23.3295440Z 
2025-01-24T14:43:23.3295590Z micromamba_tardis/lib/python3.12/site-packages/jupyter_client/connect.py:22
2025-01-24T14:43:23.3296120Z   /Users/runner/work/tardis/tardis/micromamba_tardis/lib/python3.12/site-packages/jupyter_client/connect.py:22: DeprecationWarning:
2025-01-24T14:43:23.3296530Z   
2025-01-24T14:43:23.3296700Z   Jupyter is migrating its paths to use standard platformdirs
2025-01-24T14:43:23.3296990Z   given by the platformdirs library.  To remove this warning and
2025-01-24T14:43:23.3297290Z   see the appropriate new directories, set the environment variable
2025-01-24T14:43:23.3297590Z   `JUPYTER_PLATFORM_DIRS=1` and then run `jupyter --paths`.
2025-01-24T14:43:23.3297870Z   The use of platformdirs will be the default in `jupyter_core` v6
2025-01-24T14:43:23.3298050Z 
2025-01-24T14:43:23.3298110Z tardis/plasma/properties/__init__.py:17
2025-01-24T14:43:23.3298460Z   /Users/runner/work/tardis/tardis/tardis/plasma/properties/__init__.py:17: DeprecationWarning:
2025-01-24T14:43:23.3298780Z   
2025-01-24T14:43:23.3299930Z   The numpy.linalg.linalg has been made private and renamed to numpy.linalg._linalg. All public functions exported by it are available from numpy.linalg. Please use numpy.linalg.LinAlgError instead.
2025-01-24T14:43:23.3300430Z 
2025-01-24T14:43:23.3300550Z tardis/transport/montecarlo/tests/test_montecarlo.py:557
2025-01-24T14:43:23.3301030Z   /Users/runner/work/tardis/tardis/tardis/transport/montecarlo/tests/test_montecarlo.py:557: PytestUnknownMarkWarning:
2025-01-24T14:43:23.3301450Z   
2025-01-24T14:43:23.3301880Z   Unknown pytest.mark.continuumtest - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
2025-01-24T14:43:23.3302310Z 
2025-01-24T14:43:23.3302420Z tardis/transport/montecarlo/tests/test_montecarlo.py:584
2025-01-24T14:43:23.3302880Z   /Users/runner/work/tardis/tardis/tardis/transport/montecarlo/tests/test_montecarlo.py:584: PytestUnknownMarkWarning:
2025-01-24T14:43:23.3303280Z   
2025-01-24T14:43:23.3303700Z   Unknown pytest.mark.continuumtest - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
2025-01-24T14:43:23.3304120Z 
2025-01-24T14:43:23.3304230Z tardis/transport/montecarlo/tests/test_montecarlo.py:605
2025-01-24T14:43:23.3304690Z   /Users/runner/work/tardis/tardis/tardis/transport/montecarlo/tests/test_montecarlo.py:605: PytestUnknownMarkWarning:
2025-01-24T14:43:23.3305480Z   
2025-01-24T14:43:23.3305890Z   Unknown pytest.mark.continuumtest - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
2025-01-24T14:43:23.3306300Z 
2025-01-24T14:43:23.3306440Z tardis/io/tests/test_HDFWriter.py::test_multi_index_write
2025-01-24T14:43:23.3306800Z tardis/visualization/widgets/tests/test_shell_info.py::TestHDFShellInfo::test_shells_data
2025-01-24T14:43:23.3307220Z   /Users/runner/work/tardis/tardis/tardis/io/util.py:276: PerformanceWarning:
2025-01-24T14:43:23.3307480Z   
2025-01-24T14:43:23.3307570Z   
2025-01-24T14:43:23.3307770Z   your performance may suffer as PyTables will pickle object types that it cannot
2025-01-24T14:43:23.3308190Z   map directly to c-types [inferred_type->mixed,key->block0_values] [items->Index([0], dtype='int64')]
2025-01-24T14:43:23.3308450Z 
2025-01-24T14:43:23.3308860Z tardis/io/tests/test_model_reader.py::test_read_cmfgen_isotope_abundances
2025-01-24T14:43:23.3309240Z tardis/plasma/tests/test_tardis_model_density_config.py::test_electron_densities
2025-01-24T14:43:23.3309640Z tardis/plasma/tests/test_tardis_model_density_config.py::test_isotope_number_densities
2025-01-24T14:43:23.3310010Z tardis/plasma/tests/test_tardis_model_density_config.py::test_t_rad
2025-01-24T14:43:23.3310530Z   /Users/runner/work/tardis/tardis/tardis/io/model/readers/cmfgen_deprecated.py:82: DeprecationWarning:
2025-01-24T14:43:23.3310870Z   
2025-01-24T14:43:23.3311010Z   The current CMFGEN model parser is deprecated
2025-01-24T14:43:23.3311150Z 
2025-01-24T14:43:23.3311230Z tardis/io/tests/test_model_reader.py: 1 warning
2025-01-24T14:43:23.3311510Z tardis/plasma/tests/test_tardis_model_density_config.py: 9 warnings
2025-01-24T14:43:23.3311930Z   /Users/runner/work/tardis/tardis/tardis/io/model/readers/cmfgen_deprecated.py:40: DeprecationWarning:
2025-01-24T14:43:23.3312280Z   
2025-01-24T14:43:23.3312410Z   The current CMFGEN model parser is deprecated
2025-01-24T14:43:23.3312550Z 
2025-01-24T14:43:23.3312710Z tardis/model/tests/test_base.py::TestModelFromPaper1Config::test_abundances
2025-01-24T14:43:23.3313210Z   /Users/runner/work/tardis/tardis/tardis/transport/montecarlo/montecarlo_main_loop.py:123: NumbaTypeSafetyWarning:
2025-01-24T14:43:23.3313600Z   
2025-01-24T14:43:23.3314000Z   [1m[1m[1munsafe cast from uint64 to int64. Precision may be lost.[0m[0m[0m
2025-01-24T14:43:23.3314200Z 
2025-01-24T14:43:23.3314280Z tardis/model/tests/test_base.py: 6 warnings
2025-01-24T14:43:23.3314490Z tardis/model/tests/test_csvy_model.py: 2 warnings
2025-01-24T14:43:23.3314760Z tardis/plasma/tests/test_tardis_model_density_config.py: 3 warnings
2025-01-24T14:43:23.3315170Z   /Users/runner/work/tardis/tardis/tardis/model/geometry/radial1d.py:50: DeprecationWarning:
2025-01-24T14:43:23.3315470Z   
2025-01-24T14:43:23.3315600Z   v_inner_boundary < 0, assuming default value
2025-01-24T14:43:23.3315740Z 
2025-01-24T14:43:23.3315810Z tardis/model/tests/test_base.py: 6 warnings
2025-01-24T14:43:23.3316030Z tardis/model/tests/test_csvy_model.py: 2 warnings
2025-01-24T14:43:23.3316300Z tardis/plasma/tests/test_tardis_model_density_config.py: 3 warnings
2025-01-24T14:43:23.3316700Z   /Users/runner/work/tardis/tardis/tardis/model/geometry/radial1d.py:61: DeprecationWarning:
2025-01-24T14:43:23.3317000Z   
2025-01-24T14:43:23.3317130Z   v_outer_boundary < 0, assuming default value
2025-01-24T14:43:23.3317270Z 
2025-01-24T14:43:23.3317510Z tardis/plasma/equilibrium/tests/test_collisional_transitions.py::test_legacy_chianti_collisional_strengths
2025-01-24T14:43:23.3318050Z tardis/plasma/equilibrium/tests/test_collisional_transitions.py::test_legacy_chianti_collisional_strengths
2025-01-24T14:43:23.3318580Z tardis/plasma/equilibrium/tests/test_collisional_transitions.py::test_legacy_chianti_collisional_strengths
2025-01-24T14:43:23.3319110Z tardis/plasma/equilibrium/tests/test_collisional_transitions.py::test_legacy_chianti_collisional_strengths
2025-01-24T14:43:23.3319920Z tardis/plasma/equilibrium/tests/test_level_populations.py::TestLevelPopulationSolver::test_calculate_level_population_simple[collisional_rate_solver0-radiative_transitions0]
2025-01-24T14:43:23.3320800Z tardis/plasma/equilibrium/tests/test_level_populations.py::TestLevelPopulationSolver::test_calculate_level_population_empty[collisional_rate_solver0-radiative_transitions0]
2025-01-24T14:43:23.3321670Z tardis/plasma/equilibrium/tests/test_level_populations.py::TestLevelPopulationSolver::test_calculate_level_population_zeros[collisional_rate_solver0-radiative_transitions0]
2025-01-24T14:43:23.3322480Z tardis/plasma/equilibrium/tests/test_level_populations.py::TestLevelPopulationSolver::test_solve[collisional_rate_solver0-radiative_transitions0]
2025-01-24T14:43:23.3323160Z tardis/plasma/equilibrium/tests/test_rate_matrix.py::test_rate_matrix_solver[collisional_rate_solver0-radiative_transitions0]
2025-01-24T14:43:23.3323730Z   /Users/runner/work/tardis/tardis/micromamba_tardis/lib/python3.12/pickle.py:323: DeprecationWarning:
2025-01-24T14:43:23.3324220Z   
2025-01-24T14:43:23.3325360Z   numpy.core.numeric is deprecated and has been renamed to numpy._core.numeric. The numpy._core namespace contains private NumPy internals and its use is discouraged, as NumPy internals can change without warning in any release. In practice, most real-world usage of numpy.core is to access functionality in the public NumPy API. If that is the case, use the public NumPy API. If not, you are using NumPy internals. If you would still like to access an internal attribute, use numpy._core.numeric._frombuffer.
2025-01-24T14:43:23.3326530Z 
2025-01-24T14:43:23.3326870Z tardis/plasma/equilibrium/tests/test_level_populations.py::TestLevelPopulationSolver::test_solve[collisional_rate_solver0-radiative_transitions0]
2025-01-24T14:43:23.3327500Z   /Users/runner/work/tardis/tardis/tardis/plasma/equilibrium/level_populations.py:65: FutureWarning:
2025-01-24T14:43:23.3327830Z   
2025-01-24T14:43:23.3328100Z   A value is trying to be set on a copy of a DataFrame or Series through chained assignment using an inplace method.
2025-01-24T14:43:23.3328710Z   The behavior will change in pandas 3.0. This inplace method will never work because the intermediate object on which we are setting values always behaves as a copy.
2025-01-24T14:43:23.3329150Z   
2025-01-24T14:43:23.3329600Z   For example, when doing 'df[col].method(value, inplace=True)', try using 'df.method({col: value}, inplace=True)' or df[col] = df[col].method(value) instead, to perform the operation inplace on the original object.
2025-01-24T14:43:23.3330070Z 
2025-01-24T14:43:23.3330230Z tardis/plasma/tests/test_plasma_vboundary.py::test_plasma_vboundary[2900-3750]
2025-01-24T14:43:23.3330610Z tardis/plasma/tests/test_plasma_vboundary.py::test_plasma_vboundary[2900-3850]
2025-01-24T14:43:23.3331110Z tardis/plasma/tests/test_plasma_vboundary.py::test_plasma_vboundary[2900-3900]
2025-01-24T14:43:23.3331510Z   /Users/runner/work/tardis/tardis/tardis/model/geometry/radial1d.py:71: UserWarning:
2025-01-24T14:43:23.3331810Z   
2025-01-24T14:43:23.3332010Z   Requesting inner boundary below inner shell. Extrapolating the inner cell
2025-01-24T14:43:23.3332220Z 
2025-01-24T14:43:23.3332390Z tardis/spectrum/tests/test_numba_formal_integral.py::test_trapezoid_integration[100.0]
2025-01-24T14:43:23.3332820Z tardis/spectrum/tests/test_numba_formal_integral.py::test_trapezoid_integration[1000.0]
2025-01-24T14:43:23.3333240Z tardis/spectrum/tests/test_numba_formal_integral.py::test_trapezoid_integration[10000.0]
2025-01-24T14:43:23.3333660Z tardis/spectrum/tests/test_numba_formal_integral.py::test_trapezoid_integration[100000.0]
2025-01-24T14:43:23.3334170Z   /Users/runner/work/tardis/tardis/tardis/spectrum/tests/test_numba_formal_integral.py:35: DeprecationWarning:
2025-01-24T14:43:23.3334650Z   
2025-01-24T14:43:23.3334950Z   `trapz` is deprecated. Use `trapezoid` instead, or one of the numerical integration functions in `scipy.integrate`.
2025-01-24T14:43:23.3335240Z 
2025-01-24T14:43:23.3335630Z tardis/spectrum/tests/test_spectrum_solver.py::TestSpectrumSolver::test_solve
2025-01-24T14:43:23.3336030Z   /Users/runner/work/tardis/tardis/tardis/spectrum/base.py:70: UserWarning:
2025-01-24T14:43:23.3336310Z   
2025-01-24T14:43:23.3336620Z   SpectrumSolver.spectrum_virtual_packets is zero. Please run the montecarlo simulation with no_of_virtual_packets > 0
2025-01-24T14:43:23.3336940Z 
2025-01-24T14:43:23.3337470Z tardis/spectrum/tests/test_spectrum_solver.py::TestSpectrumSolver::test_solve
2025-01-24T14:43:23.3344180Z   /Users/runner/work/tardis/tardis/tardis/spectrum/base.py:111: UserWarning:
2025-01-24T14:43:23.3344520Z   
2025-01-24T14:43:23.3344840Z   SpectrumSolver.integrator: The FormalIntegrator is not yet available.Please run the montecarlo simulation at least once.
2025-01-24T14:43:23.3345170Z 
2025-01-24T14:43:23.3345330Z tardis/tests/test_util.py::test_calculate_luminosity[string_io0-100 km-result0]
2025-01-24T14:43:23.3345700Z tardis/tests/test_util.py::test_calculate_luminosity[string_io1-500 km-result1]
2025-01-24T14:43:23.3346390Z   /Users/runner/work/tardis/tardis/tardis/util/base.py:188: DeprecationWarning:
2025-01-24T14:43:23.3346670Z   
2025-01-24T14:43:23.3346950Z   `trapz` is deprecated. Use `trapezoid` instead, or one of the numerical integration functions in `scipy.integrate`.
2025-01-24T14:43:23.3347230Z 
2025-01-24T14:43:23.3347360Z tardis/visualization/tools/tests/test_sdec_plot.py: 48 warnings
2025-01-24T14:43:23.3347780Z   /Users/runner/work/tardis/tardis/tardis/visualization/tools/sdec_plot.py:736: DeprecationWarning:
2025-01-24T14:43:23.3348110Z   
2025-01-24T14:43:23.3348230Z   `in1d` is deprecated. Use `np.isin` instead.
2025-01-24T14:43:23.3348370Z 
2025-01-24T14:43:23.3348500Z tardis/visualization/tools/tests/test_sdec_plot.py: 48 warnings
2025-01-24T14:43:23.3348910Z   /Users/runner/work/tardis/tardis/tardis/visualization/tools/sdec_plot.py:758: DeprecationWarning:
2025-01-24T14:43:23.3349240Z   
2025-01-24T14:43:23.3349360Z   `in1d` is deprecated. Use `np.isin` instead.
2025-01-24T14:43:23.3349510Z 
2025-01-24T14:43:23.3349630Z tardis/visualization/tools/tests/test_sdec_plot.py: 48 warnings
2025-01-24T14:43:23.3350050Z   /Users/runner/work/tardis/tardis/tardis/visualization/tools/sdec_plot.py:779: DeprecationWarning:
2025-01-24T14:43:23.3350370Z   
2025-01-24T14:43:23.3350770Z   `in1d` is deprecated. Use `np.isin` instead.
2025-01-24T14:43:23.3350920Z 
2025-01-24T14:43:23.3351220Z tardis/visualization/tools/tests/test_sdec_plot.py::TestSDECPlotter::test_mpl_image[plotter_generate_plot_mpl4]
2025-01-24T14:43:23.3351740Z   /Users/runner/work/tardis/tardis/tardis/visualization/tools/sdec_plot.py:1225: RuntimeWarning:
2025-01-24T14:43:23.3352060Z   
2025-01-24T14:43:23.3352760Z   More than 20 figures have been opened. Figures created through the pyplot interface (`matplotlib.pyplot.figure`) are retained until explicitly closed and may consume too much memory. (To control this warning, see the rcParam `figure.max_open_warning`). Consider using `matplotlib.pyplot.close()`.
2025-01-24T14:43:23.3353480Z 
2025-01-24T14:43:23.3353760Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-01-24T14:43:23.3354350Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-01-24T14:43:23.3354930Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-01-24T14:43:23.3355520Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-01-24T14:43:23.3356110Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-01-24T14:43:23.3356700Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-01-24T14:43:23.3357330Z   /Users/runner/work/tardis/tardis/micromamba_tardis/lib/python3.12/site-packages/traitlets/traitlets.py:1385: DeprecationWarning:
2025-01-24T14:43:23.3357870Z   
2025-01-24T14:43:23.3358070Z   Passing unrecognized arguments to super(Checkbox).__init__(icon='lock').
2025-01-24T14:43:23.3358420Z   object.__init__() takes exactly one argument (the instance to initialize)
2025-01-24T14:43:23.3358790Z   This is deprecated in traitlets 4.2.This error will be raised in a future release of traitlets.
2025-01-24T14:43:23.3359040Z 
2025-01-24T14:43:23.3359310Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-01-24T14:43:23.3359900Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-01-24T14:43:23.3360520Z   /Users/runner/work/tardis/tardis/micromamba_tardis/lib/python3.12/site-packages/traitlets/traitlets.py:1385: DeprecationWarning:
2025-01-24T14:43:23.3360930Z   
2025-01-24T14:43:23.3361120Z   Passing unrecognized arguments to super(FloatText).__init__(min=0).
2025-01-24T14:43:23.3361640Z   object.__init__() takes exactly one argument (the instance to initialize)
2025-01-24T14:43:23.3362010Z   This is deprecated in traitlets 4.2.This error will be raised in a future release of traitlets.
2025-01-24T14:43:23.3362240Z 
2025-01-24T14:43:23.3362500Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-01-24T14:43:23.3363110Z   /Users/runner/work/tardis/tardis/micromamba_tardis/lib/python3.12/site-packages/traitlets/traitlets.py:1385: DeprecationWarning:
2025-01-24T14:43:23.3363500Z   
2025-01-24T14:43:23.3363680Z   Passing unrecognized arguments to super(HTML).__init__(indent=True).
2025-01-24T14:43:23.3363990Z   object.__init__() takes exactly one argument (the instance to initialize)
2025-01-24T14:43:23.3364360Z   This is deprecated in traitlets 4.2.This error will be raised in a future release of traitlets.
2025-01-24T14:43:23.3364590Z 
2025-01-24T14:43:23.3364910Z tardis/visualization/widgets/tests/test_line_info.py::TestLineInfoWidgetData::test_get_species_interactions[wavelength_range0-packet_out_nu]
2025-01-24T14:43:23.3365560Z   /Users/runner/work/tardis/tardis/micromamba_tardis/lib/python3.12/site-packages/qgridnext/grid.py:825: DeprecationWarning:
2025-01-24T14:43:23.3365930Z   
2025-01-24T14:43:23.3366190Z   QgridWidget._grid_options_changed is deprecated in traitlets 4.1: use @observe and @unobserve instead.
2025-01-24T14:43:23.3366450Z 
2025-01-24T14:43:23.3366640Z tardis/visualization/widgets/tests/test_shell_info.py::TestHDFShellInfo::test_shells_data
2025-01-24T14:43:23.3367040Z   /Users/runner/work/tardis/tardis/tardis/io/util.py:289: PerformanceWarning:
2025-01-24T14:43:23.3367300Z   
2025-01-24T14:43:23.3367390Z   
2025-01-24T14:43:23.3367590Z   your performance may suffer as PyTables will pickle object types that it cannot
2025-01-24T14:43:23.3367980Z   map directly to c-types [inferred_type->mixed,key->block0_values] [items->Index([0], dtype='int64')]
2025-01-24T14:43:23.3368230Z 
2025-01-24T14:43:23.3368430Z tardis/visualization/widgets/tests/test_shell_info.py::TestHDFShellInfo::test_shells_data
2025-01-24T14:43:23.3368820Z   /Users/runner/work/tardis/tardis/tardis/io/util.py:292: PerformanceWarning:
2025-01-24T14:43:23.3369080Z   
2025-01-24T14:43:23.3369170Z   
2025-01-24T14:43:23.3369370Z   your performance may suffer as PyTables will pickle object types that it cannot
2025-01-24T14:43:23.3369710Z   map directly to c-types [inferred_type->mixed,key->values] [items->None]
2025-01-24T14:43:23.3369900Z 
2025-01-24T14:43:23.3370080Z tardis/visualization/widgets/tests/test_shell_info.py::TestHDFShellInfo::test_shells_data
2025-01-24T14:43:23.3370510Z   /Users/runner/work/tardis/tardis/tardis/spectrum/formal_integral.py:398: UserWarning:
2025-01-24T14:43:23.3370790Z   
2025-01-24T14:43:23.3370980Z   The number of interpolate_shells was not specified. The value was set to 80.
2025-01-24T14:43:23.3371190Z 
2025-01-24T14:43:23.3371330Z -- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
2025-01-24T14:43:23.3371590Z 
2025-01-24T14:43:23.3371710Z ---------- coverage: platform darwin, python 3.12.4-final-0 ----------
2025-01-24T14:43:23.3371970Z Coverage HTML written to dir coverage_html_report
2025-01-24T14:43:23.3372180Z Coverage XML written to file coverage.xml
2025-01-24T14:43:23.3372310Z 
2025-01-24T14:43:23.3372390Z =========================== short test summary info ============================
2025-01-24T14:43:23.3373160Z FAILED tardis/opacities/tests/test_tau_sobolev.py::test_calculate_sobolev_line_opacity - FileNotFoundError: File /Users/runner/work/tardis/tardis/tardis-regression-data/tardis/opacities/tests/test_tau_sobolev/test_calculate_sobolev_line_opacity.h5 does not exist
2025-01-24T14:43:23.3374430Z FAILED tardis/opacities/tests/test_tau_sobolev.py::test_calculate_beta_sobolevs - FileNotFoundError: [Errno 2] No such file or directory: '/Users/runner/work/tardis/tardis/tardis-regression-data/tardis/opacities/tests/test_tau_sobolev/test_calculate_beta_sobolevs.npy'
2025-01-24T14:43:23.3375400Z = 2 failed, 1408 passed, 357 skipped, 2 deselected, 19 xfailed, 8 xpassed, 225 warnings in 631.64s (0:10:31) =
2025-01-24T14:43:24.8248550Z ##[error]Process completed with exit code 1.
