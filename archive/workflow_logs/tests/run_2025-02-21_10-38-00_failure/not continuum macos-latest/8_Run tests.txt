2025-02-21T10:40:45.6049730Z ##[group]Run pytest tardis --tardis-regression-data=/Users/runner/work/tardis/tardis/tardis-regression-data --cov=tardis --cov-report=xml --cov-report=html --cov-append -m "not continuum"
2025-02-21T10:40:45.6050770Z [36;1mpytest tardis --tardis-regression-data=/Users/runner/work/tardis/tardis/tardis-regression-data --cov=tardis --cov-report=xml --cov-report=html --cov-append -m "not continuum"[0m
2025-02-21T10:40:45.6107660Z shell: /bin/bash -l {0}
2025-02-21T10:40:45.6107890Z env:
2025-02-21T10:40:45.6108040Z   CACHE_NUMBER: 0
2025-02-21T10:40:45.6108600Z   PYTEST_FLAGS: --tardis-regression-data=/Users/runner/work/tardis/tardis/tardis-regression-data --cov=tardis --cov-report=xml --cov-report=html --cov-append
2025-02-21T10:40:45.6109140Z   CODECOV_TOKEN: 
2025-02-21T10:40:45.6109340Z   MAMBA_ROOT_PREFIX: /Users/runner/micromamba
2025-02-21T10:40:45.6109600Z   MAMBA_EXE: /Users/runner/micromamba-bin/micromamba
2025-02-21T10:40:45.6109910Z   CONDARC: /Users/runner/work/_temp/setup-micromamba/.condarc
2025-02-21T10:40:45.6110230Z ##[endgroup]
2025-02-21T10:41:05.7194680Z ============================= test session starts ==============================
2025-02-21T10:41:05.7201540Z platform darwin -- Python 3.12.4, pytest-8.2.2, pluggy-1.5.0
2025-02-21T10:41:05.7207880Z rootdir: /Users/runner/work/tardis/tardis
2025-02-21T10:41:05.7211060Z configfile: pyproject.toml
2025-02-21T10:41:05.7211870Z plugins: cov-5.0.0, html-4.1.1, metadata-3.1.1, doctestplus-1.2.1, anyio-4.4.0
2025-02-21T10:41:05.7215290Z collected 1796 items / 2 deselected / 1794 selected
2025-02-21T10:41:05.7215910Z 
2025-02-21T10:41:12.7234730Z tardis/energy_input/tests/test_energy_source.py ..xxx                    [  0%]
2025-02-21T10:41:16.1313080Z tardis/energy_input/tests/test_gamma_ray_channel.py ...........          [  0%]
2025-02-21T10:41:18.0090460Z tardis/energy_input/tests/test_gamma_ray_grid.py xx.                     [  1%]
2025-02-21T10:41:19.5789670Z tardis/energy_input/tests/test_gamma_ray_interactions.py xx....          [  1%]
2025-02-21T10:41:19.5807240Z tardis/energy_input/tests/test_gamma_ray_packet_source.py sssssssss      [  1%]
2025-02-21T10:41:21.0684620Z tardis/energy_input/tests/test_util.py .....xxxx.....                    [  2%]
2025-02-21T10:41:21.5057040Z tardis/grid/tests/test_grid.py .                                         [  2%]
2025-02-21T10:41:21.5066880Z tardis/gui/tests/test_gui.py s                                           [  2%]
2025-02-21T10:41:25.8375990Z tardis/io/configuration/tests/test_config_reader.py ...........          [  3%]
2025-02-21T10:41:25.8515270Z tardis/io/configuration/tests/test_configuration_namespace.py .........  [  3%]
2025-02-21T10:41:25.8909640Z tardis/io/logger/tests/test_logging.py ssssssssssssssssssssssssssss      [  5%]
2025-02-21T10:42:02.2564610Z tardis/io/model/readers/tests/test_arepo_parser.py ..                    [  5%]
2025-02-21T10:42:02.3022520Z tardis/io/model/readers/tests/test_ascii_readers.py ...                  [  5%]
2025-02-21T10:42:02.3161350Z tardis/io/model/readers/tests/test_cmfgen_reader.py ..                   [  5%]
2025-02-21T10:42:02.3510730Z tardis/io/model/readers/tests/test_csvy_reader.py ....                   [  6%]
2025-02-21T10:42:02.3809580Z tardis/io/model/readers/tests/test_stella_reader.py ..                   [  6%]
2025-02-21T10:42:02.7326880Z tardis/io/tests/test_HDFWriter.py ...............                        [  7%]
2025-02-21T10:42:03.3228270Z tardis/io/tests/test_atomic.py .....                                     [  7%]
2025-02-21T10:42:03.4034380Z tardis/io/tests/test_decay.py ..                                         [  7%]
2025-02-21T10:42:03.6047200Z tardis/io/tests/test_model_reader.py ......                              [  7%]
2025-02-21T10:42:03.6101690Z tardis/model/geometry/tests/test_radial1d.py ..                          [  7%]
2025-02-21T10:42:37.8797740Z tardis/model/tests/test_base.py ........................................ [ 10%]
2025-02-21T10:42:38.7221360Z ............                                                             [ 10%]
2025-02-21T10:42:41.2659310Z tardis/model/tests/test_csvy_model.py .........                          [ 11%]
2025-02-21T10:42:41.3028580Z tardis/model/tests/test_density.py ..                                    [ 11%]
2025-02-21T10:42:43.0290120Z tardis/opacities/tests/test_opacity_solver.py .....                      [ 11%]
2025-02-21T10:42:44.3149090Z tardis/opacities/tests/test_opacity_state_numba.py .....                 [ 11%]
2025-02-21T10:42:46.9480580Z tardis/opacities/tests/test_tau_sobolev.py ..                            [ 12%]
2025-02-21T10:42:49.9719560Z tardis/plasma/equilibrium/tests/test_collisional_transitions.py ...      [ 12%]
2025-02-21T10:43:45.9193060Z tardis/plasma/equilibrium/tests/test_level_populations.py ....           [ 12%]
2025-02-21T10:43:59.6734350Z tardis/plasma/equilibrium/tests/test_rate_matrix.py .                    [ 12%]
2025-02-21T10:44:01.5778940Z tardis/plasma/tests/test_complete_plasmas.py ..............s......s..... [ 13%]
2025-02-21T10:44:05.0389350Z s....ssssss............s......s.....ss.....s....ssssss............s..... [ 18%]
2025-02-21T10:44:06.8091450Z .s.....ss.....s....ssssss............s......s.....ss.....s....ssssss.... [ 22%]
2025-02-21T10:44:09.9740620Z ........s......s.....ss.....s....ssssss............s......s.....ss.....s [ 26%]
2025-02-21T10:44:12.9883670Z ....ssssss............s......s.....ss.....s....ssssss............s...... [ 30%]
2025-02-21T10:44:13.7554200Z s.....ss.....s....ssssss............s......s.....ss.....s.ss.ssssss..... [ 34%]
2025-02-21T10:44:16.7263490Z .......s......s.....ss.....s....ssssss............s......s.....ss.....s. [ 38%]
2025-02-21T10:44:20.2593260Z ...ssssss............s......s.....ss.....s....ssssss............s......s [ 42%]
2025-02-21T10:44:23.6560860Z .....ss.....s....ssssss............s......s.....s...........ssssss...... [ 46%]
2025-02-21T10:44:25.8098940Z ......s......s.....s...........ssssss............s......s.....s......... [ 50%]
2025-02-21T10:44:28.9660620Z ..ssssss............s......s.....ss.....s....ssssss............s......s. [ 54%]
2025-02-21T10:44:32.6829490Z ....ss.....s....ssssss...................s......s.....s....ssss......... [ 58%]
2025-02-21T10:44:33.0978880Z ............s......s.....s....ssss.......                                [ 60%]
2025-02-21T10:44:33.4047960Z tardis/plasma/tests/test_hdf_plasma.py ................................. [ 62%]
2025-02-21T10:44:33.4169010Z ......                                                                   [ 62%]
2025-02-21T10:44:33.8217170Z tardis/plasma/tests/test_nlte_excitation.py ...                          [ 62%]
2025-02-21T10:47:02.8861720Z tardis/plasma/tests/test_nlte_solver.py .....X                           [ 63%]
2025-02-21T10:47:02.8918350Z tardis/plasma/tests/test_plasma_continuum.py .                           [ 63%]
2025-02-21T10:47:37.5514600Z tardis/plasma/tests/test_plasma_vboundary.py .............               [ 63%]
2025-02-21T10:47:54.1498030Z tardis/plasma/tests/test_tardis_model_density_config.py ...              [ 64%]
2025-02-21T10:47:55.0593460Z tardis/simulation/tests/test_convergence.py .....                        [ 64%]
2025-02-21T10:48:05.6235270Z tardis/simulation/tests/test_simulation.py .............                 [ 65%]
2025-02-21T10:48:05.6338130Z tardis/spectrum/tests/test_cuda_formal_integral.py sssssssssssssssssssss [ 66%]
2025-02-21T10:48:05.9402810Z ssss...ssssssssssssssssssssss                                            [ 67%]
2025-02-21T10:48:05.9455890Z tardis/spectrum/tests/test_luminosity.py ....                            [ 68%]
2025-02-21T10:48:07.0113210Z tardis/spectrum/tests/test_numba_formal_integral.py .................... [ 69%]
2025-02-21T10:48:07.0225260Z ..........                                                               [ 69%]
2025-02-21T10:48:07.1611930Z tardis/spectrum/tests/test_spectrum.py ................................. [ 71%]
2025-02-21T10:48:07.1854930Z .........                                                                [ 72%]
2025-02-21T10:48:07.2596610Z tardis/spectrum/tests/test_spectrum_solver.py .FFF                       [ 72%]
2025-02-21T10:48:42.1252550Z tardis/tests/test_tardis_full.py .FFF                                    [ 72%]
2025-02-21T10:50:25.3090860Z tardis/tests/test_tardis_full_formal_integral.py ................        [ 73%]
2025-02-21T10:50:25.3567030Z tardis/tests/test_util.py .............................................  [ 75%]
2025-02-21T10:50:27.6732990Z tardis/transport/montecarlo/tests/test_base.py x.....................    [ 77%]
2025-02-21T10:50:32.7558060Z tardis/transport/montecarlo/tests/test_interaction.py .......            [ 77%]
2025-02-21T10:50:32.9305410Z tardis/transport/montecarlo/tests/test_macro_atom.py ....                [ 77%]
2025-02-21T10:50:32.9439710Z tardis/transport/montecarlo/tests/test_montecarlo.py sssssssssssssssssss [ 78%]
2025-02-21T10:50:32.9708950Z sssssssssssssssssssssssssssssssssssssssssssss                            [ 81%]
2025-02-21T10:50:41.4867590Z tardis/transport/montecarlo/tests/test_montecarlo_main_loop.py x..       [ 81%]
2025-02-21T10:50:41.4947340Z tardis/transport/montecarlo/tests/test_nonhomologous.py ...              [ 81%]
2025-02-21T10:50:43.6665090Z tardis/transport/montecarlo/tests/test_numba_interface.py .....x.        [ 82%]
2025-02-21T10:50:44.0148720Z tardis/transport/montecarlo/tests/test_opacities.py ...............      [ 82%]
2025-02-21T10:50:44.7685160Z tardis/transport/montecarlo/tests/test_packet.py .................xXXXXX [ 84%]
2025-02-21T10:50:44.8665060Z XX.........                                                              [ 84%]
2025-02-21T10:50:44.8928410Z tardis/transport/montecarlo/tests/test_packet_source.py ........         [ 85%]
2025-02-21T10:50:45.1352140Z tardis/transport/montecarlo/tests/test_rpacket_last_interaction_tracker.py . [ 85%]
2025-02-21T10:50:45.4479120Z .....                                                                    [ 85%]
2025-02-21T10:50:55.8770940Z tardis/transport/montecarlo/tests/test_rpacket_tracker.py ......         [ 85%]
2025-02-21T10:50:55.9071220Z tardis/transport/montecarlo/tests/test_single_packet_loop.py xxx         [ 86%]
2025-02-21T10:50:55.9111830Z tardis/transport/montecarlo/tests/test_tracker_utils.py ..               [ 86%]
2025-02-21T10:50:57.3407040Z tardis/transport/montecarlo/tests/test_vpacket.py ..x.                   [ 86%]
2025-02-21T10:50:57.3601150Z tardis/transport/montecarlo/tests/test_weighted_packet_source.py ....    [ 86%]
2025-02-21T10:51:00.4039290Z tardis/transport/montecarlo/tests/test_weighted_packet_source_integration.py . [ 86%]
2025-02-21T10:51:00.4042200Z                                                                          [ 86%]
2025-02-21T10:51:01.4883650Z tardis/transport/tests/test_doppler_factor.py ..................         [ 87%]
2025-02-21T10:51:03.1909260Z tardis/visualization/tools/tests/test_convergence_plot.py .............. [ 88%]
2025-02-21T10:51:04.9730530Z ......                                                                   [ 88%]
2025-02-21T10:51:08.7684960Z tardis/visualization/tools/tests/test_liv_plot.py ...................... [ 90%]
2025-02-21T10:51:12.1166160Z .............................                                            [ 91%]
2025-02-21T10:51:14.6842700Z tardis/visualization/tools/tests/test_rpacket_plot.py .................. [ 92%]
2025-02-21T10:51:21.3252960Z ....                                                                     [ 92%]
2025-02-21T10:51:25.8782720Z tardis/visualization/tools/tests/test_sdec_plot.py ..................... [ 94%]
2025-02-21T10:51:31.7075360Z ..............................                                           [ 95%]
2025-02-21T10:51:32.0827030Z tardis/visualization/widgets/tests/test_custom_abundance.py ........ss.. [ 96%]
2025-02-21T10:51:32.1355130Z ....                                                                     [ 96%]
2025-02-21T10:51:32.9756420Z tardis/visualization/widgets/tests/test_line_info.py ................... [ 97%]
2025-02-21T10:51:33.5696690Z ..................                                                       [ 98%]
2025-02-21T10:54:41.7919760Z tardis/visualization/widgets/tests/test_shell_info.py .................. [ 99%]
2025-02-21T10:54:49.6828080Z ......                                                                   [100%]
2025-02-21T10:54:49.6841520Z 
2025-02-21T10:54:49.6841930Z =================================== FAILURES ===================================
2025-02-21T10:54:49.6842660Z ________________ TestSpectrumSolver.test_spectrum_real_packets _________________
2025-02-21T10:54:49.6843040Z 
2025-02-21T10:54:49.6843390Z self = <tardis.spectrum.tests.test_spectrum_solver.TestSpectrumSolver object at 0x141669a00>
2025-02-21T10:54:49.6844480Z simulation_regression_data = <tardis.simulation.base.Simulation object at 0x143824a70>
2025-02-21T10:54:49.6844910Z 
2025-02-21T10:54:49.6845690Z     def test_spectrum_real_packets(self, simulation_regression_data):
2025-02-21T10:54:49.6846330Z         transport_state = simulation_regression_data.transport.transport_state
2025-02-21T10:54:49.6847790Z         spectrum_frequency_grid = simulation_regression_data.transport.spectrum_frequency_grid
2025-02-21T10:54:49.6849120Z     
2025-02-21T10:54:49.6849530Z         solver = SpectrumSolver(transport_state, spectrum_frequency_grid, None)
2025-02-21T10:54:49.6850660Z         result = solver.spectrum_real_packets.luminosity
2025-02-21T10:54:49.6887850Z         key = "simulation/spectrum_solver/spectrum_real_packets/luminosity"
2025-02-21T10:54:49.6888430Z         expected = self.get_expected_data(key)
2025-02-21T10:54:49.6888780Z     
2025-02-21T10:54:49.6889110Z         luminosity = u.Quantity(expected, "erg /s")
2025-02-21T10:54:49.6889460Z     
2025-02-21T10:54:49.6889810Z >       assert_quantity_allclose(
2025-02-21T10:54:49.6890130Z             result,
2025-02-21T10:54:49.6890470Z             luminosity,
2025-02-21T10:54:49.6890760Z         )
2025-02-21T10:54:49.6895120Z 
2025-02-21T10:54:49.6895450Z tardis/spectrum/tests/test_spectrum_solver.py:61: 
2025-02-21T10:54:49.6895900Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-02-21T10:54:49.6896520Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/astropy/tests/helper.py:203: in assert_quantity_allclose
2025-02-21T10:54:49.6897470Z     np.testing.assert_allclose(
2025-02-21T10:54:49.7047420Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-02-21T10:54:49.7165010Z 
2025-02-21T10:54:49.7265180Z args = (<function assert_allclose.<locals>.compare at 0x15d28d620>, array([0.00000000e+00, 0.00000000e+00, 2.76120259e+39, .....), array([1.33511090e+39, 1.33738696e+39, 9.41598476e+38, ...,
2025-02-21T10:54:49.7285660Z        0.00000000e+00, 0.00000000e+00, 0.00000000e+00]))
2025-02-21T10:54:49.7300540Z kwds = {'equal_nan': True, 'err_msg': '', 'header': 'Not equal to tolerance rtol=1e-07, atol=0', 'verbose': True}
2025-02-21T10:54:49.7300950Z 
2025-02-21T10:54:49.7301160Z     @wraps(func)
2025-02-21T10:54:49.7301560Z     def inner(*args, **kwds):
2025-02-21T10:54:49.7414950Z         with self._recreate_cm():
2025-02-21T10:54:49.7415580Z >           return func(*args, **kwds)
2025-02-21T10:54:49.7417600Z E           AssertionError: 
2025-02-21T10:54:49.7417980Z E           Not equal to tolerance rtol=1e-07, atol=0
2025-02-21T10:54:49.7418210Z E           
2025-02-21T10:54:49.7418460Z E           Mismatched elements: 4355 / 10000 (43.5%)
2025-02-21T10:54:49.7418780Z E           Max absolute difference: 1.94155993e+40
2025-02-21T10:54:49.7419070Z E           Max relative difference: 137.15340685
2025-02-21T10:54:49.7419350Z E            x: array([0.000000e+00, 0.000000e+00, 2.761203e+39, ..., 0.000000e+00,
2025-02-21T10:54:49.7419620Z E                  0.000000e+00, 0.000000e+00])
2025-02-21T10:54:49.7419890Z E            y: array([1.335111e+39, 1.337387e+39, 9.415985e+38, ..., 0.000000e+00,
2025-02-21T10:54:49.7420150Z E                  0.000000e+00, 0.000000e+00])
2025-02-21T10:54:49.7420370Z 
2025-02-21T10:54:49.7420550Z ../../../micromamba/envs/tardis/lib/python3.12/contextlib.py:81: AssertionError
2025-02-21T10:54:49.7535400Z ___________ TestSpectrumSolver.test_spectrum_real_packets_reabsorbed ___________
2025-02-21T10:54:49.7536060Z 
2025-02-21T10:54:49.7536610Z self = <tardis.spectrum.tests.test_spectrum_solver.TestSpectrumSolver object at 0x14166b8c0>
2025-02-21T10:54:49.7537850Z simulation_regression_data = <tardis.simulation.base.Simulation object at 0x143824a70>
2025-02-21T10:54:49.7538560Z 
2025-02-21T10:54:49.7538990Z     def test_spectrum_real_packets_reabsorbed(self, simulation_regression_data):
2025-02-21T10:54:49.7540110Z         transport_state = simulation_regression_data.transport.transport_state
2025-02-21T10:54:49.7541940Z         spectrum_frequency_grid = simulation_regression_data.transport.spectrum_frequency_grid
2025-02-21T10:54:49.7542380Z     
2025-02-21T10:54:49.7542720Z         solver = SpectrumSolver(transport_state, spectrum_frequency_grid, None)
2025-02-21T10:54:49.7543270Z         result = solver.spectrum_real_packets_reabsorbed.luminosity
2025-02-21T10:54:49.7543720Z         key = "simulation/spectrum_solver/spectrum_real_packets_reabsorbed/luminosity"
2025-02-21T10:54:49.7544170Z         expected = self.get_expected_data(key)
2025-02-21T10:54:49.7544490Z     
2025-02-21T10:54:49.7544750Z         luminosity = u.Quantity(expected, "erg /s")
2025-02-21T10:54:49.7545000Z     
2025-02-21T10:54:49.7545190Z >       assert_quantity_allclose(
2025-02-21T10:54:49.7545410Z             result,
2025-02-21T10:54:49.7545670Z             luminosity,
2025-02-21T10:54:49.7545920Z         )
2025-02-21T10:54:49.7546060Z 
2025-02-21T10:54:49.7546220Z tardis/spectrum/tests/test_spectrum_solver.py:77: 
2025-02-21T10:54:49.7546480Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-02-21T10:54:49.7546980Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/astropy/tests/helper.py:203: in assert_quantity_allclose
2025-02-21T10:54:49.7547560Z     np.testing.assert_allclose(
2025-02-21T10:54:49.7547840Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-02-21T10:54:49.7548080Z 
2025-02-21T10:54:49.7548450Z args = (<function assert_allclose.<locals>.compare at 0x15d225da0>, array([0., 0., 0., ..., 0., 0., 0.]), array([2.03920412e+38, 3.72882494e+38, 2.29646943e+38, ...,
2025-02-21T10:54:49.7549000Z        0.00000000e+00, 0.00000000e+00, 0.00000000e+00]))
2025-02-21T10:54:49.7549460Z kwds = {'equal_nan': True, 'err_msg': '', 'header': 'Not equal to tolerance rtol=1e-07, atol=0', 'verbose': True}
2025-02-21T10:54:49.7549740Z 
2025-02-21T10:54:49.7549790Z     @wraps(func)
2025-02-21T10:54:49.7550060Z     def inner(*args, **kwds):
2025-02-21T10:54:49.7550360Z         with self._recreate_cm():
2025-02-21T10:54:49.7550660Z >           return func(*args, **kwds)
2025-02-21T10:54:49.7550920Z E           AssertionError: 
2025-02-21T10:54:49.7551220Z E           Not equal to tolerance rtol=1e-07, atol=0
2025-02-21T10:54:49.7551480Z E           
2025-02-21T10:54:49.7551750Z E           Mismatched elements: 4491 / 10000 (44.9%)
2025-02-21T10:54:49.7552550Z E           Max absolute difference: 1.0639846e+40
2025-02-21T10:54:49.7552870Z E           Max relative difference: 122.79315318
2025-02-21T10:54:49.7553200Z E            x: array([0., 0., 0., ..., 0., 0., 0.])
2025-02-21T10:54:49.7553560Z E            y: array([2.039204e+38, 3.728825e+38, 2.296469e+38, ..., 0.000000e+00,
2025-02-21T10:54:49.7553870Z E                  0.000000e+00, 0.000000e+00])
2025-02-21T10:54:49.7554070Z 
2025-02-21T10:54:49.7554360Z ../../../micromamba/envs/tardis/lib/python3.12/contextlib.py:81: AssertionError
2025-02-21T10:54:49.7554800Z ________________________ TestSpectrumSolver.test_solve _________________________
2025-02-21T10:54:49.7555070Z 
2025-02-21T10:54:49.7555340Z self = <tardis.spectrum.tests.test_spectrum_solver.TestSpectrumSolver object at 0x14166a750>
2025-02-21T10:54:49.7555930Z simulation_regression_data = <tardis.simulation.base.Simulation object at 0x143824a70>
2025-02-21T10:54:49.7556240Z 
2025-02-21T10:54:49.7556390Z     def test_solve(self, simulation_regression_data):
2025-02-21T10:54:49.7557120Z         transport_state = simulation_regression_data.transport.transport_state
2025-02-21T10:54:49.7557710Z         spectrum_frequency_grid = simulation_regression_data.transport.spectrum_frequency_grid
2025-02-21T10:54:49.7558070Z     
2025-02-21T10:54:49.7558400Z         solver = SpectrumSolver(transport_state, spectrum_frequency_grid, None)
2025-02-21T10:54:49.7558860Z         result_real, result_virtual, result_integrated = solver.solve(
2025-02-21T10:54:49.7559170Z             transport_state
2025-02-21T10:54:49.7559430Z         )
2025-02-21T10:54:49.7559710Z         key_real = "simulation/spectrum_solver/spectrum_real_packets/luminosity"
2025-02-21T10:54:49.7560120Z         expected_real = self.get_expected_data(key_real)
2025-02-21T10:54:49.7560370Z     
2025-02-21T10:54:49.7561090Z         luminosity_real = u.Quantity(expected_real, "erg /s")
2025-02-21T10:54:49.7561380Z     
2025-02-21T10:54:49.7561610Z >       assert_quantity_allclose(
2025-02-21T10:54:49.7561810Z             result_real.luminosity,
2025-02-21T10:54:49.7562050Z             luminosity_real,
2025-02-21T10:54:49.7562260Z         )
2025-02-21T10:54:49.7562340Z 
2025-02-21T10:54:49.7562430Z tardis/spectrum/tests/test_spectrum_solver.py:95: 
2025-02-21T10:54:49.7562700Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-02-21T10:54:49.7563130Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/astropy/tests/helper.py:203: in assert_quantity_allclose
2025-02-21T10:54:49.7563530Z     np.testing.assert_allclose(
2025-02-21T10:54:49.7563750Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-02-21T10:54:49.7563970Z 
2025-02-21T10:54:49.7564340Z args = (<function assert_allclose.<locals>.compare at 0x15d225a80>, array([0.00000000e+00, 0.00000000e+00, 2.76120259e+39, .....), array([1.33511090e+39, 1.33738696e+39, 9.41598476e+38, ...,
2025-02-21T10:54:49.7564870Z        0.00000000e+00, 0.00000000e+00, 0.00000000e+00]))
2025-02-21T10:54:49.7565230Z kwds = {'equal_nan': True, 'err_msg': '', 'header': 'Not equal to tolerance rtol=1e-07, atol=0', 'verbose': True}
2025-02-21T10:54:49.7565500Z 
2025-02-21T10:54:49.7565550Z     @wraps(func)
2025-02-21T10:54:49.7565760Z     def inner(*args, **kwds):
2025-02-21T10:54:49.7565940Z         with self._recreate_cm():
2025-02-21T10:54:49.7566130Z >           return func(*args, **kwds)
2025-02-21T10:54:49.7566320Z E           AssertionError: 
2025-02-21T10:54:49.7566550Z E           Not equal to tolerance rtol=1e-07, atol=0
2025-02-21T10:54:49.7566810Z E           
2025-02-21T10:54:49.7567020Z E           Mismatched elements: 4355 / 10000 (43.5%)
2025-02-21T10:54:49.7567250Z E           Max absolute difference: 1.94155993e+40
2025-02-21T10:54:49.7567480Z E           Max relative difference: 137.15340685
2025-02-21T10:54:49.7567750Z E            x: array([0.000000e+00, 0.000000e+00, 2.761203e+39, ..., 0.000000e+00,
2025-02-21T10:54:49.7568060Z E                  0.000000e+00, 0.000000e+00])
2025-02-21T10:54:49.7568670Z E            y: array([1.335111e+39, 1.337387e+39, 9.415985e+38, ..., 0.000000e+00,
2025-02-21T10:54:49.7569040Z E                  0.000000e+00, 0.000000e+00])
2025-02-21T10:54:49.7569260Z 
2025-02-21T10:54:49.7569480Z ../../../micromamba/envs/tardis/lib/python3.12/contextlib.py:81: AssertionError
2025-02-21T10:54:49.7569910Z __________________ TestTransportSimple.test_j_blue_estimators __________________
2025-02-21T10:54:49.7570180Z 
2025-02-21T10:54:49.7570400Z self = <tardis.tests.test_tardis_full.TestTransportSimple object at 0x14166b0e0>
2025-02-21T10:54:49.7570920Z simulation_regression_data = <tardis.simulation.base.Simulation object at 0x143824a70>
2025-02-21T10:54:49.7571250Z 
2025-02-21T10:54:49.7571430Z     def test_j_blue_estimators(self, simulation_regression_data):
2025-02-21T10:54:49.7571830Z         key = "simulation/transport/transport_state/j_blue_estimator"
2025-02-21T10:54:49.7572190Z         expected = self.get_expected_data(key)
2025-02-21T10:54:49.7572740Z     
2025-02-21T10:54:49.7572970Z >       npt.assert_allclose(
2025-02-21T10:54:49.7573370Z             simulation_regression_data.transport.transport_state.radfield_mc_estimators.j_blue_estimator,
2025-02-21T10:54:49.7573930Z             expected.values,
2025-02-21T10:54:49.7574190Z         )
2025-02-21T10:54:49.7574260Z 
2025-02-21T10:54:49.7574380Z tardis/tests/test_tardis_full.py:60: 
2025-02-21T10:54:49.7574710Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-02-21T10:54:49.7574880Z 
2025-02-21T10:54:49.7575130Z args = (<function assert_allclose.<locals>.compare at 0x15ef9f740>, array([[0., 0., 0., ..., 0., 0., 0.],
2025-02-21T10:54:49.7575570Z        [0., 0., 0.,.....,
2025-02-21T10:54:49.7575780Z        [0., 0., 0., ..., 0., 0., 0.],
2025-02-21T10:54:49.7576060Z        [0., 0., 0., ..., 0., 0., 0.],
2025-02-21T10:54:49.7576240Z        [0., 0., 0., ..., 0., 0., 0.]]))
2025-02-21T10:54:49.7576660Z kwds = {'equal_nan': True, 'err_msg': '', 'header': 'Not equal to tolerance rtol=1e-07, atol=0', 'verbose': True}
2025-02-21T10:54:49.7577000Z 
2025-02-21T10:54:49.7577050Z     @wraps(func)
2025-02-21T10:54:49.7577190Z     def inner(*args, **kwds):
2025-02-21T10:54:49.7577370Z         with self._recreate_cm():
2025-02-21T10:54:49.7577560Z >           return func(*args, **kwds)
2025-02-21T10:54:49.7577750Z E           AssertionError: 
2025-02-21T10:54:49.7578020Z E           Not equal to tolerance rtol=1e-07, atol=0
2025-02-21T10:54:49.7578320Z E           
2025-02-21T10:54:49.7578490Z E           Mismatched elements: 488044 / 584480 (83.5%)
2025-02-21T10:54:49.7578730Z E           Max absolute difference: 1.43452643e-17
2025-02-21T10:54:49.7578950Z E           Max relative difference: 235.31367318
2025-02-21T10:54:49.7579180Z E            x: array([[0., 0., 0., ..., 0., 0., 0.],
2025-02-21T10:54:49.7579380Z E                  [0., 0., 0., ..., 0., 0., 0.],
2025-02-21T10:54:49.7579640Z E                  [0., 0., 0., ..., 0., 0., 0.],...
2025-02-21T10:54:49.7579860Z E            y: array([[0., 0., 0., ..., 0., 0., 0.],
2025-02-21T10:54:49.7580070Z E                  [0., 0., 0., ..., 0., 0., 0.],
2025-02-21T10:54:49.7580270Z E                  [0., 0., 0., ..., 0., 0., 0.],...
2025-02-21T10:54:49.7580410Z 
2025-02-21T10:54:49.7580630Z ../../../micromamba/envs/tardis/lib/python3.12/contextlib.py:81: AssertionError
2025-02-21T10:54:49.7581010Z ______________________ TestTransportSimple.test_spectrum _______________________
2025-02-21T10:54:49.7581220Z 
2025-02-21T10:54:49.7581380Z self = <tardis.tests.test_tardis_full.TestTransportSimple object at 0x14166b350>
2025-02-21T10:54:49.7581800Z simulation_regression_data = <tardis.simulation.base.Simulation object at 0x143824a70>
2025-02-21T10:54:49.7582070Z 
2025-02-21T10:54:49.7582210Z     def test_spectrum(self, simulation_regression_data):
2025-02-21T10:54:49.7582560Z         key = "simulation/spectrum_solver/spectrum_real_packets/luminosity"
2025-02-21T10:54:49.7582930Z         expected = self.get_expected_data(key)
2025-02-21T10:54:49.7583400Z     
2025-02-21T10:54:49.7583610Z         luminosity = u.Quantity(expected, "erg /s")
2025-02-21T10:54:49.7583860Z     
2025-02-21T10:54:49.7584100Z >       assert_quantity_allclose(
2025-02-21T10:54:49.7584450Z             simulation_regression_data.spectrum_solver.spectrum_real_packets.luminosity,
2025-02-21T10:54:49.7584850Z             luminosity,
2025-02-21T10:54:49.7585040Z         )
2025-02-21T10:54:49.7585170Z 
2025-02-21T10:54:49.7585290Z tardis/tests/test_tardis_full.py:71: 
2025-02-21T10:54:49.7585570Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-02-21T10:54:49.7586120Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/astropy/tests/helper.py:203: in assert_quantity_allclose
2025-02-21T10:54:49.7586570Z     np.testing.assert_allclose(
2025-02-21T10:54:49.7586890Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-02-21T10:54:49.7587120Z 
2025-02-21T10:54:49.7587550Z args = (<function assert_allclose.<locals>.compare at 0x167257920>, array([0.00000000e+00, 0.00000000e+00, 2.76120259e+39, .....), array([1.47119190e+39, 1.69564189e+39, 1.35368464e+39, ...,
2025-02-21T10:54:49.7588290Z        0.00000000e+00, 0.00000000e+00, 0.00000000e+00]))
2025-02-21T10:54:49.7588640Z kwds = {'equal_nan': True, 'err_msg': '', 'header': 'Not equal to tolerance rtol=1e-07, atol=0', 'verbose': True}
2025-02-21T10:54:49.7588910Z 
2025-02-21T10:54:49.7588970Z     @wraps(func)
2025-02-21T10:54:49.7589110Z     def inner(*args, **kwds):
2025-02-21T10:54:49.7589410Z         with self._recreate_cm():
2025-02-21T10:54:49.7589610Z >           return func(*args, **kwds)
2025-02-21T10:54:49.7589800Z E           AssertionError: 
2025-02-21T10:54:49.7589990Z E           Not equal to tolerance rtol=1e-07, atol=0
2025-02-21T10:54:49.7590190Z E           
2025-02-21T10:54:49.7590340Z E           Mismatched elements: 4560 / 10000 (45.6%)
2025-02-21T10:54:49.7591130Z E           Max absolute difference: 1.96604107e+40
2025-02-21T10:54:49.7591380Z E           Max relative difference: 97.03021569
2025-02-21T10:54:49.7591660Z E            x: array([0.000000e+00, 0.000000e+00, 2.761203e+39, ..., 0.000000e+00,
2025-02-21T10:54:49.7591920Z E                  0.000000e+00, 0.000000e+00])
2025-02-21T10:54:49.7592180Z E            y: array([1.471192e+39, 1.695642e+39, 1.353685e+39, ..., 0.000000e+00,
2025-02-21T10:54:49.7592440Z E                  0.000000e+00, 0.000000e+00])
2025-02-21T10:54:49.7592580Z 
2025-02-21T10:54:49.7592740Z ../../../micromamba/envs/tardis/lib/python3.12/contextlib.py:81: AssertionError
2025-02-21T10:54:49.7593210Z __________________ TestTransportSimple.test_virtual_spectrum ___________________
2025-02-21T10:54:49.7593500Z 
2025-02-21T10:54:49.7593730Z self = <tardis.tests.test_tardis_full.TestTransportSimple object at 0x14166b620>
2025-02-21T10:54:49.7594220Z simulation_regression_data = <tardis.simulation.base.Simulation object at 0x143824a70>
2025-02-21T10:54:49.7594560Z 
2025-02-21T10:54:49.7594750Z     def test_virtual_spectrum(self, simulation_regression_data):
2025-02-21T10:54:49.7595160Z         key = "simulation/spectrum_solver/spectrum_virtual_packets/luminosity"
2025-02-21T10:54:49.7595620Z         expected = self.get_expected_data(key)
2025-02-21T10:54:49.7595890Z     
2025-02-21T10:54:49.7596040Z         luminosity = u.Quantity(expected, "erg /s")
2025-02-21T10:54:49.7596370Z     
2025-02-21T10:54:49.7596650Z >       assert_quantity_allclose(
2025-02-21T10:54:49.7597010Z             simulation_regression_data.spectrum_solver.spectrum_virtual_packets.luminosity,
2025-02-21T10:54:49.7597480Z             luminosity,
2025-02-21T10:54:49.7597730Z         )
2025-02-21T10:54:49.7597800Z 
2025-02-21T10:54:49.7597940Z tardis/tests/test_tardis_full.py:82: 
2025-02-21T10:54:49.7598400Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-02-21T10:54:49.7598840Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/astropy/tests/helper.py:203: in assert_quantity_allclose
2025-02-21T10:54:49.7599490Z     np.testing.assert_allclose(
2025-02-21T10:54:49.7599710Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-02-21T10:54:49.7599870Z 
2025-02-21T10:54:49.7600310Z args = (<function assert_allclose.<locals>.compare at 0x135e27740>, array([1.31895331e+39, 2.31381538e+39, 3.72000430e+39, .....), array([1.44033177e+39, 1.35611403e+39, 1.39755698e+39, ...,
2025-02-21T10:54:49.7600830Z        0.00000000e+00, 0.00000000e+00, 0.00000000e+00]))
2025-02-21T10:54:49.7601180Z kwds = {'equal_nan': True, 'err_msg': '', 'header': 'Not equal to tolerance rtol=1e-07, atol=0', 'verbose': True}
2025-02-21T10:54:49.7601450Z 
2025-02-21T10:54:49.7601500Z     @wraps(func)
2025-02-21T10:54:49.7601650Z     def inner(*args, **kwds):
2025-02-21T10:54:49.7601890Z         with self._recreate_cm():
2025-02-21T10:54:49.7602090Z >           return func(*args, **kwds)
2025-02-21T10:54:49.7602350Z E           AssertionError: 
2025-02-21T10:54:49.7602550Z E           Not equal to tolerance rtol=1e-07, atol=0
2025-02-21T10:54:49.7602960Z E           
2025-02-21T10:54:49.7603120Z E           Mismatched elements: 5659 / 10000 (56.6%)
2025-02-21T10:54:49.7603360Z E           Max absolute difference: 4.69537822e+39
2025-02-21T10:54:49.7603690Z E           Max relative difference: 419.77405263
2025-02-21T10:54:49.7604120Z E            x: array([1.318953e+39, 2.313815e+39, 3.720004e+39, ..., 0.000000e+00,
2025-02-21T10:54:49.7604390Z E                  0.000000e+00, 0.000000e+00])
2025-02-21T10:54:49.7604640Z E            y: array([1.440332e+39, 1.356114e+39, 1.397557e+39, ..., 0.000000e+00,
2025-02-21T10:54:49.7604900Z E                  0.000000e+00, 0.000000e+00])
2025-02-21T10:54:49.7605040Z 
2025-02-21T10:54:49.7605200Z ../../../micromamba/envs/tardis/lib/python3.12/contextlib.py:81: AssertionError
2025-02-21T10:54:49.7605530Z =============================== warnings summary ===============================
2025-02-21T10:54:49.7606000Z tardis/io/configuration/config_validator.py:6
2025-02-21T10:54:49.7606270Z tardis/io/configuration/config_validator.py:6
2025-02-21T10:54:49.7606750Z   /Users/runner/work/tardis/tardis/tardis/io/configuration/config_validator.py:6: DeprecationWarning:
2025-02-21T10:54:49.7607320Z   
2025-02-21T10:54:49.7608580Z   jsonschema.RefResolver is deprecated as of v4.18.0, in favor of the https://github.com/python-jsonschema/referencing library, which provides more compliant referencing behavior as well as more flexible APIs for customization. A future release will remove RefResolver. Please file a feature request (on referencing) if you are missing an API for the kind of customization you need.
2025-02-21T10:54:49.7609630Z 
2025-02-21T10:54:49.7609820Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/jupyter_client/connect.py:22
2025-02-21T10:54:49.7610380Z   /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages/jupyter_client/connect.py:22: DeprecationWarning:
2025-02-21T10:54:49.7610790Z   
2025-02-21T10:54:49.7610970Z   Jupyter is migrating its paths to use standard platformdirs
2025-02-21T10:54:49.7611300Z   given by the platformdirs library.  To remove this warning and
2025-02-21T10:54:49.7611620Z   see the appropriate new directories, set the environment variable
2025-02-21T10:54:49.7611960Z   `JUPYTER_PLATFORM_DIRS=1` and then run `jupyter --paths`.
2025-02-21T10:54:49.7612270Z   The use of platformdirs will be the default in `jupyter_core` v6
2025-02-21T10:54:49.7612470Z 
2025-02-21T10:54:49.7624560Z tardis/io/tests/test_HDFWriter.py::test_multi_index_write
2025-02-21T10:54:49.7625020Z tardis/visualization/widgets/tests/test_shell_info.py::TestHDFShellInfo::test_shells_data
2025-02-21T10:54:49.7625480Z   /Users/runner/work/tardis/tardis/tardis/io/util.py:276: PerformanceWarning:
2025-02-21T10:54:49.7626270Z   
2025-02-21T10:54:49.7626400Z   
2025-02-21T10:54:49.7626640Z   your performance may suffer as PyTables will pickle object types that it cannot
2025-02-21T10:54:49.7627080Z   map directly to c-types [inferred_type->mixed,key->block0_values] [items->Index([0], dtype='int64')]
2025-02-21T10:54:49.7628060Z 
2025-02-21T10:54:49.7628250Z tardis/io/tests/test_model_reader.py::test_read_cmfgen_isotope_abundances
2025-02-21T10:54:49.7628650Z tardis/plasma/tests/test_tardis_model_density_config.py::test_electron_densities
2025-02-21T10:54:49.7629180Z tardis/plasma/tests/test_tardis_model_density_config.py::test_isotope_number_densities
2025-02-21T10:54:49.7629680Z tardis/plasma/tests/test_tardis_model_density_config.py::test_t_rad
2025-02-21T10:54:49.7630150Z   /Users/runner/work/tardis/tardis/tardis/io/model/readers/cmfgen_deprecated.py:82: DeprecationWarning:
2025-02-21T10:54:49.7630790Z   
2025-02-21T10:54:49.7630950Z   The current CMFGEN model parser is deprecated
2025-02-21T10:54:49.7631110Z 
2025-02-21T10:54:49.7631200Z tardis/io/tests/test_model_reader.py: 1 warning
2025-02-21T10:54:49.7631500Z tardis/plasma/tests/test_tardis_model_density_config.py: 9 warnings
2025-02-21T10:54:49.7631960Z   /Users/runner/work/tardis/tardis/tardis/io/model/readers/cmfgen_deprecated.py:40: DeprecationWarning:
2025-02-21T10:54:49.7632890Z   
2025-02-21T10:54:49.7633150Z   The current CMFGEN model parser is deprecated
2025-02-21T10:54:49.7633380Z 
2025-02-21T10:54:49.7674620Z tardis/model/tests/test_base.py::TestModelFromPaper1Config::test_abundances
2025-02-21T10:54:49.7675450Z   /Users/runner/work/tardis/tardis/tardis/transport/montecarlo/montecarlo_main_loop.py:123: NumbaTypeSafetyWarning:
2025-02-21T10:54:49.7675980Z   
2025-02-21T10:54:49.7678790Z   [1m[1m[1munsafe cast from uint64 to int64. Precision may be lost.[0m[0m[0m
2025-02-21T10:54:49.7679030Z 
2025-02-21T10:54:49.7679110Z tardis/model/tests/test_base.py: 6 warnings
2025-02-21T10:54:49.7679430Z tardis/model/tests/test_csvy_model.py: 2 warnings
2025-02-21T10:54:49.7679740Z tardis/plasma/tests/test_tardis_model_density_config.py: 3 warnings
2025-02-21T10:54:49.7680200Z   /Users/runner/work/tardis/tardis/tardis/model/geometry/radial1d.py:50: DeprecationWarning:
2025-02-21T10:54:49.7680610Z   
2025-02-21T10:54:49.7680780Z   v_inner_boundary < 0, assuming default value
2025-02-21T10:54:49.7681120Z 
2025-02-21T10:54:49.7681220Z tardis/model/tests/test_base.py: 6 warnings
2025-02-21T10:54:49.7681500Z tardis/model/tests/test_csvy_model.py: 2 warnings
2025-02-21T10:54:49.7681860Z tardis/plasma/tests/test_tardis_model_density_config.py: 3 warnings
2025-02-21T10:54:49.7682350Z   /Users/runner/work/tardis/tardis/tardis/model/geometry/radial1d.py:61: DeprecationWarning:
2025-02-21T10:54:49.7682750Z   
2025-02-21T10:54:49.7682940Z   v_outer_boundary < 0, assuming default value
2025-02-21T10:54:49.7683100Z 
2025-02-21T10:54:49.7683570Z tardis/plasma/equilibrium/tests/test_level_populations.py::TestLevelPopulationSolver::test_solve[collisional_rate_solver0-radiative_transitions0]
2025-02-21T10:54:49.7684420Z   /Users/runner/work/tardis/tardis/tardis/plasma/equilibrium/level_populations.py:65: FutureWarning:
2025-02-21T10:54:49.7684870Z   
2025-02-21T10:54:49.7685210Z   A value is trying to be set on a copy of a DataFrame or Series through chained assignment using an inplace method.
2025-02-21T10:54:49.7685990Z   The behavior will change in pandas 3.0. This inplace method will never work because the intermediate object on which we are setting values always behaves as a copy.
2025-02-21T10:54:49.7686570Z   
2025-02-21T10:54:49.7687320Z   For example, when doing 'df[col].method(value, inplace=True)', try using 'df.method({col: value}, inplace=True)' or df[col] = df[col].method(value) instead, to perform the operation inplace on the original object.
2025-02-21T10:54:49.7687900Z 
2025-02-21T10:54:49.7688150Z tardis/plasma/tests/test_plasma_vboundary.py::test_plasma_vboundary[2900-3750]
2025-02-21T10:54:49.7688640Z tardis/plasma/tests/test_plasma_vboundary.py::test_plasma_vboundary[2900-3850]
2025-02-21T10:54:49.7689080Z tardis/plasma/tests/test_plasma_vboundary.py::test_plasma_vboundary[2900-3900]
2025-02-21T10:54:49.7689770Z   /Users/runner/work/tardis/tardis/tardis/model/geometry/radial1d.py:71: UserWarning:
2025-02-21T10:54:49.7690520Z   
2025-02-21T10:54:49.7690760Z   Requesting inner boundary below inner shell. Extrapolating the inner cell
2025-02-21T10:54:49.7691000Z 
2025-02-21T10:54:49.7691170Z tardis/spectrum/tests/test_spectrum_solver.py::TestSpectrumSolver::test_solve
2025-02-21T10:54:49.7691580Z   /Users/runner/work/tardis/tardis/tardis/spectrum/base.py:70: UserWarning:
2025-02-21T10:54:49.7691970Z   
2025-02-21T10:54:49.7692300Z   SpectrumSolver.spectrum_virtual_packets is zero. Please run the montecarlo simulation with no_of_virtual_packets > 0
2025-02-21T10:54:49.7692650Z 
2025-02-21T10:54:49.7692820Z tardis/spectrum/tests/test_spectrum_solver.py::TestSpectrumSolver::test_solve
2025-02-21T10:54:49.7693230Z   /Users/runner/work/tardis/tardis/tardis/spectrum/base.py:111: UserWarning:
2025-02-21T10:54:49.7693510Z   
2025-02-21T10:54:49.7693870Z   SpectrumSolver.integrator: The FormalIntegrator is not yet available.Please run the montecarlo simulation at least once.
2025-02-21T10:54:49.7694220Z 
2025-02-21T10:54:49.7694410Z tardis/transport/montecarlo/tests/test_vpacket.py::test_trace_vpacket_volley
2025-02-21T10:54:49.7695080Z   <string>:3: NumbaPendingDeprecationWarning:
2025-02-21T10:54:49.7695290Z   
2025-02-21T10:54:49.7696250Z   [1m[1mCode using Numba extension API maybe depending on 'old_style' error-capturing, which is deprecated and will be replaced by 'new_style' in a future release. See details at https://numba.readthedocs.io/en/latest/reference/deprecation.html#deprecation-of-old-style-numba-captured-errors
2025-02-21T10:54:49.7697090Z   Exception origin:
2025-02-21T10:54:49.7697390Z     File "/Users/runner/micromamba/envs/tardis/lib/python3.12/inspect.py", line 3180, in _bind
2025-02-21T10:54:49.7697740Z       raise TypeError(msg) from None
2025-02-21T10:54:49.7697940Z   [0m[0m
2025-02-21T10:54:49.7698020Z 
2025-02-21T10:54:49.7699410Z tardis/visualization/tools/tests/test_sdec_plot.py::TestSDECPlotter::test_mpl_image[plotter_generate_plot_mpl4]
2025-02-21T10:54:49.7701070Z   /Users/runner/work/tardis/tardis/tardis/visualization/tools/sdec_plot.py:1225: RuntimeWarning:
2025-02-21T10:54:49.7702050Z   
2025-02-21T10:54:49.7702820Z   More than 20 figures have been opened. Figures created through the pyplot interface (`matplotlib.pyplot.figure`) are retained until explicitly closed and may consume too much memory. (To control this warning, see the rcParam `figure.max_open_warning`). Consider using `matplotlib.pyplot.close()`.
2025-02-21T10:54:49.7703650Z 
2025-02-21T10:54:49.7703950Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-02-21T10:54:49.7704590Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-02-21T10:54:49.7705300Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-02-21T10:54:49.7705930Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-02-21T10:54:49.7706660Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-02-21T10:54:49.7707300Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-02-21T10:54:49.7708000Z   /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages/traitlets/traitlets.py:1385: DeprecationWarning:
2025-02-21T10:54:49.7708410Z   
2025-02-21T10:54:49.7708630Z   Passing unrecognized arguments to super(Checkbox).__init__(icon='lock').
2025-02-21T10:54:49.7709060Z   object.__init__() takes exactly one argument (the instance to initialize)
2025-02-21T10:54:49.7709480Z   This is deprecated in traitlets 4.2.This error will be raised in a future release of traitlets.
2025-02-21T10:54:49.7709750Z 
2025-02-21T10:54:49.7710040Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-02-21T10:54:49.7711010Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-02-21T10:54:49.7711660Z   /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages/traitlets/traitlets.py:1385: DeprecationWarning:
2025-02-21T10:54:49.7712060Z   
2025-02-21T10:54:49.7712330Z   Passing unrecognized arguments to super(FloatText).__init__(min=0).
2025-02-21T10:54:49.7712770Z   object.__init__() takes exactly one argument (the instance to initialize)
2025-02-21T10:54:49.7713190Z   This is deprecated in traitlets 4.2.This error will be raised in a future release of traitlets.
2025-02-21T10:54:49.7713450Z 
2025-02-21T10:54:49.7713800Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-02-21T10:54:49.7714430Z   /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages/traitlets/traitlets.py:1385: DeprecationWarning:
2025-02-21T10:54:49.7714830Z   
2025-02-21T10:54:49.7715130Z   Passing unrecognized arguments to super(HTML).__init__(indent=True).
2025-02-21T10:54:49.7715780Z   object.__init__() takes exactly one argument (the instance to initialize)
2025-02-21T10:54:49.7716190Z   This is deprecated in traitlets 4.2.This error will be raised in a future release of traitlets.
2025-02-21T10:54:49.7716520Z 
2025-02-21T10:54:49.7716880Z tardis/visualization/widgets/tests/test_line_info.py::TestLineInfoWidgetData::test_get_species_interactions[wavelength_range0-packet_out_nu]
2025-02-21T10:54:49.7717560Z   /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages/qgridnext/grid.py:820: DeprecationWarning:
2025-02-21T10:54:49.7718000Z   
2025-02-21T10:54:49.7718300Z   QgridWidget._precision_changed is deprecated in traitlets 4.1: use @observe and @unobserve instead.
2025-02-21T10:54:49.7718580Z 
2025-02-21T10:54:49.7718790Z tardis/visualization/widgets/tests/test_shell_info.py::TestHDFShellInfo::test_shells_data
2025-02-21T10:54:49.7719240Z   /Users/runner/work/tardis/tardis/tardis/io/util.py:289: PerformanceWarning:
2025-02-21T10:54:49.7719540Z   
2025-02-21T10:54:49.7719640Z   
2025-02-21T10:54:49.7719870Z   your performance may suffer as PyTables will pickle object types that it cannot
2025-02-21T10:54:49.7720370Z   map directly to c-types [inferred_type->mixed,key->block0_values] [items->Index([0], dtype='int64')]
2025-02-21T10:54:49.7720660Z 
2025-02-21T10:54:49.7720870Z tardis/visualization/widgets/tests/test_shell_info.py::TestHDFShellInfo::test_shells_data
2025-02-21T10:54:49.7721310Z   /Users/runner/work/tardis/tardis/tardis/io/util.py:292: PerformanceWarning:
2025-02-21T10:54:49.7721600Z   
2025-02-21T10:54:49.7721710Z   
2025-02-21T10:54:49.7721940Z   your performance may suffer as PyTables will pickle object types that it cannot
2025-02-21T10:54:49.7722320Z   map directly to c-types [inferred_type->mixed,key->values] [items->None]
2025-02-21T10:54:49.7722540Z 
2025-02-21T10:54:49.7722750Z tardis/visualization/widgets/tests/test_shell_info.py::TestHDFShellInfo::test_shells_data
2025-02-21T10:54:49.7723240Z   /Users/runner/work/tardis/tardis/tardis/spectrum/formal_integral.py:398: UserWarning:
2025-02-21T10:54:49.7723560Z   
2025-02-21T10:54:49.7723780Z   The number of interpolate_shells was not specified. The value was set to 80.
2025-02-21T10:54:49.7724010Z 
2025-02-21T10:54:49.7724180Z -- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
2025-02-21T10:54:49.7724400Z 
2025-02-21T10:54:49.7724550Z ---------- coverage: platform darwin, python 3.12.4-final-0 ----------
2025-02-21T10:54:49.7724840Z Coverage HTML written to dir coverage_html_report
2025-02-21T10:54:49.7725080Z Coverage XML written to file coverage.xml
2025-02-21T10:54:49.7725230Z 
2025-02-21T10:54:49.7725340Z =========================== short test summary info ============================
2025-02-21T10:54:49.7725800Z FAILED tardis/spectrum/tests/test_spectrum_solver.py::TestSpectrumSolver::test_spectrum_real_packets - AssertionError: 
2025-02-21T10:54:49.7726220Z Not equal to tolerance rtol=1e-07, atol=0
2025-02-21T10:54:49.7726490Z 
2025-02-21T10:54:49.7726560Z Mismatched elements: 4355 / 10000 (43.5%)
2025-02-21T10:54:49.7726780Z Max absolute difference: 1.94155993e+40
2025-02-21T10:54:49.7726990Z Max relative difference: 137.15340685
2025-02-21T10:54:49.7727240Z  x: array([0.000000e+00, 0.000000e+00, 2.761203e+39, ..., 0.000000e+00,
2025-02-21T10:54:49.7727490Z        0.000000e+00, 0.000000e+00])
2025-02-21T10:54:49.7727730Z  y: array([1.335111e+39, 1.337387e+39, 9.415985e+38, ..., 0.000000e+00,
2025-02-21T10:54:49.7727970Z        0.000000e+00, 0.000000e+00])
2025-02-21T10:54:49.7728410Z FAILED tardis/spectrum/tests/test_spectrum_solver.py::TestSpectrumSolver::test_spectrum_real_packets_reabsorbed - AssertionError: 
2025-02-21T10:54:49.7728860Z Not equal to tolerance rtol=1e-07, atol=0
2025-02-21T10:54:49.7729010Z 
2025-02-21T10:54:49.7729080Z Mismatched elements: 4491 / 10000 (44.9%)
2025-02-21T10:54:49.7729280Z Max absolute difference: 1.0639846e+40
2025-02-21T10:54:49.7729480Z Max relative difference: 122.79315318
2025-02-21T10:54:49.7729850Z  x: array([0., 0., 0., ..., 0., 0., 0.])
2025-02-21T10:54:49.7730090Z  y: array([2.039204e+38, 3.728825e+38, 2.296469e+38, ..., 0.000000e+00,
2025-02-21T10:54:49.7730340Z        0.000000e+00, 0.000000e+00])
2025-02-21T10:54:49.7730700Z FAILED tardis/spectrum/tests/test_spectrum_solver.py::TestSpectrumSolver::test_solve - AssertionError: 
2025-02-21T10:54:49.7731080Z Not equal to tolerance rtol=1e-07, atol=0
2025-02-21T10:54:49.7731230Z 
2025-02-21T10:54:49.7731300Z Mismatched elements: 4355 / 10000 (43.5%)
2025-02-21T10:54:49.7731500Z Max absolute difference: 1.94155993e+40
2025-02-21T10:54:49.7731710Z Max relative difference: 137.15340685
2025-02-21T10:54:49.7731950Z  x: array([0.000000e+00, 0.000000e+00, 2.761203e+39, ..., 0.000000e+00,
2025-02-21T10:54:49.7732200Z        0.000000e+00, 0.000000e+00])
2025-02-21T10:54:49.7732430Z  y: array([1.335111e+39, 1.337387e+39, 9.415985e+38, ..., 0.000000e+00,
2025-02-21T10:54:49.7732680Z        0.000000e+00, 0.000000e+00])
2025-02-21T10:54:49.7733040Z FAILED tardis/tests/test_tardis_full.py::TestTransportSimple::test_j_blue_estimators - AssertionError: 
2025-02-21T10:54:49.7733420Z Not equal to tolerance rtol=1e-07, atol=0
2025-02-21T10:54:49.7733560Z 
2025-02-21T10:54:49.7733650Z Mismatched elements: 488044 / 584480 (83.5%)
2025-02-21T10:54:49.7733860Z Max absolute difference: 1.43452643e-17
2025-02-21T10:54:49.7734060Z Max relative difference: 235.31367318
2025-02-21T10:54:49.7734250Z  x: array([[0., 0., 0., ..., 0., 0., 0.],
2025-02-21T10:54:49.7734440Z        [0., 0., 0., ..., 0., 0., 0.],
2025-02-21T10:54:49.7734610Z        [0., 0., 0., ..., 0., 0., 0.],...
2025-02-21T10:54:49.7734800Z  y: array([[0., 0., 0., ..., 0., 0., 0.],
2025-02-21T10:54:49.7734990Z        [0., 0., 0., ..., 0., 0., 0.],
2025-02-21T10:54:49.7735160Z        [0., 0., 0., ..., 0., 0., 0.],...
2025-02-21T10:54:49.7735500Z FAILED tardis/tests/test_tardis_full.py::TestTransportSimple::test_spectrum - AssertionError: 
2025-02-21T10:54:49.7735870Z Not equal to tolerance rtol=1e-07, atol=0
2025-02-21T10:54:49.7736010Z 
2025-02-21T10:54:49.7736080Z Mismatched elements: 4560 / 10000 (45.6%)
2025-02-21T10:54:49.7736290Z Max absolute difference: 1.96604107e+40
2025-02-21T10:54:49.7736500Z Max relative difference: 97.03021569
2025-02-21T10:54:49.7736740Z  x: array([0.000000e+00, 0.000000e+00, 2.761203e+39, ..., 0.000000e+00,
2025-02-21T10:54:49.7737000Z        0.000000e+00, 0.000000e+00])
2025-02-21T10:54:49.7737240Z  y: array([1.471192e+39, 1.695642e+39, 1.353685e+39, ..., 0.000000e+00,
2025-02-21T10:54:49.7737490Z        0.000000e+00, 0.000000e+00])
2025-02-21T10:54:49.7737840Z FAILED tardis/tests/test_tardis_full.py::TestTransportSimple::test_virtual_spectrum - AssertionError: 
2025-02-21T10:54:49.7738220Z Not equal to tolerance rtol=1e-07, atol=0
2025-02-21T10:54:49.7738360Z 
2025-02-21T10:54:49.7738430Z Mismatched elements: 5659 / 10000 (56.6%)
2025-02-21T10:54:49.7738640Z Max absolute difference: 4.69537822e+39
2025-02-21T10:54:49.7738840Z Max relative difference: 419.77405263
2025-02-21T10:54:49.7739270Z  x: array([1.318953e+39, 2.313815e+39, 3.720004e+39, ..., 0.000000e+00,
2025-02-21T10:54:49.7739520Z        0.000000e+00, 0.000000e+00])
2025-02-21T10:54:49.7739760Z  y: array([1.440332e+39, 1.356114e+39, 1.397557e+39, ..., 0.000000e+00,
2025-02-21T10:54:49.7740000Z        0.000000e+00, 0.000000e+00])
2025-02-21T10:54:49.7740340Z = 6 failed, 1404 passed, 357 skipped, 2 deselected, 19 xfailed, 8 xpassed, 63 warnings in 826.61s (0:13:46) =
2025-02-21T10:54:51.5736770Z ##[error]Process completed with exit code 1.
