2025-02-21T11:38:04.6691250Z ##[group]Run pytest tardis --tardis-regression-data=/Users/runner/work/tardis/tardis/tardis-regression-data --cov=tardis --cov-report=xml --cov-report=html --cov-append -m "not continuum"
2025-02-21T11:38:04.6692410Z [36;1mpytest tardis --tardis-regression-data=/Users/runner/work/tardis/tardis/tardis-regression-data --cov=tardis --cov-report=xml --cov-report=html --cov-append -m "not continuum"[0m
2025-02-21T11:38:04.6745170Z shell: /bin/bash -l {0}
2025-02-21T11:38:04.6745390Z env:
2025-02-21T11:38:04.6745560Z   CACHE_NUMBER: 0
2025-02-21T11:38:04.6746070Z   PYTEST_FLAGS: --tardis-regression-data=/Users/runner/work/tardis/tardis/tardis-regression-data --cov=tardis --cov-report=xml --cov-report=html --cov-append
2025-02-21T11:38:04.6746620Z   CODECOV_TOKEN: 
2025-02-21T11:38:04.6746820Z   MAMBA_ROOT_PREFIX: /Users/runner/micromamba
2025-02-21T11:38:04.6747090Z   MAMBA_EXE: /Users/runner/micromamba-bin/micromamba
2025-02-21T11:38:04.6747410Z   CONDARC: /Users/runner/work/_temp/setup-micromamba/.condarc
2025-02-21T11:38:04.6747790Z ##[endgroup]
2025-02-21T11:38:15.8646130Z ============================= test session starts ==============================
2025-02-21T11:38:15.8646520Z platform darwin -- Python 3.12.4, pytest-8.2.2, pluggy-1.5.0
2025-02-21T11:38:15.8646790Z rootdir: /Users/runner/work/tardis/tardis
2025-02-21T11:38:15.8647030Z configfile: pyproject.toml
2025-02-21T11:38:15.8647310Z plugins: cov-5.0.0, html-4.1.1, metadata-3.1.1, doctestplus-1.2.1, anyio-4.4.0
2025-02-21T11:38:15.8647630Z collected 1796 items / 2 deselected / 1794 selected
2025-02-21T11:38:15.8647810Z 
2025-02-21T11:38:18.4399630Z tardis/energy_input/tests/test_energy_source.py ..xxx                    [  0%]
2025-02-21T11:38:21.3127260Z tardis/energy_input/tests/test_gamma_ray_channel.py ...........          [  0%]
2025-02-21T11:38:22.3243480Z tardis/energy_input/tests/test_gamma_ray_grid.py xx.                     [  1%]
2025-02-21T11:38:23.3858960Z tardis/energy_input/tests/test_gamma_ray_interactions.py xx....          [  1%]
2025-02-21T11:38:23.3921220Z tardis/energy_input/tests/test_gamma_ray_packet_source.py sssssssss      [  1%]
2025-02-21T11:38:24.2188420Z tardis/energy_input/tests/test_util.py .....xxxx.....                    [  2%]
2025-02-21T11:38:24.4638330Z tardis/grid/tests/test_grid.py .                                         [  2%]
2025-02-21T11:38:24.4739910Z tardis/gui/tests/test_gui.py s                                           [  2%]
2025-02-21T11:38:27.3736390Z tardis/io/configuration/tests/test_config_reader.py ...........          [  3%]
2025-02-21T11:38:27.3821460Z tardis/io/configuration/tests/test_configuration_namespace.py .........  [  3%]
2025-02-21T11:38:27.3991120Z tardis/io/logger/tests/test_logging.py ssssssssssssssssssssssssssss      [  5%]
2025-02-21T11:38:53.2506770Z tardis/io/model/readers/tests/test_arepo_parser.py ..                    [  5%]
2025-02-21T11:38:53.2656150Z tardis/io/model/readers/tests/test_ascii_readers.py ...                  [  5%]
2025-02-21T11:38:53.2754100Z tardis/io/model/readers/tests/test_cmfgen_reader.py ..                   [  5%]
2025-02-21T11:38:53.3001110Z tardis/io/model/readers/tests/test_csvy_reader.py ....                   [  6%]
2025-02-21T11:38:53.3184850Z tardis/io/model/readers/tests/test_stella_reader.py ..                   [  6%]
2025-02-21T11:38:53.5214150Z tardis/io/tests/test_HDFWriter.py ...............                        [  7%]
2025-02-21T11:38:53.9102260Z tardis/io/tests/test_atomic.py .....                                     [  7%]
2025-02-21T11:38:53.9284420Z tardis/io/tests/test_decay.py ..                                         [  7%]
2025-02-21T11:38:54.0923510Z tardis/io/tests/test_model_reader.py ......                              [  7%]
2025-02-21T11:38:54.1126890Z tardis/model/geometry/tests/test_radial1d.py ..                          [  7%]
2025-02-21T11:39:18.7840200Z tardis/model/tests/test_base.py ........................................ [ 10%]
2025-02-21T11:39:19.4969950Z ............                                                             [ 10%]
2025-02-21T11:39:21.5773630Z tardis/model/tests/test_csvy_model.py .........                          [ 11%]
2025-02-21T11:39:21.6074790Z tardis/model/tests/test_density.py ..                                    [ 11%]
2025-02-21T11:39:22.5854530Z tardis/opacities/tests/test_opacity_solver.py .....                      [ 11%]
2025-02-21T11:39:23.4769440Z tardis/opacities/tests/test_opacity_state_numba.py .....                 [ 11%]
2025-02-21T11:39:25.2657660Z tardis/opacities/tests/test_tau_sobolev.py ..                            [ 12%]
2025-02-21T11:39:27.1697330Z tardis/plasma/equilibrium/tests/test_collisional_transitions.py ...      [ 12%]
2025-02-21T11:40:03.4218060Z tardis/plasma/equilibrium/tests/test_level_populations.py ....           [ 12%]
2025-02-21T11:40:12.1744100Z tardis/plasma/equilibrium/tests/test_rate_matrix.py .                    [ 12%]
2025-02-21T11:40:13.2572220Z tardis/plasma/tests/test_complete_plasmas.py ..............s......s..... [ 13%]
2025-02-21T11:40:15.2955600Z s....ssssss............s......s.....ss.....s....ssssss............s..... [ 18%]
2025-02-21T11:40:16.4842090Z .s.....ss.....s....ssssss............s......s.....ss.....s....ssssss.... [ 22%]
2025-02-21T11:40:18.3700740Z ........s......s.....ss.....s....ssssss............s......s.....ss.....s [ 26%]
2025-02-21T11:40:20.2508470Z ....ssssss............s......s.....ss.....s....ssssss............s...... [ 30%]
2025-02-21T11:40:20.7698620Z s.....ss.....s....ssssss............s......s.....ss.....s.ss.ssssss..... [ 34%]
2025-02-21T11:40:22.8247340Z .......s......s.....ss.....s....ssssss............s......s.....ss.....s. [ 38%]
2025-02-21T11:40:25.0517790Z ...ssssss............s......s.....ss.....s....ssssss............s......s [ 42%]
2025-02-21T11:40:27.1339300Z .....ss.....s....ssssss............s......s.....s...........ssssss...... [ 46%]
2025-02-21T11:40:28.4253780Z ......s......s.....s...........ssssss............s......s.....s......... [ 50%]
2025-02-21T11:40:30.4654210Z ..ssssss............s......s.....ss.....s....ssssss............s......s. [ 54%]
2025-02-21T11:40:32.8024650Z ....ss.....s....ssssss...................s......s.....s....ssss......... [ 58%]
2025-02-21T11:40:33.0209590Z ............s......s.....s....ssss.......                                [ 60%]
2025-02-21T11:40:33.1774450Z tardis/plasma/tests/test_hdf_plasma.py ................................. [ 62%]
2025-02-21T11:40:33.1846680Z ......                                                                   [ 62%]
2025-02-21T11:40:33.4255250Z tardis/plasma/tests/test_nlte_excitation.py ...                          [ 62%]
2025-02-21T11:42:08.7104870Z tardis/plasma/tests/test_nlte_solver.py .....X                           [ 63%]
2025-02-21T11:42:08.7189310Z tardis/plasma/tests/test_plasma_continuum.py .                           [ 63%]
2025-02-21T11:42:29.1610340Z tardis/plasma/tests/test_plasma_vboundary.py .............               [ 63%]
2025-02-21T11:42:39.7695030Z tardis/plasma/tests/test_tardis_model_density_config.py ...              [ 64%]
2025-02-21T11:42:40.2932630Z tardis/simulation/tests/test_convergence.py .....                        [ 64%]
2025-02-21T11:42:47.0494470Z tardis/simulation/tests/test_simulation.py .............                 [ 65%]
2025-02-21T11:42:47.0604410Z tardis/spectrum/tests/test_cuda_formal_integral.py sssssssssssssssssssss [ 66%]
2025-02-21T11:42:47.3299450Z ssss...ssssssssssssssssssssss                                            [ 67%]
2025-02-21T11:42:47.3400790Z tardis/spectrum/tests/test_luminosity.py ....                            [ 68%]
2025-02-21T11:42:48.1722160Z tardis/spectrum/tests/test_numba_formal_integral.py .................... [ 69%]
2025-02-21T11:42:48.1822220Z ..........                                                               [ 69%]
2025-02-21T11:42:48.2871560Z tardis/spectrum/tests/test_spectrum.py ................................. [ 71%]
2025-02-21T11:42:48.3282550Z .........                                                                [ 72%]
2025-02-21T11:42:48.4272010Z tardis/spectrum/tests/test_spectrum_solver.py .FFF                       [ 72%]
2025-02-21T11:43:17.8846540Z tardis/tests/test_tardis_full.py .FFF                                    [ 72%]
2025-02-21T11:44:55.1003690Z tardis/tests/test_tardis_full_formal_integral.py ................        [ 73%]
2025-02-21T11:44:55.1486620Z tardis/tests/test_util.py .............................................  [ 75%]
2025-02-21T11:44:57.1415960Z tardis/transport/montecarlo/tests/test_base.py x.....................    [ 77%]
2025-02-21T11:45:01.9323690Z tardis/transport/montecarlo/tests/test_interaction.py .......            [ 77%]
2025-02-21T11:45:02.0679270Z tardis/transport/montecarlo/tests/test_macro_atom.py ....                [ 77%]
2025-02-21T11:45:02.0783720Z tardis/transport/montecarlo/tests/test_montecarlo.py sssssssssssssssssss [ 78%]
2025-02-21T11:45:02.1002000Z sssssssssssssssssssssssssssssssssssssssssssss                            [ 81%]
2025-02-21T11:45:09.3893490Z tardis/transport/montecarlo/tests/test_montecarlo_main_loop.py x..       [ 81%]
2025-02-21T11:45:09.3989200Z tardis/transport/montecarlo/tests/test_nonhomologous.py ...              [ 81%]
2025-02-21T11:45:11.3197120Z tardis/transport/montecarlo/tests/test_numba_interface.py .....x.        [ 82%]
2025-02-21T11:45:11.6847110Z tardis/transport/montecarlo/tests/test_opacities.py ...............      [ 82%]
2025-02-21T11:45:12.3747060Z tardis/transport/montecarlo/tests/test_packet.py .................xXXXXX [ 84%]
2025-02-21T11:45:12.4626670Z XX.........                                                              [ 84%]
2025-02-21T11:45:12.4844320Z tardis/transport/montecarlo/tests/test_packet_source.py ........         [ 85%]
2025-02-21T11:45:12.6745420Z tardis/transport/montecarlo/tests/test_rpacket_last_interaction_tracker.py . [ 85%]
2025-02-21T11:45:12.9397470Z .....                                                                    [ 85%]
2025-02-21T11:45:21.4796100Z tardis/transport/montecarlo/tests/test_rpacket_tracker.py ......         [ 85%]
2025-02-21T11:45:21.5008270Z tardis/transport/montecarlo/tests/test_single_packet_loop.py xxx         [ 86%]
2025-02-21T11:45:21.5041310Z tardis/transport/montecarlo/tests/test_tracker_utils.py ..               [ 86%]
2025-02-21T11:45:22.6293010Z tardis/transport/montecarlo/tests/test_vpacket.py ..x.                   [ 86%]
2025-02-21T11:45:22.6422430Z tardis/transport/montecarlo/tests/test_weighted_packet_source.py ....    [ 86%]
2025-02-21T11:45:25.1897880Z tardis/transport/montecarlo/tests/test_weighted_packet_source_integration.py . [ 86%]
2025-02-21T11:45:25.1898720Z                                                                          [ 86%]
2025-02-21T11:45:25.9029190Z tardis/transport/tests/test_doppler_factor.py ..................         [ 87%]
2025-02-21T11:45:27.3526530Z tardis/visualization/tools/tests/test_convergence_plot.py .............. [ 88%]
2025-02-21T11:45:28.7486970Z ......                                                                   [ 88%]
2025-02-21T11:45:31.7173080Z tardis/visualization/tools/tests/test_liv_plot.py ...................... [ 90%]
2025-02-21T11:45:34.7025240Z .............................                                            [ 91%]
2025-02-21T11:45:37.2428000Z tardis/visualization/tools/tests/test_rpacket_plot.py .................. [ 92%]
2025-02-21T11:45:43.6093120Z ....                                                                     [ 92%]
2025-02-21T11:45:47.8184190Z tardis/visualization/tools/tests/test_sdec_plot.py ..................... [ 94%]
2025-02-21T11:45:53.3761090Z ..............................                                           [ 95%]
2025-02-21T11:45:53.6968840Z tardis/visualization/widgets/tests/test_custom_abundance.py ........ss.. [ 96%]
2025-02-21T11:45:53.7337040Z ....                                                                     [ 96%]
2025-02-21T11:45:54.4168790Z tardis/visualization/widgets/tests/test_line_info.py ................... [ 97%]
2025-02-21T11:45:54.8475650Z ..................                                                       [ 98%]
2025-02-21T11:48:56.3339410Z tardis/visualization/widgets/tests/test_shell_info.py .................. [ 99%]
2025-02-21T11:49:02.7250480Z ......                                                                   [100%]
2025-02-21T11:49:02.7250930Z 
2025-02-21T11:49:02.7251130Z =================================== FAILURES ===================================
2025-02-21T11:49:02.7251610Z ________________ TestSpectrumSolver.test_spectrum_real_packets _________________
2025-02-21T11:49:02.7251960Z 
2025-02-21T11:49:02.7252260Z self = <tardis.spectrum.tests.test_spectrum_solver.TestSpectrumSolver object at 0x139f61ee0>
2025-02-21T11:49:02.7252850Z simulation_regression_data = <tardis.simulation.base.Simulation object at 0x154d59790>
2025-02-21T11:49:02.7253310Z 
2025-02-21T11:49:02.7253530Z     def test_spectrum_real_packets(self, simulation_regression_data):
2025-02-21T11:49:02.7254320Z         transport_state = simulation_regression_data.transport.transport_state
2025-02-21T11:49:02.7254920Z         spectrum_frequency_grid = simulation_regression_data.transport.spectrum_frequency_grid
2025-02-21T11:49:02.7255520Z     
2025-02-21T11:49:02.7255870Z         solver = SpectrumSolver(transport_state, spectrum_frequency_grid, None)
2025-02-21T11:49:02.7256280Z         result = solver.spectrum_real_packets.luminosity
2025-02-21T11:49:02.7256740Z         key = "simulation/spectrum_solver/spectrum_real_packets/luminosity"
2025-02-21T11:49:02.7257190Z         expected = self.get_expected_data(key)
2025-02-21T11:49:02.7257560Z     
2025-02-21T11:49:02.7257830Z         luminosity = u.Quantity(expected, "erg /s")
2025-02-21T11:49:02.7258230Z     
2025-02-21T11:49:02.7258430Z >       assert_quantity_allclose(
2025-02-21T11:49:02.7258770Z             result,
2025-02-21T11:49:02.7259080Z             luminosity,
2025-02-21T11:49:02.7259400Z         )
2025-02-21T11:49:02.7259640Z 
2025-02-21T11:49:02.7259860Z tardis/spectrum/tests/test_spectrum_solver.py:61: 
2025-02-21T11:49:02.7260260Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-02-21T11:49:02.7260960Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/astropy/tests/helper.py:203: in assert_quantity_allclose
2025-02-21T11:49:02.7261440Z     np.testing.assert_allclose(
2025-02-21T11:49:02.7261750Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-02-21T11:49:02.7261980Z 
2025-02-21T11:49:02.7262440Z args = (<function assert_allclose.<locals>.compare at 0x167d30540>, array([0.00000000e+00, 0.00000000e+00, 2.76120259e+39, .....), array([1.33511090e+39, 1.33738696e+39, 9.41598476e+38, ...,
2025-02-21T11:49:02.7263060Z        0.00000000e+00, 0.00000000e+00, 0.00000000e+00]))
2025-02-21T11:49:02.7263450Z kwds = {'equal_nan': True, 'err_msg': '', 'header': 'Not equal to tolerance rtol=1e-07, atol=0', 'verbose': True}
2025-02-21T11:49:02.7263750Z 
2025-02-21T11:49:02.7263820Z     @wraps(func)
2025-02-21T11:49:02.7263980Z     def inner(*args, **kwds):
2025-02-21T11:49:02.7264330Z         with self._recreate_cm():
2025-02-21T11:49:02.7264530Z >           return func(*args, **kwds)
2025-02-21T11:49:02.7264840Z E           AssertionError: 
2025-02-21T11:49:02.7265100Z E           Not equal to tolerance rtol=1e-07, atol=0
2025-02-21T11:49:02.7265510Z E           
2025-02-21T11:49:02.7265700Z E           Mismatched elements: 4355 / 10000 (43.5%)
2025-02-21T11:49:02.7266080Z E           Max absolute difference: 1.94155993e+40
2025-02-21T11:49:02.7266640Z E           Max relative difference: 137.15340685
2025-02-21T11:49:02.7266920Z E            x: array([0.000000e+00, 0.000000e+00, 2.761203e+39, ..., 0.000000e+00,
2025-02-21T11:49:02.7267190Z E                  0.000000e+00, 0.000000e+00])
2025-02-21T11:49:02.7267450Z E            y: array([1.335111e+39, 1.337387e+39, 9.415985e+38, ..., 0.000000e+00,
2025-02-21T11:49:02.7268070Z E                  0.000000e+00, 0.000000e+00])
2025-02-21T11:49:02.7268220Z 
2025-02-21T11:49:02.7268510Z ../../../micromamba/envs/tardis/lib/python3.12/contextlib.py:81: AssertionError
2025-02-21T11:49:02.7281930Z ___________ TestSpectrumSolver.test_spectrum_real_packets_reabsorbed ___________
2025-02-21T11:49:02.7282280Z 
2025-02-21T11:49:02.7282560Z self = <tardis.spectrum.tests.test_spectrum_solver.TestSpectrumSolver object at 0x139f621b0>
2025-02-21T11:49:02.7283090Z simulation_regression_data = <tardis.simulation.base.Simulation object at 0x154d59790>
2025-02-21T11:49:02.7283410Z 
2025-02-21T11:49:02.7283640Z     def test_spectrum_real_packets_reabsorbed(self, simulation_regression_data):
2025-02-21T11:49:02.7284060Z         transport_state = simulation_regression_data.transport.transport_state
2025-02-21T11:49:02.7284590Z         spectrum_frequency_grid = simulation_regression_data.transport.spectrum_frequency_grid
2025-02-21T11:49:02.7284980Z     
2025-02-21T11:49:02.7285340Z         solver = SpectrumSolver(transport_state, spectrum_frequency_grid, None)
2025-02-21T11:49:02.7285870Z         result = solver.spectrum_real_packets_reabsorbed.luminosity
2025-02-21T11:49:02.7286310Z         key = "simulation/spectrum_solver/spectrum_real_packets_reabsorbed/luminosity"
2025-02-21T11:49:02.7286780Z         expected = self.get_expected_data(key)
2025-02-21T11:49:02.7287060Z     
2025-02-21T11:49:02.7287280Z         luminosity = u.Quantity(expected, "erg /s")
2025-02-21T11:49:02.7287640Z     
2025-02-21T11:49:02.7287810Z >       assert_quantity_allclose(
2025-02-21T11:49:02.7288110Z             result,
2025-02-21T11:49:02.7288370Z             luminosity,
2025-02-21T11:49:02.7288680Z         )
2025-02-21T11:49:02.7288770Z 
2025-02-21T11:49:02.7288930Z tardis/spectrum/tests/test_spectrum_solver.py:77: 
2025-02-21T11:49:02.7289390Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-02-21T11:49:02.7289960Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/astropy/tests/helper.py:203: in assert_quantity_allclose
2025-02-21T11:49:02.7290560Z     np.testing.assert_allclose(
2025-02-21T11:49:02.7290870Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-02-21T11:49:02.7291140Z 
2025-02-21T11:49:02.7291490Z args = (<function assert_allclose.<locals>.compare at 0x167c98b80>, array([0., 0., 0., ..., 0., 0., 0.]), array([2.03920412e+38, 3.72882494e+38, 2.29646943e+38, ...,
2025-02-21T11:49:02.7292000Z        0.00000000e+00, 0.00000000e+00, 0.00000000e+00]))
2025-02-21T11:49:02.7292460Z kwds = {'equal_nan': True, 'err_msg': '', 'header': 'Not equal to tolerance rtol=1e-07, atol=0', 'verbose': True}
2025-02-21T11:49:02.7292790Z 
2025-02-21T11:49:02.7292950Z     @wraps(func)
2025-02-21T11:49:02.7293280Z     def inner(*args, **kwds):
2025-02-21T11:49:02.7293510Z         with self._recreate_cm():
2025-02-21T11:49:02.7293780Z >           return func(*args, **kwds)
2025-02-21T11:49:02.7294030Z E           AssertionError: 
2025-02-21T11:49:02.7294370Z E           Not equal to tolerance rtol=1e-07, atol=0
2025-02-21T11:49:02.7294660Z E           
2025-02-21T11:49:02.7294970Z E           Mismatched elements: 4491 / 10000 (44.9%)
2025-02-21T11:49:02.7295260Z E           Max absolute difference: 1.0639846e+40
2025-02-21T11:49:02.7295590Z E           Max relative difference: 122.79315318
2025-02-21T11:49:02.7295890Z E            x: array([0., 0., 0., ..., 0., 0., 0.])
2025-02-21T11:49:02.7296290Z E            y: array([2.039204e+38, 3.728825e+38, 2.296469e+38, ..., 0.000000e+00,
2025-02-21T11:49:02.7296620Z E                  0.000000e+00, 0.000000e+00])
2025-02-21T11:49:02.7296790Z 
2025-02-21T11:49:02.7296990Z ../../../micromamba/envs/tardis/lib/python3.12/contextlib.py:81: AssertionError
2025-02-21T11:49:02.7297390Z ________________________ TestSpectrumSolver.test_solve _________________________
2025-02-21T11:49:02.7297670Z 
2025-02-21T11:49:02.7297910Z self = <tardis.spectrum.tests.test_spectrum_solver.TestSpectrumSolver object at 0x139f62a80>
2025-02-21T11:49:02.7298460Z simulation_regression_data = <tardis.simulation.base.Simulation object at 0x154d59790>
2025-02-21T11:49:02.7298720Z 
2025-02-21T11:49:02.7298850Z     def test_solve(self, simulation_regression_data):
2025-02-21T11:49:02.7299740Z         transport_state = simulation_regression_data.transport.transport_state
2025-02-21T11:49:02.7300200Z         spectrum_frequency_grid = simulation_regression_data.transport.spectrum_frequency_grid
2025-02-21T11:49:02.7300610Z     
2025-02-21T11:49:02.7300890Z         solver = SpectrumSolver(transport_state, spectrum_frequency_grid, None)
2025-02-21T11:49:02.7301320Z         result_real, result_virtual, result_integrated = solver.solve(
2025-02-21T11:49:02.7301620Z             transport_state
2025-02-21T11:49:02.7301850Z         )
2025-02-21T11:49:02.7302070Z         key_real = "simulation/spectrum_solver/spectrum_real_packets/luminosity"
2025-02-21T11:49:02.7302380Z         expected_real = self.get_expected_data(key_real)
2025-02-21T11:49:02.7302590Z     
2025-02-21T11:49:02.7302770Z         luminosity_real = u.Quantity(expected_real, "erg /s")
2025-02-21T11:49:02.7303060Z     
2025-02-21T11:49:02.7303220Z >       assert_quantity_allclose(
2025-02-21T11:49:02.7303420Z             result_real.luminosity,
2025-02-21T11:49:02.7303640Z             luminosity_real,
2025-02-21T11:49:02.7303850Z         )
2025-02-21T11:49:02.7303930Z 
2025-02-21T11:49:02.7304030Z tardis/spectrum/tests/test_spectrum_solver.py:95: 
2025-02-21T11:49:02.7304290Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-02-21T11:49:02.7304720Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/astropy/tests/helper.py:203: in assert_quantity_allclose
2025-02-21T11:49:02.7305120Z     np.testing.assert_allclose(
2025-02-21T11:49:02.7305330Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-02-21T11:49:02.7305530Z 
2025-02-21T11:49:02.7305900Z args = (<function assert_allclose.<locals>.compare at 0x167c9a2a0>, array([0.00000000e+00, 0.00000000e+00, 2.76120259e+39, .....), array([1.33511090e+39, 1.33738696e+39, 9.41598476e+38, ...,
2025-02-21T11:49:02.7306460Z        0.00000000e+00, 0.00000000e+00, 0.00000000e+00]))
2025-02-21T11:49:02.7306890Z kwds = {'equal_nan': True, 'err_msg': '', 'header': 'Not equal to tolerance rtol=1e-07, atol=0', 'verbose': True}
2025-02-21T11:49:02.7307170Z 
2025-02-21T11:49:02.7307220Z     @wraps(func)
2025-02-21T11:49:02.7307380Z     def inner(*args, **kwds):
2025-02-21T11:49:02.7307650Z         with self._recreate_cm():
2025-02-21T11:49:02.7308020Z >           return func(*args, **kwds)
2025-02-21T11:49:02.7308330Z E           AssertionError: 
2025-02-21T11:49:02.7308610Z E           Not equal to tolerance rtol=1e-07, atol=0
2025-02-21T11:49:02.7308980Z E           
2025-02-21T11:49:02.7309250Z E           Mismatched elements: 4355 / 10000 (43.5%)
2025-02-21T11:49:02.7309740Z E           Max absolute difference: 1.94155993e+40
2025-02-21T11:49:02.7310140Z E           Max relative difference: 137.15340685
2025-02-21T11:49:02.7310530Z E            x: array([0.000000e+00, 0.000000e+00, 2.761203e+39, ..., 0.000000e+00,
2025-02-21T11:49:02.7310860Z E                  0.000000e+00, 0.000000e+00])
2025-02-21T11:49:02.7311220Z E            y: array([1.335111e+39, 1.337387e+39, 9.415985e+38, ..., 0.000000e+00,
2025-02-21T11:49:02.7311550Z E                  0.000000e+00, 0.000000e+00])
2025-02-21T11:49:02.7311770Z 
2025-02-21T11:49:02.7311990Z ../../../micromamba/envs/tardis/lib/python3.12/contextlib.py:81: AssertionError
2025-02-21T11:49:02.7312450Z __________________ TestTransportSimple.test_j_blue_estimators __________________
2025-02-21T11:49:02.7312770Z 
2025-02-21T11:49:02.7312990Z self = <tardis.tests.test_tardis_full.TestTransportSimple object at 0x139f632c0>
2025-02-21T11:49:02.7313540Z simulation_regression_data = <tardis.simulation.base.Simulation object at 0x154d59790>
2025-02-21T11:49:02.7313840Z 
2025-02-21T11:49:02.7314030Z     def test_j_blue_estimators(self, simulation_regression_data):
2025-02-21T11:49:02.7314430Z         key = "simulation/transport/transport_state/j_blue_estimator"
2025-02-21T11:49:02.7314700Z         expected = self.get_expected_data(key)
2025-02-21T11:49:02.7315290Z     
2025-02-21T11:49:02.7315590Z >       npt.assert_allclose(
2025-02-21T11:49:02.7315990Z             simulation_regression_data.transport.transport_state.radfield_mc_estimators.j_blue_estimator,
2025-02-21T11:49:02.7316400Z             expected.values,
2025-02-21T11:49:02.7316630Z         )
2025-02-21T11:49:02.7316750Z 
2025-02-21T11:49:02.7316830Z tardis/tests/test_tardis_full.py:60: 
2025-02-21T11:49:02.7317130Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-02-21T11:49:02.7317360Z 
2025-02-21T11:49:02.7317570Z args = (<function assert_allclose.<locals>.compare at 0x167c9b240>, array([[0., 0., 0., ..., 0., 0., 0.],
2025-02-21T11:49:02.7318020Z        [0., 0., 0.,.....,
2025-02-21T11:49:02.7318270Z        [0., 0., 0., ..., 0., 0., 0.],
2025-02-21T11:49:02.7318480Z        [0., 0., 0., ..., 0., 0., 0.],
2025-02-21T11:49:02.7318760Z        [0., 0., 0., ..., 0., 0., 0.]]))
2025-02-21T11:49:02.7319130Z kwds = {'equal_nan': True, 'err_msg': '', 'header': 'Not equal to tolerance rtol=1e-07, atol=0', 'verbose': True}
2025-02-21T11:49:02.7319450Z 
2025-02-21T11:49:02.7319550Z     @wraps(func)
2025-02-21T11:49:02.7319780Z     def inner(*args, **kwds):
2025-02-21T11:49:02.7319990Z         with self._recreate_cm():
2025-02-21T11:49:02.7320230Z >           return func(*args, **kwds)
2025-02-21T11:49:02.7320570Z E           AssertionError: 
2025-02-21T11:49:02.7320850Z E           Not equal to tolerance rtol=1e-07, atol=0
2025-02-21T11:49:02.7321130Z E           
2025-02-21T11:49:02.7321380Z E           Mismatched elements: 488044 / 584480 (83.5%)
2025-02-21T11:49:02.7321640Z E           Max absolute difference: 1.43452643e-17
2025-02-21T11:49:02.7321940Z E           Max relative difference: 235.31367318
2025-02-21T11:49:02.7322210Z E            x: array([[0., 0., 0., ..., 0., 0., 0.],
2025-02-21T11:49:02.7322480Z E                  [0., 0., 0., ..., 0., 0., 0.],
2025-02-21T11:49:02.7322710Z E                  [0., 0., 0., ..., 0., 0., 0.],...
2025-02-21T11:49:02.7323000Z E            y: array([[0., 0., 0., ..., 0., 0., 0.],
2025-02-21T11:49:02.7323300Z E                  [0., 0., 0., ..., 0., 0., 0.],
2025-02-21T11:49:02.7323570Z E                  [0., 0., 0., ..., 0., 0., 0.],...
2025-02-21T11:49:02.7323750Z 
2025-02-21T11:49:02.7323950Z ../../../micromamba/envs/tardis/lib/python3.12/contextlib.py:81: AssertionError
2025-02-21T11:49:02.7324360Z ______________________ TestTransportSimple.test_spectrum _______________________
2025-02-21T11:49:02.7324610Z 
2025-02-21T11:49:02.7324810Z self = <tardis.tests.test_tardis_full.TestTransportSimple object at 0x139f63620>
2025-02-21T11:49:02.7325310Z simulation_regression_data = <tardis.simulation.base.Simulation object at 0x154d59790>
2025-02-21T11:49:02.7325600Z 
2025-02-21T11:49:02.7325760Z     def test_spectrum(self, simulation_regression_data):
2025-02-21T11:49:02.7326120Z         key = "simulation/spectrum_solver/spectrum_real_packets/luminosity"
2025-02-21T11:49:02.7326470Z         expected = self.get_expected_data(key)
2025-02-21T11:49:02.7326740Z     
2025-02-21T11:49:02.7326950Z         luminosity = u.Quantity(expected, "erg /s")
2025-02-21T11:49:02.7327170Z     
2025-02-21T11:49:02.7327340Z >       assert_quantity_allclose(
2025-02-21T11:49:02.7327630Z             simulation_regression_data.spectrum_solver.spectrum_real_packets.luminosity,
2025-02-21T11:49:02.7328000Z             luminosity,
2025-02-21T11:49:02.7328320Z         )
2025-02-21T11:49:02.7328400Z 
2025-02-21T11:49:02.7328470Z tardis/tests/test_tardis_full.py:71: 
2025-02-21T11:49:02.7328720Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-02-21T11:49:02.7329240Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/astropy/tests/helper.py:203: in assert_quantity_allclose
2025-02-21T11:49:02.7329670Z     np.testing.assert_allclose(
2025-02-21T11:49:02.7329920Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-02-21T11:49:02.7330090Z 
2025-02-21T11:49:02.7330480Z args = (<function assert_allclose.<locals>.compare at 0x167d33d80>, array([0.00000000e+00, 0.00000000e+00, 2.76120259e+39, .....), array([1.47119190e+39, 1.69564189e+39, 1.35368464e+39, ...,
2025-02-21T11:49:02.7331430Z        0.00000000e+00, 0.00000000e+00, 0.00000000e+00]))
2025-02-21T11:49:02.7331840Z kwds = {'equal_nan': True, 'err_msg': '', 'header': 'Not equal to tolerance rtol=1e-07, atol=0', 'verbose': True}
2025-02-21T11:49:02.7332120Z 
2025-02-21T11:49:02.7332190Z     @wraps(func)
2025-02-21T11:49:02.7344160Z     def inner(*args, **kwds):
2025-02-21T11:49:02.7344390Z         with self._recreate_cm():
2025-02-21T11:49:02.7344650Z >           return func(*args, **kwds)
2025-02-21T11:49:02.7344880Z E           AssertionError: 
2025-02-21T11:49:02.7345100Z E           Not equal to tolerance rtol=1e-07, atol=0
2025-02-21T11:49:02.7345390Z E           
2025-02-21T11:49:02.7345550Z E           Mismatched elements: 4560 / 10000 (45.6%)
2025-02-21T11:49:02.7345800Z E           Max absolute difference: 1.96604107e+40
2025-02-21T11:49:02.7346040Z E           Max relative difference: 97.03021569
2025-02-21T11:49:02.7346330Z E            x: array([0.000000e+00, 0.000000e+00, 2.761203e+39, ..., 0.000000e+00,
2025-02-21T11:49:02.7346610Z E                  0.000000e+00, 0.000000e+00])
2025-02-21T11:49:02.7346890Z E            y: array([1.471192e+39, 1.695642e+39, 1.353685e+39, ..., 0.000000e+00,
2025-02-21T11:49:02.7347150Z E                  0.000000e+00, 0.000000e+00])
2025-02-21T11:49:02.7347290Z 
2025-02-21T11:49:02.7347450Z ../../../micromamba/envs/tardis/lib/python3.12/contextlib.py:81: AssertionError
2025-02-21T11:49:02.7347830Z __________________ TestTransportSimple.test_virtual_spectrum ___________________
2025-02-21T11:49:02.7348050Z 
2025-02-21T11:49:02.7348260Z self = <tardis.tests.test_tardis_full.TestTransportSimple object at 0x139f638f0>
2025-02-21T11:49:02.7348740Z simulation_regression_data = <tardis.simulation.base.Simulation object at 0x154d59790>
2025-02-21T11:49:02.7349010Z 
2025-02-21T11:49:02.7349130Z     def test_virtual_spectrum(self, simulation_regression_data):
2025-02-21T11:49:02.7349470Z         key = "simulation/spectrum_solver/spectrum_virtual_packets/luminosity"
2025-02-21T11:49:02.7349830Z         expected = self.get_expected_data(key)
2025-02-21T11:49:02.7350070Z     
2025-02-21T11:49:02.7350240Z         luminosity = u.Quantity(expected, "erg /s")
2025-02-21T11:49:02.7350430Z     
2025-02-21T11:49:02.7350560Z >       assert_quantity_allclose(
2025-02-21T11:49:02.7350900Z             simulation_regression_data.spectrum_solver.spectrum_virtual_packets.luminosity,
2025-02-21T11:49:02.7351220Z             luminosity,
2025-02-21T11:49:02.7351370Z         )
2025-02-21T11:49:02.7351450Z 
2025-02-21T11:49:02.7351510Z tardis/tests/test_tardis_full.py:82: 
2025-02-21T11:49:02.7351860Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-02-21T11:49:02.7352300Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/astropy/tests/helper.py:203: in assert_quantity_allclose
2025-02-21T11:49:02.7352710Z     np.testing.assert_allclose(
2025-02-21T11:49:02.7352920Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-02-21T11:49:02.7353080Z 
2025-02-21T11:49:02.7353450Z args = (<function assert_allclose.<locals>.compare at 0x167d30cc0>, array([1.31895331e+39, 2.31381538e+39, 3.72000430e+39, .....), array([1.44033177e+39, 1.35611403e+39, 1.39755698e+39, ...,
2025-02-21T11:49:02.7353960Z        0.00000000e+00, 0.00000000e+00, 0.00000000e+00]))
2025-02-21T11:49:02.7354310Z kwds = {'equal_nan': True, 'err_msg': '', 'header': 'Not equal to tolerance rtol=1e-07, atol=0', 'verbose': True}
2025-02-21T11:49:02.7354580Z 
2025-02-21T11:49:02.7354630Z     @wraps(func)
2025-02-21T11:49:02.7354780Z     def inner(*args, **kwds):
2025-02-21T11:49:02.7354960Z         with self._recreate_cm():
2025-02-21T11:49:02.7355190Z >           return func(*args, **kwds)
2025-02-21T11:49:02.7355380Z E           AssertionError: 
2025-02-21T11:49:02.7355580Z E           Not equal to tolerance rtol=1e-07, atol=0
2025-02-21T11:49:02.7356320Z E           
2025-02-21T11:49:02.7356480Z E           Mismatched elements: 5659 / 10000 (56.6%)
2025-02-21T11:49:02.7356700Z E           Max absolute difference: 4.69537822e+39
2025-02-21T11:49:02.7356930Z E           Max relative difference: 419.77405263
2025-02-21T11:49:02.7357210Z E            x: array([1.318953e+39, 2.313815e+39, 3.720004e+39, ..., 0.000000e+00,
2025-02-21T11:49:02.7357470Z E                  0.000000e+00, 0.000000e+00])
2025-02-21T11:49:02.7357730Z E            y: array([1.440332e+39, 1.356114e+39, 1.397557e+39, ..., 0.000000e+00,
2025-02-21T11:49:02.7357990Z E                  0.000000e+00, 0.000000e+00])
2025-02-21T11:49:02.7358120Z 
2025-02-21T11:49:02.7358290Z ../../../micromamba/envs/tardis/lib/python3.12/contextlib.py:81: AssertionError
2025-02-21T11:49:02.7358610Z =============================== warnings summary ===============================
2025-02-21T11:49:02.7358860Z tardis/io/configuration/config_validator.py:6
2025-02-21T11:49:02.7359110Z tardis/io/configuration/config_validator.py:6
2025-02-21T11:49:02.7359510Z   /Users/runner/work/tardis/tardis/tardis/io/configuration/config_validator.py:6: DeprecationWarning:
2025-02-21T11:49:02.7359880Z   
2025-02-21T11:49:02.7360960Z   jsonschema.RefResolver is deprecated as of v4.18.0, in favor of the https://github.com/python-jsonschema/referencing library, which provides more compliant referencing behavior as well as more flexible APIs for customization. A future release will remove RefResolver. Please file a feature request (on referencing) if you are missing an API for the kind of customization you need.
2025-02-21T11:49:02.7361930Z 
2025-02-21T11:49:02.7362130Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/jupyter_client/connect.py:22
2025-02-21T11:49:02.7362680Z   /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages/jupyter_client/connect.py:22: DeprecationWarning:
2025-02-21T11:49:02.7363080Z   
2025-02-21T11:49:02.7363260Z   Jupyter is migrating its paths to use standard platformdirs
2025-02-21T11:49:02.7363590Z   given by the platformdirs library.  To remove this warning and
2025-02-21T11:49:02.7363910Z   see the appropriate new directories, set the environment variable
2025-02-21T11:49:02.7364230Z   `JUPYTER_PLATFORM_DIRS=1` and then run `jupyter --paths`.
2025-02-21T11:49:02.7364540Z   The use of platformdirs will be the default in `jupyter_core` v6
2025-02-21T11:49:02.7364740Z 
2025-02-21T11:49:02.7369880Z tardis/io/tests/test_HDFWriter.py::test_multi_index_write
2025-02-21T11:49:02.7370300Z tardis/visualization/widgets/tests/test_shell_info.py::TestHDFShellInfo::test_shells_data
2025-02-21T11:49:02.7370750Z   /Users/runner/work/tardis/tardis/tardis/io/util.py:276: PerformanceWarning:
2025-02-21T11:49:02.7371040Z   
2025-02-21T11:49:02.7371150Z   
2025-02-21T11:49:02.7371380Z   your performance may suffer as PyTables will pickle object types that it cannot
2025-02-21T11:49:02.7371830Z   map directly to c-types [inferred_type->mixed,key->block0_values] [items->Index([0], dtype='int64')]
2025-02-21T11:49:02.7372120Z 
2025-02-21T11:49:02.7372280Z tardis/io/tests/test_model_reader.py::test_read_cmfgen_isotope_abundances
2025-02-21T11:49:02.7372680Z tardis/plasma/tests/test_tardis_model_density_config.py::test_electron_densities
2025-02-21T11:49:02.7373210Z tardis/plasma/tests/test_tardis_model_density_config.py::test_isotope_number_densities
2025-02-21T11:49:02.7373610Z tardis/plasma/tests/test_tardis_model_density_config.py::test_t_rad
2025-02-21T11:49:02.7374090Z   /Users/runner/work/tardis/tardis/tardis/io/model/readers/cmfgen_deprecated.py:82: DeprecationWarning:
2025-02-21T11:49:02.7374460Z   
2025-02-21T11:49:02.7374610Z   The current CMFGEN model parser is deprecated
2025-02-21T11:49:02.7374770Z 
2025-02-21T11:49:02.7374860Z tardis/io/tests/test_model_reader.py: 1 warning
2025-02-21T11:49:02.7375150Z tardis/plasma/tests/test_tardis_model_density_config.py: 9 warnings
2025-02-21T11:49:02.7375620Z   /Users/runner/work/tardis/tardis/tardis/io/model/readers/cmfgen_deprecated.py:40: DeprecationWarning:
2025-02-21T11:49:02.7376720Z   
2025-02-21T11:49:02.7376870Z   The current CMFGEN model parser is deprecated
2025-02-21T11:49:02.7377020Z 
2025-02-21T11:49:02.7377190Z tardis/model/tests/test_base.py::TestModelFromPaper1Config::test_abundances
2025-02-21T11:49:02.7377720Z   /Users/runner/work/tardis/tardis/tardis/transport/montecarlo/montecarlo_main_loop.py:123: NumbaTypeSafetyWarning:
2025-02-21T11:49:02.7378130Z   
2025-02-21T11:49:02.7380830Z   [1m[1m[1munsafe cast from uint64 to int64. Precision may be lost.[0m[0m[0m
2025-02-21T11:49:02.7381060Z 
2025-02-21T11:49:02.7381130Z tardis/model/tests/test_base.py: 6 warnings
2025-02-21T11:49:02.7381510Z tardis/model/tests/test_csvy_model.py: 2 warnings
2025-02-21T11:49:02.7381820Z tardis/plasma/tests/test_tardis_model_density_config.py: 3 warnings
2025-02-21T11:49:02.7382250Z   /Users/runner/work/tardis/tardis/tardis/model/geometry/radial1d.py:50: DeprecationWarning:
2025-02-21T11:49:02.7382580Z   
2025-02-21T11:49:02.7382730Z   v_inner_boundary < 0, assuming default value
2025-02-21T11:49:02.7382890Z 
2025-02-21T11:49:02.7382970Z tardis/model/tests/test_base.py: 6 warnings
2025-02-21T11:49:02.7383200Z tardis/model/tests/test_csvy_model.py: 2 warnings
2025-02-21T11:49:02.7383500Z tardis/plasma/tests/test_tardis_model_density_config.py: 3 warnings
2025-02-21T11:49:02.7383930Z   /Users/runner/work/tardis/tardis/tardis/model/geometry/radial1d.py:61: DeprecationWarning:
2025-02-21T11:49:02.7384260Z   
2025-02-21T11:49:02.7384400Z   v_outer_boundary < 0, assuming default value
2025-02-21T11:49:02.7384550Z 
2025-02-21T11:49:02.7384940Z tardis/plasma/equilibrium/tests/test_level_populations.py::TestLevelPopulationSolver::test_solve[collisional_rate_solver0-radiative_transitions0]
2025-02-21T11:49:02.7385620Z   /Users/runner/work/tardis/tardis/tardis/plasma/equilibrium/level_populations.py:65: FutureWarning:
2025-02-21T11:49:02.7385990Z   
2025-02-21T11:49:02.7386270Z   A value is trying to be set on a copy of a DataFrame or Series through chained assignment using an inplace method.
2025-02-21T11:49:02.7386930Z   The behavior will change in pandas 3.0. This inplace method will never work because the intermediate object on which we are setting values always behaves as a copy.
2025-02-21T11:49:02.7387400Z   
2025-02-21T11:49:02.7387890Z   For example, when doing 'df[col].method(value, inplace=True)', try using 'df.method({col: value}, inplace=True)' or df[col] = df[col].method(value) instead, to perform the operation inplace on the original object.
2025-02-21T11:49:02.7388380Z 
2025-02-21T11:49:02.7388560Z tardis/plasma/tests/test_plasma_vboundary.py::test_plasma_vboundary[2900-3750]
2025-02-21T11:49:02.7388970Z tardis/plasma/tests/test_plasma_vboundary.py::test_plasma_vboundary[2900-3850]
2025-02-21T11:49:02.7389530Z tardis/plasma/tests/test_plasma_vboundary.py::test_plasma_vboundary[2900-3900]
2025-02-21T11:49:02.7390380Z   /Users/runner/work/tardis/tardis/tardis/model/geometry/radial1d.py:71: UserWarning:
2025-02-21T11:49:02.7390730Z   
2025-02-21T11:49:02.7390980Z   Requesting inner boundary below inner shell. Extrapolating the inner cell
2025-02-21T11:49:02.7391210Z 
2025-02-21T11:49:02.7391400Z tardis/spectrum/tests/test_spectrum_solver.py::TestSpectrumSolver::test_solve
2025-02-21T11:49:02.7391810Z   /Users/runner/work/tardis/tardis/tardis/spectrum/base.py:70: UserWarning:
2025-02-21T11:49:02.7392100Z   
2025-02-21T11:49:02.7392430Z   SpectrumSolver.spectrum_virtual_packets is zero. Please run the montecarlo simulation with no_of_virtual_packets > 0
2025-02-21T11:49:02.7392770Z 
2025-02-21T11:49:02.7392950Z tardis/spectrum/tests/test_spectrum_solver.py::TestSpectrumSolver::test_solve
2025-02-21T11:49:02.7393360Z   /Users/runner/work/tardis/tardis/tardis/spectrum/base.py:111: UserWarning:
2025-02-21T11:49:02.7393640Z   
2025-02-21T11:49:02.7393990Z   SpectrumSolver.integrator: The FormalIntegrator is not yet available.Please run the montecarlo simulation at least once.
2025-02-21T11:49:02.7394340Z 
2025-02-21T11:49:02.7394510Z tardis/transport/montecarlo/tests/test_vpacket.py::test_trace_vpacket_volley
2025-02-21T11:49:02.7395300Z   <string>:3: NumbaPendingDeprecationWarning:
2025-02-21T11:49:02.7395500Z   
2025-02-21T11:49:02.7396460Z   [1m[1mCode using Numba extension API maybe depending on 'old_style' error-capturing, which is deprecated and will be replaced by 'new_style' in a future release. See details at https://numba.readthedocs.io/en/latest/reference/deprecation.html#deprecation-of-old-style-numba-captured-errors
2025-02-21T11:49:02.7397280Z   Exception origin:
2025-02-21T11:49:02.7397590Z     File "/Users/runner/micromamba/envs/tardis/lib/python3.12/inspect.py", line 3180, in _bind
2025-02-21T11:49:02.7397930Z       raise TypeError(msg) from None
2025-02-21T11:49:02.7398130Z   [0m[0m
2025-02-21T11:49:02.7398220Z 
2025-02-21T11:49:02.7398490Z tardis/visualization/tools/tests/test_sdec_plot.py::TestSDECPlotter::test_mpl_image[plotter_generate_plot_mpl4]
2025-02-21T11:49:02.7399050Z   /Users/runner/work/tardis/tardis/tardis/visualization/tools/sdec_plot.py:1225: RuntimeWarning:
2025-02-21T11:49:02.7399400Z   
2025-02-21T11:49:02.7400150Z   More than 20 figures have been opened. Figures created through the pyplot interface (`matplotlib.pyplot.figure`) are retained until explicitly closed and may consume too much memory. (To control this warning, see the rcParam `figure.max_open_warning`). Consider using `matplotlib.pyplot.close()`.
2025-02-21T11:49:02.7400880Z 
2025-02-21T11:49:02.7401170Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-02-21T11:49:02.7401800Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-02-21T11:49:02.7402420Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-02-21T11:49:02.7403050Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-02-21T11:49:02.7403680Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-02-21T11:49:02.7404310Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-02-21T11:49:02.7404940Z   /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages/traitlets/traitlets.py:1385: DeprecationWarning:
2025-02-21T11:49:02.7405330Z   
2025-02-21T11:49:02.7405560Z   Passing unrecognized arguments to super(Checkbox).__init__(icon='lock').
2025-02-21T11:49:02.7405930Z   object.__init__() takes exactly one argument (the instance to initialize)
2025-02-21T11:49:02.7406340Z   This is deprecated in traitlets 4.2.This error will be raised in a future release of traitlets.
2025-02-21T11:49:02.7406600Z 
2025-02-21T11:49:02.7406880Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-02-21T11:49:02.7407530Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-02-21T11:49:02.7408170Z   /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages/traitlets/traitlets.py:1385: DeprecationWarning:
2025-02-21T11:49:02.7408580Z   
2025-02-21T11:49:02.7408790Z   Passing unrecognized arguments to super(FloatText).__init__(min=0).
2025-02-21T11:49:02.7409150Z   object.__init__() takes exactly one argument (the instance to initialize)
2025-02-21T11:49:02.7409550Z   This is deprecated in traitlets 4.2.This error will be raised in a future release of traitlets.
2025-02-21T11:49:02.7409820Z 
2025-02-21T11:49:02.7410100Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-02-21T11:49:02.7410730Z   /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages/traitlets/traitlets.py:1385: DeprecationWarning:
2025-02-21T11:49:02.7411120Z   
2025-02-21T11:49:02.7411330Z   Passing unrecognized arguments to super(HTML).__init__(indent=True).
2025-02-21T11:49:02.7411970Z   object.__init__() takes exactly one argument (the instance to initialize)
2025-02-21T11:49:02.7412370Z   This is deprecated in traitlets 4.2.This error will be raised in a future release of traitlets.
2025-02-21T11:49:02.7412630Z 
2025-02-21T11:49:02.7412980Z tardis/visualization/widgets/tests/test_line_info.py::TestLineInfoWidgetData::test_get_species_interactions[wavelength_range0-packet_out_nu]
2025-02-21T11:49:02.7413650Z   /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages/qgridnext/grid.py:825: DeprecationWarning:
2025-02-21T11:49:02.7414020Z   
2025-02-21T11:49:02.7414310Z   QgridWidget._grid_options_changed is deprecated in traitlets 4.1: use @observe and @unobserve instead.
2025-02-21T11:49:02.7414610Z 
2025-02-21T11:49:02.7414820Z tardis/visualization/widgets/tests/test_shell_info.py::TestHDFShellInfo::test_shells_data
2025-02-21T11:49:02.7415260Z   /Users/runner/work/tardis/tardis/tardis/io/util.py:289: PerformanceWarning:
2025-02-21T11:49:02.7415550Z   
2025-02-21T11:49:02.7415660Z   
2025-02-21T11:49:02.7415890Z   your performance may suffer as PyTables will pickle object types that it cannot
2025-02-21T11:49:02.7416420Z   map directly to c-types [inferred_type->mixed,key->block0_values] [items->Index([0], dtype='int64')]
2025-02-21T11:49:02.7416700Z 
2025-02-21T11:49:02.7416910Z tardis/visualization/widgets/tests/test_shell_info.py::TestHDFShellInfo::test_shells_data
2025-02-21T11:49:02.7417350Z   /Users/runner/work/tardis/tardis/tardis/io/util.py:292: PerformanceWarning:
2025-02-21T11:49:02.7417640Z   
2025-02-21T11:49:02.7417750Z   
2025-02-21T11:49:02.7417970Z   your performance may suffer as PyTables will pickle object types that it cannot
2025-02-21T11:49:02.7418350Z   map directly to c-types [inferred_type->mixed,key->values] [items->None]
2025-02-21T11:49:02.7418560Z 
2025-02-21T11:49:02.7418770Z tardis/visualization/widgets/tests/test_shell_info.py::TestHDFShellInfo::test_shells_data
2025-02-21T11:49:02.7419240Z   /Users/runner/work/tardis/tardis/tardis/spectrum/formal_integral.py:398: UserWarning:
2025-02-21T11:49:02.7419560Z   
2025-02-21T11:49:02.7419780Z   The number of interpolate_shells was not specified. The value was set to 80.
2025-02-21T11:49:02.7420000Z 
2025-02-21T11:49:02.7420170Z -- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
2025-02-21T11:49:02.7420390Z 
2025-02-21T11:49:02.7420520Z ---------- coverage: platform darwin, python 3.12.4-final-0 ----------
2025-02-21T11:49:02.7420820Z Coverage HTML written to dir coverage_html_report
2025-02-21T11:49:02.7421060Z Coverage XML written to file coverage.xml
2025-02-21T11:49:02.7421200Z 
2025-02-21T11:49:02.7421300Z =========================== short test summary info ============================
2025-02-21T11:49:02.7421760Z FAILED tardis/spectrum/tests/test_spectrum_solver.py::TestSpectrumSolver::test_spectrum_real_packets - AssertionError: 
2025-02-21T11:49:02.7422190Z Not equal to tolerance rtol=1e-07, atol=0
2025-02-21T11:49:02.7422340Z 
2025-02-21T11:49:02.7422410Z Mismatched elements: 4355 / 10000 (43.5%)
2025-02-21T11:49:02.7422610Z Max absolute difference: 1.94155993e+40
2025-02-21T11:49:02.7422810Z Max relative difference: 137.15340685
2025-02-21T11:49:02.7423070Z  x: array([0.000000e+00, 0.000000e+00, 2.761203e+39, ..., 0.000000e+00,
2025-02-21T11:49:02.7423320Z        0.000000e+00, 0.000000e+00])
2025-02-21T11:49:02.7423560Z  y: array([1.335111e+39, 1.337387e+39, 9.415985e+38, ..., 0.000000e+00,
2025-02-21T11:49:02.7423800Z        0.000000e+00, 0.000000e+00])
2025-02-21T11:49:02.7424240Z FAILED tardis/spectrum/tests/test_spectrum_solver.py::TestSpectrumSolver::test_spectrum_real_packets_reabsorbed - AssertionError: 
2025-02-21T11:49:02.7424690Z Not equal to tolerance rtol=1e-07, atol=0
2025-02-21T11:49:02.7424830Z 
2025-02-21T11:49:02.7424900Z Mismatched elements: 4491 / 10000 (44.9%)
2025-02-21T11:49:02.7425100Z Max absolute difference: 1.0639846e+40
2025-02-21T11:49:02.7425310Z Max relative difference: 122.79315318
2025-02-21T11:49:02.7425820Z  x: array([0., 0., 0., ..., 0., 0., 0.])
2025-02-21T11:49:02.7426140Z  y: array([2.039204e+38, 3.728825e+38, 2.296469e+38, ..., 0.000000e+00,
2025-02-21T11:49:02.7426380Z        0.000000e+00, 0.000000e+00])
2025-02-21T11:49:02.7426740Z FAILED tardis/spectrum/tests/test_spectrum_solver.py::TestSpectrumSolver::test_solve - AssertionError: 
2025-02-21T11:49:02.7427120Z Not equal to tolerance rtol=1e-07, atol=0
2025-02-21T11:49:02.7427270Z 
2025-02-21T11:49:02.7427330Z Mismatched elements: 4355 / 10000 (43.5%)
2025-02-21T11:49:02.7427540Z Max absolute difference: 1.94155993e+40
2025-02-21T11:49:02.7427750Z Max relative difference: 137.15340685
2025-02-21T11:49:02.7427990Z  x: array([0.000000e+00, 0.000000e+00, 2.761203e+39, ..., 0.000000e+00,
2025-02-21T11:49:02.7428240Z        0.000000e+00, 0.000000e+00])
2025-02-21T11:49:02.7428470Z  y: array([1.335111e+39, 1.337387e+39, 9.415985e+38, ..., 0.000000e+00,
2025-02-21T11:49:02.7428710Z        0.000000e+00, 0.000000e+00])
2025-02-21T11:49:02.7429110Z FAILED tardis/tests/test_tardis_full.py::TestTransportSimple::test_j_blue_estimators - AssertionError: 
2025-02-21T11:49:02.7429510Z Not equal to tolerance rtol=1e-07, atol=0
2025-02-21T11:49:02.7429660Z 
2025-02-21T11:49:02.7429730Z Mismatched elements: 488044 / 584480 (83.5%)
2025-02-21T11:49:02.7430020Z Max absolute difference: 1.43452643e-17
2025-02-21T11:49:02.7430230Z Max relative difference: 235.31367318
2025-02-21T11:49:02.7430420Z  x: array([[0., 0., 0., ..., 0., 0., 0.],
2025-02-21T11:49:02.7430600Z        [0., 0., 0., ..., 0., 0., 0.],
2025-02-21T11:49:02.7430770Z        [0., 0., 0., ..., 0., 0., 0.],...
2025-02-21T11:49:02.7430960Z  y: array([[0., 0., 0., ..., 0., 0., 0.],
2025-02-21T11:49:02.7431130Z        [0., 0., 0., ..., 0., 0., 0.],
2025-02-21T11:49:02.7431300Z        [0., 0., 0., ..., 0., 0., 0.],...
2025-02-21T11:49:02.7431630Z FAILED tardis/tests/test_tardis_full.py::TestTransportSimple::test_spectrum - AssertionError: 
2025-02-21T11:49:02.7431970Z Not equal to tolerance rtol=1e-07, atol=0
2025-02-21T11:49:02.7432120Z 
2025-02-21T11:49:02.7432180Z Mismatched elements: 4560 / 10000 (45.6%)
2025-02-21T11:49:02.7432380Z Max absolute difference: 1.96604107e+40
2025-02-21T11:49:02.7432570Z Max relative difference: 97.03021569
2025-02-21T11:49:02.7432800Z  x: array([0.000000e+00, 0.000000e+00, 2.761203e+39, ..., 0.000000e+00,
2025-02-21T11:49:02.7433040Z        0.000000e+00, 0.000000e+00])
2025-02-21T11:49:02.7433270Z  y: array([1.471192e+39, 1.695642e+39, 1.353685e+39, ..., 0.000000e+00,
2025-02-21T11:49:02.7433500Z        0.000000e+00, 0.000000e+00])
2025-02-21T11:49:02.7433840Z FAILED tardis/tests/test_tardis_full.py::TestTransportSimple::test_virtual_spectrum - AssertionError: 
2025-02-21T11:49:02.7434200Z Not equal to tolerance rtol=1e-07, atol=0
2025-02-21T11:49:02.7434330Z 
2025-02-21T11:49:02.7434400Z Mismatched elements: 5659 / 10000 (56.6%)
2025-02-21T11:49:02.7434590Z Max absolute difference: 4.69537822e+39
2025-02-21T11:49:02.7434780Z Max relative difference: 419.77405263
2025-02-21T11:49:02.7435030Z  x: array([1.318953e+39, 2.313815e+39, 3.720004e+39, ..., 0.000000e+00,
2025-02-21T11:49:02.7435270Z        0.000000e+00, 0.000000e+00])
2025-02-21T11:49:02.7435490Z  y: array([1.440332e+39, 1.356114e+39, 1.397557e+39, ..., 0.000000e+00,
2025-02-21T11:49:02.7435730Z        0.000000e+00, 0.000000e+00])
2025-02-21T11:49:02.7436050Z = 6 failed, 1404 passed, 357 skipped, 2 deselected, 19 xfailed, 8 xpassed, 63 warnings in 648.44s (0:10:48) =
2025-02-21T11:49:04.2351890Z ##[error]Process completed with exit code 1.
