2025-01-24T13:39:50.9348792Z ##[group]Run micromamba activate ./micromamba_tardis
2025-01-24T13:39:50.9349191Z [36;1mmicromamba activate ./micromamba_tardis[0m
2025-01-24T13:39:50.9349937Z [36;1mpytest tardis --tardis-regression-data=/home/runner/work/tardis/tardis/tardis-regression-data --cov=tardis --cov-report=xml --cov-report=html --cov-append -m "not continuum"[0m
2025-01-24T13:39:50.9378005Z shell: /usr/bin/bash -l {0}
2025-01-24T13:39:50.9378239Z env:
2025-01-24T13:39:50.9378395Z   CACHE_NUMBER: 0
2025-01-24T13:39:50.9378996Z   PYTEST_FLAGS: --tardis-regression-data=/home/runner/work/tardis/tardis/tardis-regression-data --cov=tardis --cov-report=xml --cov-report=html --cov-append
2025-01-24T13:39:50.9379644Z   CODECOV_TOKEN: 
2025-01-24T13:39:50.9379849Z   MAMBA_ROOT_PREFIX: /home/runner/micromamba
2025-01-24T13:39:50.9380134Z   MAMBA_EXE: /home/runner/micromamba-bin/micromamba
2025-01-24T13:39:50.9380475Z   CONDARC: /home/runner/work/_temp/setup-micromamba/.condarc
2025-01-24T13:39:50.9380763Z ##[endgroup]
2025-01-24T13:40:03.0572356Z ============================= test session starts ==============================
2025-01-24T13:40:03.0573032Z platform linux -- Python 3.12.4, pytest-8.2.2, pluggy-1.5.0
2025-01-24T13:40:03.0573558Z rootdir: /home/runner/work/tardis/tardis
2025-01-24T13:40:03.0573991Z configfile: pyproject.toml
2025-01-24T13:40:03.0574511Z plugins: anyio-4.4.0, doctestplus-1.2.1, html-4.1.1, metadata-3.1.1, cov-5.0.0
2025-01-24T13:40:03.0575144Z collected 1796 items / 2 deselected / 1794 selected
2025-01-24T13:40:03.0575459Z 
2025-01-24T13:40:08.1645106Z tardis/energy_input/tests/test_energy_source.py ..xxx                    [  0%]
2025-01-24T13:40:09.8544119Z tardis/energy_input/tests/test_gamma_ray_channel.py ...........          [  0%]
2025-01-24T13:40:11.4176185Z tardis/energy_input/tests/test_gamma_ray_grid.py xx.                     [  1%]
2025-01-24T13:40:13.3788562Z tardis/energy_input/tests/test_gamma_ray_interactions.py xx....          [  1%]
2025-01-24T13:40:13.3880644Z tardis/energy_input/tests/test_gamma_ray_packet_source.py sssssssss      [  1%]
2025-01-24T13:40:14.6597544Z tardis/energy_input/tests/test_util.py .....xxxx.....                    [  2%]
2025-01-24T13:40:15.0059953Z tardis/grid/tests/test_grid.py .                                         [  2%]
2025-01-24T13:40:15.0076202Z tardis/gui/tests/test_gui.py s                                           [  2%]
2025-01-24T13:40:18.6588314Z tardis/io/configuration/tests/test_config_reader.py ...........          [  3%]
2025-01-24T13:40:18.6712275Z tardis/io/configuration/tests/test_configuration_namespace.py .........  [  3%]
2025-01-24T13:40:18.6976980Z tardis/io/logger/tests/test_logging.py ssssssssssssssssssssssssssss      [  5%]
2025-01-24T13:40:56.3003077Z tardis/io/model/readers/tests/test_arepo_parser.py ..                    [  5%]
2025-01-24T13:40:56.3154431Z tardis/io/model/readers/tests/test_ascii_readers.py ...                  [  5%]
2025-01-24T13:40:56.3266171Z tardis/io/model/readers/tests/test_cmfgen_reader.py ..                   [  5%]
2025-01-24T13:40:56.3568763Z tardis/io/model/readers/tests/test_csvy_reader.py ....                   [  6%]
2025-01-24T13:40:56.3782542Z tardis/io/model/readers/tests/test_stella_reader.py ..                   [  6%]
2025-01-24T13:40:56.6827018Z tardis/io/tests/test_HDFWriter.py ...............                        [  7%]
2025-01-24T13:40:56.9865551Z tardis/io/tests/test_atomic.py .....                                     [  7%]
2025-01-24T13:40:57.0059522Z tardis/io/tests/test_decay.py ..                                         [  7%]
2025-01-24T13:40:57.2176852Z tardis/io/tests/test_model_reader.py ......                              [  7%]
2025-01-24T13:40:57.2243521Z tardis/model/geometry/tests/test_radial1d.py ..                          [  7%]
2025-01-24T13:41:54.8596651Z tardis/model/tests/test_base.py ........................................ [ 10%]
2025-01-24T13:41:55.8492082Z ............                                                             [ 10%]
2025-01-24T13:41:58.8900685Z tardis/model/tests/test_csvy_model.py .........                          [ 11%]
2025-01-24T13:41:58.9375342Z tardis/model/tests/test_density.py ..                                    [ 11%]
2025-01-24T13:42:00.2192072Z tardis/opacities/tests/test_opacity_solver.py .....                      [ 11%]
2025-01-24T13:42:01.5785510Z tardis/opacities/tests/test_opacity_state_numba.py .....                 [ 11%]
2025-01-24T13:42:03.2829873Z tardis/opacities/tests/test_tau_sobolev.py FF                            [ 12%]
2025-01-24T13:42:06.3495820Z tardis/plasma/equilibrium/tests/test_collisional_transitions.py ...      [ 12%]
2025-01-24T13:42:53.2333871Z tardis/plasma/equilibrium/tests/test_level_populations.py ....           [ 12%]
2025-01-24T13:43:04.7213119Z tardis/plasma/equilibrium/tests/test_rate_matrix.py .                    [ 12%]
2025-01-24T13:43:06.1308752Z tardis/plasma/tests/test_complete_plasmas.py ..............s......s..... [ 13%]
2025-01-24T13:43:08.9966742Z s....ssssss............s......s.....ss.....s....ssssss............s..... [ 18%]
2025-01-24T13:43:10.6694914Z .s.....ss.....s....ssssss............s......s.....ss.....s....ssssss.... [ 22%]
2025-01-24T13:43:13.5062713Z ........s......s.....ss.....s....ssssss............s......s.....ss.....s [ 26%]
2025-01-24T13:43:16.3746876Z ....ssssss............s......s.....ss.....s....ssssss............s...... [ 30%]
2025-01-24T13:43:17.1397843Z s.....ss.....s....ssssss............s......s.....ss.....s.ss.ssssss..... [ 34%]
2025-01-24T13:43:20.0174081Z .......s......s.....ss.....s....ssssss............s......s.....ss.....s. [ 38%]
2025-01-24T13:43:22.8527177Z ...ssssss............s......s.....ss.....s....ssssss............s......s [ 42%]
2025-01-24T13:43:25.9229402Z .....ss.....s....ssssss............s......s.....s...........ssssss...... [ 46%]
2025-01-24T13:43:27.7461922Z ......s......s.....s...........ssssss............s......s.....s......... [ 50%]
2025-01-24T13:43:31.0599319Z ..ssssss............s......s.....ss.....s....ssssss............s......s. [ 54%]
2025-01-24T13:43:34.1942355Z ....ss.....s....ssssss...................s......s.....s....ssss......... [ 58%]
2025-01-24T13:43:34.4940304Z ............s......s.....s....ssss.......                                [ 60%]
2025-01-24T13:43:34.6124146Z tardis/plasma/tests/test_hdf_plasma.py ................................. [ 62%]
2025-01-24T13:43:34.6233570Z ......                                                                   [ 62%]
2025-01-24T13:43:34.7579377Z tardis/plasma/tests/test_nlte_excitation.py ...                          [ 62%]
2025-01-24T13:45:51.5877464Z tardis/plasma/tests/test_nlte_solver.py .....X                           [ 63%]
2025-01-24T13:45:51.5904317Z tardis/plasma/tests/test_plasma_continuum.py .                           [ 63%]
2025-01-24T13:46:15.1031180Z tardis/plasma/tests/test_plasma_vboundary.py .............               [ 63%]
2025-01-24T13:46:28.2240626Z tardis/plasma/tests/test_tardis_model_density_config.py ...              [ 64%]
2025-01-24T13:46:28.9885680Z tardis/simulation/tests/test_convergence.py .....                        [ 64%]
2025-01-24T13:46:37.5224878Z tardis/simulation/tests/test_simulation.py .............                 [ 65%]
2025-01-24T13:46:37.5416435Z tardis/spectrum/tests/test_cuda_formal_integral.py sssssssssssssssssssss [ 66%]
2025-01-24T13:46:38.0153379Z ssss...ssssssssssssssssssssss                                            [ 67%]
2025-01-24T13:46:38.0225705Z tardis/spectrum/tests/test_luminosity.py ....                            [ 68%]
2025-01-24T13:46:39.6144899Z tardis/spectrum/tests/test_numba_formal_integral.py .................... [ 69%]
2025-01-24T13:46:39.6337594Z ..........                                                               [ 69%]
2025-01-24T13:46:39.8038269Z tardis/spectrum/tests/test_spectrum.py ................................. [ 71%]
2025-01-24T13:46:39.8359830Z .........                                                                [ 72%]
2025-01-24T13:46:58.9590111Z tardis/spectrum/tests/test_spectrum_solver.py ....                       [ 72%]
2025-01-24T13:48:00.7988629Z tardis/tests/test_tardis_full.py ....                                    [ 72%]
2025-01-24T13:49:25.1158649Z tardis/tests/test_tardis_full_formal_integral.py ................        [ 73%]
2025-01-24T13:49:25.1911191Z tardis/tests/test_util.py .............................................  [ 75%]
2025-01-24T13:49:27.8031348Z tardis/transport/montecarlo/tests/test_base.py x.....................    [ 77%]
2025-01-24T13:49:35.0079956Z tardis/transport/montecarlo/tests/test_interaction.py .......            [ 77%]
2025-01-24T13:49:35.2245720Z tardis/transport/montecarlo/tests/test_macro_atom.py ....                [ 77%]
2025-01-24T13:49:35.2420558Z tardis/transport/montecarlo/tests/test_montecarlo.py sssssssssssssssssss [ 78%]
2025-01-24T13:49:35.2838789Z sssssssssssssssssssssssssssssssssssssssssssss                            [ 81%]
2025-01-24T13:49:44.7555181Z tardis/transport/montecarlo/tests/test_montecarlo_main_loop.py x..       [ 81%]
2025-01-24T13:49:44.7678468Z tardis/transport/montecarlo/tests/test_nonhomologous.py ...              [ 81%]
2025-01-24T13:49:50.6011179Z tardis/transport/montecarlo/tests/test_numba_interface.py .....x.        [ 82%]
2025-01-24T13:49:51.0879683Z tardis/transport/montecarlo/tests/test_opacities.py ...............      [ 82%]
2025-01-24T13:49:52.1442598Z tardis/transport/montecarlo/tests/test_packet.py .................xXXXXX [ 84%]
2025-01-24T13:49:52.2827259Z XX.........                                                              [ 84%]
2025-01-24T13:49:52.3107417Z tardis/transport/montecarlo/tests/test_packet_source.py ........         [ 85%]
2025-01-24T13:49:52.6436088Z tardis/transport/montecarlo/tests/test_rpacket_last_interaction_tracker.py . [ 85%]
2025-01-24T13:49:53.0457998Z .....                                                                    [ 85%]
2025-01-24T13:50:28.4160740Z tardis/transport/montecarlo/tests/test_rpacket_tracker.py ......         [ 85%]
2025-01-24T13:50:28.4451902Z tardis/transport/montecarlo/tests/test_single_packet_loop.py xxx         [ 86%]
2025-01-24T13:50:28.4489406Z tardis/transport/montecarlo/tests/test_tracker_utils.py ..               [ 86%]
2025-01-24T13:50:31.4959079Z tardis/transport/montecarlo/tests/test_vpacket.py ..x.                   [ 86%]
2025-01-24T13:50:31.5138024Z tardis/transport/montecarlo/tests/test_weighted_packet_source.py ....    [ 86%]
2025-01-24T13:50:34.9388027Z tardis/transport/montecarlo/tests/test_weighted_packet_source_integration.py . [ 86%]
2025-01-24T13:50:34.9390783Z                                                                          [ 86%]
2025-01-24T13:50:35.6644544Z tardis/transport/tests/test_doppler_factor.py ..................         [ 87%]
2025-01-24T13:50:37.3257015Z tardis/visualization/tools/tests/test_convergence_plot.py .............. [ 88%]
2025-01-24T13:50:40.0552339Z ......                                                                   [ 88%]
2025-01-24T13:50:44.8600668Z tardis/visualization/tools/tests/test_liv_plot.py ...................... [ 90%]
2025-01-24T13:50:47.7866749Z .............................                                            [ 91%]
2025-01-24T13:50:50.7727021Z tardis/visualization/tools/tests/test_rpacket_plot.py .................. [ 92%]
2025-01-24T13:50:57.8492438Z ....                                                                     [ 92%]
2025-01-24T13:51:03.7859550Z tardis/visualization/tools/tests/test_sdec_plot.py ..................... [ 94%]
2025-01-24T13:51:11.8487864Z ..............................                                           [ 95%]
2025-01-24T13:51:12.2853506Z tardis/visualization/widgets/tests/test_custom_abundance.py ........ss.. [ 96%]
2025-01-24T13:51:12.3546305Z ....                                                                     [ 96%]
2025-01-24T13:51:13.4078520Z tardis/visualization/widgets/tests/test_line_info.py ................... [ 97%]
2025-01-24T13:51:14.0334625Z ..................                                                       [ 98%]
2025-01-24T13:52:17.6807223Z tardis/visualization/widgets/tests/test_shell_info.py .................. [ 99%]
2025-01-24T13:52:24.2681870Z ......                                                                   [100%]
2025-01-24T13:52:24.2682368Z 
2025-01-24T13:52:24.2682556Z =================================== FAILURES ===================================
2025-01-24T13:52:24.2683211Z _____________________ test_calculate_sobolev_line_opacity ______________________
2025-01-24T13:52:24.2683615Z 
2025-01-24T13:52:24.2684054Z nb_simulation_verysimple = <tardis.simulation.base.Simulation object at 0x7f32c2d20230>
2025-01-24T13:52:24.2685006Z regression_data = <tardis.tests.fixtures.regression_data.RegressionData object at 0x7f32c22d34d0>
2025-01-24T13:52:24.2685579Z 
2025-01-24T13:52:24.2685748Z     def test_calculate_sobolev_line_opacity(
2025-01-24T13:52:24.2686181Z         nb_simulation_verysimple, regression_data
2025-01-24T13:52:24.2686569Z     ):
2025-01-24T13:52:24.2686897Z         legacy_plasma = nb_simulation_verysimple.plasma
2025-01-24T13:52:24.2687318Z     
2025-01-24T13:52:24.2687601Z         actual = calculate_sobolev_line_opacity(
2025-01-24T13:52:24.2688021Z             legacy_plasma.lines,
2025-01-24T13:52:24.2688392Z             legacy_plasma.level_number_density,
2025-01-24T13:52:24.2688807Z             legacy_plasma.time_explosion,
2025-01-24T13:52:24.2689241Z             legacy_plasma.stimulated_emission_factor,
2025-01-24T13:52:24.2689628Z         )
2025-01-24T13:52:24.2689946Z >       expected = regression_data.sync_dataframe(actual)
2025-01-24T13:52:24.2690261Z 
2025-01-24T13:52:24.2690437Z tardis/opacities/tests/test_tau_sobolev.py:21: 
2025-01-24T13:52:24.2690897Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-01-24T13:52:24.2691486Z tardis/tests/fixtures/regression_data.py:88: in sync_dataframe
2025-01-24T13:52:24.2692255Z     return pd.read_hdf(self.fpath, key=key)
2025-01-24T13:52:24.2692684Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-01-24T13:52:24.2693009Z 
2025-01-24T13:52:24.2693773Z path_or_buf = '/home/runner/work/tardis/tardis/tardis-regression-data/tardis/opacities/tests/test_tau_sobolev/test_calculate_sobolev_line_opacity.h5'
2025-01-24T13:52:24.2694982Z key = 'data', mode = 'r', errors = 'strict', where = None, start = None
2025-01-24T13:52:24.2695727Z stop = None, columns = None, iterator = False, chunksize = None, kwargs = {}
2025-01-24T13:52:24.2696323Z exists = False
2025-01-24T13:52:24.2696521Z 
2025-01-24T13:52:24.2696644Z     def read_hdf(
2025-01-24T13:52:24.2696993Z         path_or_buf: FilePath | HDFStore,
2025-01-24T13:52:24.2697412Z         key=None,
2025-01-24T13:52:24.2697727Z         mode: str = "r",
2025-01-24T13:52:24.2698077Z         errors: str = "strict",
2025-01-24T13:52:24.2698474Z         where: str | list | None = None,
2025-01-24T13:52:24.2698903Z         start: int | None = None,
2025-01-24T13:52:24.2699298Z         stop: int | None = None,
2025-01-24T13:52:24.2699710Z         columns: list[str] | None = None,
2025-01-24T13:52:24.2700147Z         iterator: bool = False,
2025-01-24T13:52:24.2700545Z         chunksize: int | None = None,
2025-01-24T13:52:24.2700952Z         **kwargs,
2025-01-24T13:52:24.2701252Z     ):
2025-01-24T13:52:24.2701512Z         """
2025-01-24T13:52:24.2702450Z         Read from the store, close it if we opened it.
2025-01-24T13:52:24.2702916Z     
2025-01-24T13:52:24.2703353Z         Retrieve pandas object stored in file, optionally based on where
2025-01-24T13:52:24.2703925Z         criteria.
2025-01-24T13:52:24.2704228Z     
2025-01-24T13:52:24.2704527Z         .. warning::
2025-01-24T13:52:24.2704840Z     
2025-01-24T13:52:24.2705300Z            Pandas uses PyTables for reading and writing HDF5 files, which allows
2025-01-24T13:52:24.2706125Z            serializing object-dtype data with pickle when using the "fixed" format.
2025-01-24T13:52:24.2706933Z            Loading pickled data received from untrusted sources can be unsafe.
2025-01-24T13:52:24.2707486Z     
2025-01-24T13:52:24.2707915Z            See: https://docs.python.org/3/library/pickle.html for more.
2025-01-24T13:52:24.2708723Z     
2025-01-24T13:52:24.2708981Z         Parameters
2025-01-24T13:52:24.2709289Z         ----------
2025-01-24T13:52:24.2709672Z         path_or_buf : str, path object, pandas.HDFStore
2025-01-24T13:52:24.2710361Z             Any valid string path is acceptable. Only supports the local file system,
2025-01-24T13:52:24.2711069Z             remote URLs and file-like objects are not supported.
2025-01-24T13:52:24.2711543Z     
2025-01-24T13:52:24.2712089Z             If you want to pass in a path object, pandas accepts any
2025-01-24T13:52:24.2712573Z             ``os.PathLike``.
2025-01-24T13:52:24.2712898Z     
2025-01-24T13:52:24.2713378Z             Alternatively, pandas accepts an open :class:`pandas.HDFStore` object.
2025-01-24T13:52:24.2713959Z     
2025-01-24T13:52:24.2714231Z         key : object, optional
2025-01-24T13:52:24.2714726Z             The group identifier in the store. Can be omitted if the HDF file
2025-01-24T13:52:24.2715288Z             contains a single pandas object.
2025-01-24T13:52:24.2715697Z         mode : {'r', 'r+', 'a'}, default 'r'
2025-01-24T13:52:24.2716191Z             Mode to use when opening the file. Ignored if path_or_buf is a
2025-01-24T13:52:24.2716734Z             :class:`pandas.HDFStore`. Default is 'r'.
2025-01-24T13:52:24.2717170Z         errors : str, default 'strict'
2025-01-24T13:52:24.2717740Z             Specifies how encoding and decoding errors are to be handled.
2025-01-24T13:52:24.2718334Z             See the errors argument for :func:`open` for a full list
2025-01-24T13:52:24.2718818Z             of options.
2025-01-24T13:52:24.2719142Z         where : list, optional
2025-01-24T13:52:24.2719528Z             A list of Term (or convertible) objects.
2025-01-24T13:52:24.2719950Z         start : int, optional
2025-01-24T13:52:24.2720304Z             Row number to start selection.
2025-01-24T13:52:24.2720678Z         stop  : int, optional
2025-01-24T13:52:24.2721028Z             Row number to stop selection.
2025-01-24T13:52:24.2721419Z         columns : list, optional
2025-01-24T13:52:24.2721952Z             A list of columns names to return.
2025-01-24T13:52:24.2722373Z         iterator : bool, optional
2025-01-24T13:52:24.2722763Z             Return an iterator object.
2025-01-24T13:52:24.2723154Z         chunksize : int, optional
2025-01-24T13:52:24.2723642Z             Number of rows to include in an iteration when using an iterator.
2025-01-24T13:52:24.2724154Z         **kwargs
2025-01-24T13:52:24.2724526Z             Additional keyword arguments passed to HDFStore.
2025-01-24T13:52:24.2724991Z     
2025-01-24T13:52:24.2725295Z         Returns
2025-01-24T13:52:24.2725596Z         -------
2025-01-24T13:52:24.2725872Z         object
2025-01-24T13:52:24.2726274Z             The selected object. Return type depends on the object stored.
2025-01-24T13:52:24.2726767Z     
2025-01-24T13:52:24.2726993Z         See Also
2025-01-24T13:52:24.2727263Z         --------
2025-01-24T13:52:24.2727657Z         DataFrame.to_hdf : Write a HDF file from a DataFrame.
2025-01-24T13:52:24.2728174Z         HDFStore : Low-level access to HDF files.
2025-01-24T13:52:24.2728576Z     
2025-01-24T13:52:24.2728832Z         Examples
2025-01-24T13:52:24.2729128Z         --------
2025-01-24T13:52:24.2729823Z         >>> df = pd.DataFrame([[1, 1.0, 'a']], columns=['x', 'y', 'z'])  # doctest: +SKIP
2025-01-24T13:52:24.2730442Z         >>> df.to_hdf('./store.h5', 'data')  # doctest: +SKIP
2025-01-24T13:52:24.2730963Z         >>> reread = pd.read_hdf('./store.h5')  # doctest: +SKIP
2025-01-24T13:52:24.2731375Z         """
2025-01-24T13:52:24.2731631Z         if mode not in ["r", "r+", "a"]:
2025-01-24T13:52:24.2732218Z             raise ValueError(
2025-01-24T13:52:24.2732601Z                 f"mode {mode} is not allowed while performing a read. "
2025-01-24T13:52:24.2733068Z                 f"Allowed modes are r, r+ and a."
2025-01-24T13:52:24.2733408Z             )
2025-01-24T13:52:24.2733638Z         # grab the scope
2025-01-24T13:52:24.2734193Z         if where is not None:
2025-01-24T13:52:24.2734583Z             where = _ensure_term(where, scope_level=1)
2025-01-24T13:52:24.2734965Z     
2025-01-24T13:52:24.2735244Z         if isinstance(path_or_buf, HDFStore):
2025-01-24T13:52:24.2735659Z             if not path_or_buf.is_open:
2025-01-24T13:52:24.2736123Z                 raise OSError("The HDFStore must be open for reading.")
2025-01-24T13:52:24.2736581Z     
2025-01-24T13:52:24.2736835Z             store = path_or_buf
2025-01-24T13:52:24.2737162Z             auto_close = False
2025-01-24T13:52:24.2737474Z         else:
2025-01-24T13:52:24.2737776Z             path_or_buf = stringify_path(path_or_buf)
2025-01-24T13:52:24.2738224Z             if not isinstance(path_or_buf, str):
2025-01-24T13:52:24.2738650Z                 raise NotImplementedError(
2025-01-24T13:52:24.2739119Z                     "Support for generic buffers has not been implemented."
2025-01-24T13:52:24.2739577Z                 )
2025-01-24T13:52:24.2739846Z             try:
2025-01-24T13:52:24.2740150Z                 exists = os.path.exists(path_or_buf)
2025-01-24T13:52:24.2740537Z     
2025-01-24T13:52:24.2740795Z             # if filepath is too long
2025-01-24T13:52:24.2741178Z             except (TypeError, ValueError):
2025-01-24T13:52:24.2741569Z                 exists = False
2025-01-24T13:52:24.2742050Z     
2025-01-24T13:52:24.2742287Z             if not exists:
2025-01-24T13:52:24.2742735Z >               raise FileNotFoundError(f"File {path_or_buf} does not exist")
2025-01-24T13:52:24.2744043Z E               FileNotFoundError: File /home/runner/work/tardis/tardis/tardis-regression-data/tardis/opacities/tests/test_tau_sobolev/test_calculate_sobolev_line_opacity.h5 does not exist
2025-01-24T13:52:24.2745105Z 
2025-01-24T13:52:24.2745536Z micromamba_tardis/lib/python3.12/site-packages/pandas/io/pytables.py:424: FileNotFoundError
2025-01-24T13:52:24.2746322Z ---------------------------- Captured stderr setup -----------------------------
2025-01-24T13:52:24.2746742Z 
2025-01-24T13:52:24.2747301Z Iterations:████████████████████████████████████████████████████████████████                4/5 [00:11<00:02,  2.70s/it]
2025-01-24T13:52:24.2747560Z 
2025-01-24T13:52:24.2747796Z Packets:                                                                                   4030/? [00:11<00:00, 34236.77it/s][A
2025-01-24T13:52:24.2748167Z ------------------------------ Captured log setup ------------------------------
2025-01-24T13:52:24.2748896Z WARNING  tardis.io.model.parse_density_configuration:parse_density_configuration.py:114 Number of density points larger than number of shells. Assuming inner point irrelevant
2025-01-24T13:52:24.2749604Z _________________________ test_calculate_beta_sobolevs _________________________
2025-01-24T13:52:24.2749827Z 
2025-01-24T13:52:24.2750066Z nb_simulation_verysimple = <tardis.simulation.base.Simulation object at 0x7f32c2d20230>
2025-01-24T13:52:24.2750629Z regression_data = <tardis.tests.fixtures.regression_data.RegressionData object at 0x7f32c2dfa090>
2025-01-24T13:52:24.2751121Z 
2025-01-24T13:52:24.2751408Z     def test_calculate_beta_sobolevs(nb_simulation_verysimple, regression_data):
2025-01-24T13:52:24.2752189Z         legacy_plasma = nb_simulation_verysimple.plasma
2025-01-24T13:52:24.2752809Z     
2025-01-24T13:52:24.2753102Z         tau_sobolevs = calculate_sobolev_line_opacity(
2025-01-24T13:52:24.2753512Z             legacy_plasma.lines,
2025-01-24T13:52:24.2753865Z             legacy_plasma.level_number_density,
2025-01-24T13:52:24.2754271Z             legacy_plasma.time_explosion,
2025-01-24T13:52:24.2754717Z             legacy_plasma.stimulated_emission_factor,
2025-01-24T13:52:24.2755127Z         )
2025-01-24T13:52:24.2755435Z         actual = calculate_beta_sobolev(tau_sobolevs)
2025-01-24T13:52:24.2755893Z >       expected = regression_data.sync_ndarray(actual)
2025-01-24T13:52:24.2756189Z 
2025-01-24T13:52:24.2756365Z tardis/opacities/tests/test_tau_sobolev.py:35: 
2025-01-24T13:52:24.2757004Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-01-24T13:52:24.2757535Z tardis/tests/fixtures/regression_data.py:111: in sync_ndarray
2025-01-24T13:52:24.2758032Z     return np.load(self.fpath)
2025-01-24T13:52:24.2758405Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-01-24T13:52:24.2758723Z 
2025-01-24T13:52:24.2759441Z file = PosixPath('/home/runner/work/tardis/tardis/tardis-regression-data/tardis/opacities/tests/test_tau_sobolev/test_calculate_beta_sobolevs.npy')
2025-01-24T13:52:24.2760558Z mmap_mode = None, allow_pickle = False, fix_imports = True, encoding = 'ASCII'
2025-01-24T13:52:24.2760970Z 
2025-01-24T13:52:24.2761075Z     @set_module('numpy')
2025-01-24T13:52:24.2761513Z     def load(file, mmap_mode=None, allow_pickle=False, fix_imports=True,
2025-01-24T13:52:24.2762276Z              encoding='ASCII', *, max_header_size=format._MAX_HEADER_SIZE):
2025-01-24T13:52:24.2762716Z         """
2025-01-24T13:52:24.2763099Z         Load arrays or pickled objects from ``.npy``, ``.npz`` or pickled files.
2025-01-24T13:52:24.2763571Z     
2025-01-24T13:52:24.2763967Z         .. warning:: Loading files that contain object arrays uses the ``pickle``
2025-01-24T13:52:24.2764641Z                      module, which is not secure against erroneous or maliciously
2025-01-24T13:52:24.2765210Z                      constructed data. Consider passing ``allow_pickle=False`` to
2025-01-24T13:52:24.2765769Z                      load data that is known not to contain object arrays for the
2025-01-24T13:52:24.2766240Z                      safer handling of untrusted sources.
2025-01-24T13:52:24.2766596Z     
2025-01-24T13:52:24.2766809Z         Parameters
2025-01-24T13:52:24.2767070Z         ----------
2025-01-24T13:52:24.2767385Z         file : file-like object, string, or pathlib.Path
2025-01-24T13:52:24.2767841Z             The file to read. File-like objects must support the
2025-01-24T13:52:24.2768303Z             ``seek()`` and ``read()`` methods and must always
2025-01-24T13:52:24.2768770Z             be opened in binary mode.  Pickled files require that the
2025-01-24T13:52:24.2769287Z             file-like object support the ``readline()`` method as well.
2025-01-24T13:52:24.2769782Z         mmap_mode : {None, 'r+', 'r', 'w+', 'c'}, optional
2025-01-24T13:52:24.2770284Z             If not None, then memory-map the file, using the given mode (see
2025-01-24T13:52:24.2770829Z             `numpy.memmap` for a detailed description of the modes).  A
2025-01-24T13:52:24.2771413Z             memory-mapped array is kept on disk. However, it can be accessed
2025-01-24T13:52:24.2772180Z             and sliced like any ndarray.  Memory mapping is especially useful
2025-01-24T13:52:24.2772767Z             for accessing small fragments of large files without reading the
2025-01-24T13:52:24.2773244Z             entire file into memory.
2025-01-24T13:52:24.2773615Z         allow_pickle : bool, optional
2025-01-24T13:52:24.2774088Z             Allow loading pickled object arrays stored in npy files. Reasons for
2025-01-24T13:52:24.2774747Z             disallowing pickles include security, as loading pickled data can
2025-01-24T13:52:24.2775370Z             execute arbitrary code. If pickles are disallowed, loading object
2025-01-24T13:52:24.2776070Z             arrays will fail. Default: False
2025-01-24T13:52:24.2776389Z     
2025-01-24T13:52:24.2776630Z             .. versionchanged:: 1.16.3
2025-01-24T13:52:24.2777041Z                 Made default False in response to CVE-2019-6446.
2025-01-24T13:52:24.2777422Z     
2025-01-24T13:52:24.2777654Z         fix_imports : bool, optional
2025-01-24T13:52:24.2778129Z             Only useful when loading Python 2 generated pickled files on Python 3,
2025-01-24T13:52:24.2778770Z             which includes npy/npz files containing object arrays. If `fix_imports`
2025-01-24T13:52:24.2779386Z             is True, pickle will try to map the old Python 2 names to the new names
2025-01-24T13:52:24.2779866Z             used in Python 3.
2025-01-24T13:52:24.2780374Z         encoding : str, optional
2025-01-24T13:52:24.2780832Z             What encoding to use when reading Python 2 strings. Only useful when
2025-01-24T13:52:24.2781437Z             loading Python 2 generated pickled files in Python 3, which includes
2025-01-24T13:52:24.2782276Z             npy/npz files containing object arrays. Values other than 'latin1',
2025-01-24T13:52:24.2782884Z             'ASCII', and 'bytes' are not allowed, as they can corrupt numerical
2025-01-24T13:52:24.2783373Z             data. Default: 'ASCII'
2025-01-24T13:52:24.2783723Z         max_header_size : int, optional
2025-01-24T13:52:24.2784207Z             Maximum allowed size of the header.  Large headers may not be safe
2025-01-24T13:52:24.2784826Z             to load securely and thus require explicitly passing a larger value.
2025-01-24T13:52:24.2785376Z             See :py:func:`ast.literal_eval()` for details.
2025-01-24T13:52:24.2785907Z             This option is ignored when `allow_pickle` is passed.  In that case
2025-01-24T13:52:24.2786518Z             the file is by definition trusted and the limit is unnecessary.
2025-01-24T13:52:24.2786957Z     
2025-01-24T13:52:24.2787176Z         Returns
2025-01-24T13:52:24.2787422Z         -------
2025-01-24T13:52:24.2787692Z         result : array, tuple, dict, etc.
2025-01-24T13:52:24.2788168Z             Data stored in the file. For ``.npz`` files, the returned instance
2025-01-24T13:52:24.2788769Z             of NpzFile class must be closed to avoid leaking file descriptors.
2025-01-24T13:52:24.2789231Z     
2025-01-24T13:52:24.2789453Z         Raises
2025-01-24T13:52:24.2789699Z         ------
2025-01-24T13:52:24.2789933Z         OSError
2025-01-24T13:52:24.2790255Z             If the input file does not exist or cannot be read.
2025-01-24T13:52:24.2790661Z         UnpicklingError
2025-01-24T13:52:24.2791059Z             If ``allow_pickle=True``, but the file cannot be loaded as a pickle.
2025-01-24T13:52:24.2791524Z         ValueError
2025-01-24T13:52:24.2792115Z             The file contains an object array, but ``allow_pickle=False`` given.
2025-01-24T13:52:24.2792593Z         EOFError
2025-01-24T13:52:24.2792990Z             When calling ``np.load`` multiple times on the same file handle,
2025-01-24T13:52:24.2793481Z             if all data has already been read
2025-01-24T13:52:24.2793833Z     
2025-01-24T13:52:24.2794049Z         See Also
2025-01-24T13:52:24.2794300Z         --------
2025-01-24T13:52:24.2794580Z         save, savez, savez_compressed, loadtxt
2025-01-24T13:52:24.2795064Z         memmap : Create a memory-map to an array stored in a file on disk.
2025-01-24T13:52:24.2795686Z         lib.format.open_memmap : Create or load a memory-mapped ``.npy`` file.
2025-01-24T13:52:24.2796159Z     
2025-01-24T13:52:24.2796363Z         Notes
2025-01-24T13:52:24.2796593Z         -----
2025-01-24T13:52:24.2796940Z         - If the file contains pickle data, then whatever object is stored
2025-01-24T13:52:24.2797423Z           in the pickle is returned.
2025-01-24T13:52:24.2797878Z         - If the file is a ``.npy`` file, then a single array is returned.
2025-01-24T13:52:24.2798410Z         - If the file is a ``.npz`` file, then a dictionary-like object is
2025-01-24T13:52:24.2798970Z           returned, containing ``{filename: array}`` key-value pairs, one for
2025-01-24T13:52:24.2799652Z           each file in the archive.
2025-01-24T13:52:24.2800125Z         - If the file is a ``.npz`` file, the returned value supports the
2025-01-24T13:52:24.2800703Z           context manager protocol in a similar fashion to the open function::
2025-01-24T13:52:24.2801159Z     
2025-01-24T13:52:24.2801384Z             with load('foo.npz') as data:
2025-01-24T13:52:24.2801850Z                 a = data['a']
2025-01-24T13:52:24.2802132Z     
2025-01-24T13:52:24.2802455Z           The underlying file descriptor is closed when exiting the 'with'
2025-01-24T13:52:24.2802908Z           block.
2025-01-24T13:52:24.2803146Z     
2025-01-24T13:52:24.2803357Z         Examples
2025-01-24T13:52:24.2803875Z         --------
2025-01-24T13:52:24.2804152Z         Store data to disk, and load it again:
2025-01-24T13:52:24.2804508Z     
2025-01-24T13:52:24.2804792Z         >>> np.save('/tmp/123', np.array([[1, 2, 3], [4, 5, 6]]))
2025-01-24T13:52:24.2805219Z         >>> np.load('/tmp/123.npy')
2025-01-24T13:52:24.2805545Z         array([[1, 2, 3],
2025-01-24T13:52:24.2805816Z                [4, 5, 6]])
2025-01-24T13:52:24.2806080Z     
2025-01-24T13:52:24.2806353Z         Store compressed data to disk, and load it again:
2025-01-24T13:52:24.2806738Z     
2025-01-24T13:52:24.2806964Z         >>> a=np.array([[1, 2, 3], [4, 5, 6]])
2025-01-24T13:52:24.2807305Z         >>> b=np.array([1, 2])
2025-01-24T13:52:24.2807613Z         >>> np.savez('/tmp/123.npz', a=a, b=b)
2025-01-24T13:52:24.2807974Z         >>> data = np.load('/tmp/123.npz')
2025-01-24T13:52:24.2808306Z         >>> data['a']
2025-01-24T13:52:24.2808567Z         array([[1, 2, 3],
2025-01-24T13:52:24.2808836Z                [4, 5, 6]])
2025-01-24T13:52:24.2809130Z         >>> data['b']
2025-01-24T13:52:24.2809391Z         array([1, 2])
2025-01-24T13:52:24.2809638Z         >>> data.close()
2025-01-24T13:52:24.2809898Z     
2025-01-24T13:52:24.2810202Z         Mem-map the stored array, and then access the second row
2025-01-24T13:52:24.2810620Z         directly from disk:
2025-01-24T13:52:24.2810915Z     
2025-01-24T13:52:24.2811178Z         >>> X = np.load('/tmp/123.npy', mmap_mode='r')
2025-01-24T13:52:24.2811546Z         >>> X[1, :]
2025-01-24T13:52:24.2812015Z         memmap([4, 5, 6])
2025-01-24T13:52:24.2812291Z     
2025-01-24T13:52:24.2812514Z         """
2025-01-24T13:52:24.2812803Z         if encoding not in ('ASCII', 'latin1', 'bytes'):
2025-01-24T13:52:24.2813286Z             # The 'encoding' value for pickle also affects what encoding
2025-01-24T13:52:24.2813816Z             # the serialized binary data of NumPy arrays is loaded
2025-01-24T13:52:24.2814327Z             # in. Pickle does not pass on the encoding information to
2025-01-24T13:52:24.2814852Z             # NumPy. The unpickling code in numpy._core.multiarray is
2025-01-24T13:52:24.2815387Z             # written to assume that unicode data appearing where binary
2025-01-24T13:52:24.2815948Z             # should be is in 'latin1'. 'bytes' is also safe, as is 'ASCII'.
2025-01-24T13:52:24.2816402Z             #
2025-01-24T13:52:24.2816732Z             # Other encoding values can corrupt binary data, and we
2025-01-24T13:52:24.2817284Z             # purposefully disallow them. For the same reason, the errors=
2025-01-24T13:52:24.2817890Z             # argument is not exposed, as values other than 'strict'
2025-01-24T13:52:24.2818372Z             # result can similarly silently corrupt numerical data.
2025-01-24T13:52:24.2818932Z             raise ValueError("encoding must be 'ASCII', 'latin1', or 'bytes'")
2025-01-24T13:52:24.2819401Z     
2025-01-24T13:52:24.2819743Z         pickle_kwargs = dict(encoding=encoding, fix_imports=fix_imports)
2025-01-24T13:52:24.2820190Z     
2025-01-24T13:52:24.2820442Z         with contextlib.ExitStack() as stack:
2025-01-24T13:52:24.2820799Z             if hasattr(file, 'read'):
2025-01-24T13:52:24.2821119Z                 fid = file
2025-01-24T13:52:24.2821410Z                 own_fid = False
2025-01-24T13:52:24.2822021Z             else:
2025-01-24T13:52:24.2822358Z >               fid = stack.enter_context(open(os.fspath(file), "rb"))
2025-01-24T13:52:24.2823579Z E               FileNotFoundError: [Errno 2] No such file or directory: '/home/runner/work/tardis/tardis/tardis-regression-data/tardis/opacities/tests/test_tau_sobolev/test_calculate_beta_sobolevs.npy'
2025-01-24T13:52:24.2824598Z 
2025-01-24T13:52:24.2824987Z micromamba_tardis/lib/python3.12/site-packages/numpy/lib/_npyio_impl.py:455: FileNotFoundError
2025-01-24T13:52:24.2825650Z =============================== warnings summary ===============================
2025-01-24T13:52:24.2826095Z tardis/io/configuration/config_validator.py:6
2025-01-24T13:52:24.2826496Z tardis/io/configuration/config_validator.py:6
2025-01-24T13:52:24.2827360Z   /home/runner/work/tardis/tardis/tardis/io/configuration/config_validator.py:6: DeprecationWarning:
2025-01-24T13:52:24.2828039Z   
2025-01-24T13:52:24.2829914Z   jsonschema.RefResolver is deprecated as of v4.18.0, in favor of the https://github.com/python-jsonschema/referencing library, which provides more compliant referencing behavior as well as more flexible APIs for customization. A future release will remove RefResolver. Please file a feature request (on referencing) if you are missing an API for the kind of customization you need.
2025-01-24T13:52:24.2832018Z 
2025-01-24T13:52:24.2832326Z micromamba_tardis/lib/python3.12/site-packages/jupyter_client/connect.py:22
2025-01-24T13:52:24.2833374Z   /home/runner/work/tardis/tardis/micromamba_tardis/lib/python3.12/site-packages/jupyter_client/connect.py:22: DeprecationWarning:
2025-01-24T13:52:24.2834229Z   
2025-01-24T13:52:24.2834559Z   Jupyter is migrating its paths to use standard platformdirs
2025-01-24T13:52:24.2835128Z   given by the platformdirs library.  To remove this warning and
2025-01-24T13:52:24.2835707Z   see the appropriate new directories, set the environment variable
2025-01-24T13:52:24.2836294Z   `JUPYTER_PLATFORM_DIRS=1` and then run `jupyter --paths`.
2025-01-24T13:52:24.2836855Z   The use of platformdirs will be the default in `jupyter_core` v6
2025-01-24T13:52:24.2837214Z 
2025-01-24T13:52:24.2837353Z tardis/plasma/properties/__init__.py:17
2025-01-24T13:52:24.2838058Z   /home/runner/work/tardis/tardis/tardis/plasma/properties/__init__.py:17: DeprecationWarning:
2025-01-24T13:52:24.2838702Z   
2025-01-24T13:52:24.2839808Z   The numpy.linalg.linalg has been made private and renamed to numpy.linalg._linalg. All public functions exported by it are available from numpy.linalg. Please use numpy.linalg.LinAlgError instead.
2025-01-24T13:52:24.2840785Z 
2025-01-24T13:52:24.2841029Z tardis/transport/montecarlo/tests/test_montecarlo.py:557
2025-01-24T13:52:24.2842132Z   /home/runner/work/tardis/tardis/tardis/transport/montecarlo/tests/test_montecarlo.py:557: PytestUnknownMarkWarning:
2025-01-24T13:52:24.2842952Z   
2025-01-24T13:52:24.2843825Z   Unknown pytest.mark.continuumtest - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
2025-01-24T13:52:24.2844710Z 
2025-01-24T13:52:24.2844936Z tardis/transport/montecarlo/tests/test_montecarlo.py:584
2025-01-24T13:52:24.2845832Z   /home/runner/work/tardis/tardis/tardis/transport/montecarlo/tests/test_montecarlo.py:584: PytestUnknownMarkWarning:
2025-01-24T13:52:24.2846659Z   
2025-01-24T13:52:24.2847537Z   Unknown pytest.mark.continuumtest - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
2025-01-24T13:52:24.2848371Z 
2025-01-24T13:52:24.2848575Z tardis/transport/montecarlo/tests/test_montecarlo.py:605
2025-01-24T13:52:24.2849477Z   /home/runner/work/tardis/tardis/tardis/transport/montecarlo/tests/test_montecarlo.py:605: PytestUnknownMarkWarning:
2025-01-24T13:52:24.2850294Z   
2025-01-24T13:52:24.2851095Z   Unknown pytest.mark.continuumtest - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
2025-01-24T13:52:24.2852262Z 
2025-01-24T13:52:24.2852480Z tardis/io/tests/test_HDFWriter.py::test_multi_index_write
2025-01-24T13:52:24.2853195Z tardis/visualization/widgets/tests/test_shell_info.py::TestHDFShellInfo::test_shells_data
2025-01-24T13:52:24.2854012Z   /home/runner/work/tardis/tardis/tardis/io/util.py:276: PerformanceWarning:
2025-01-24T13:52:24.2854541Z   
2025-01-24T13:52:24.2854742Z   
2025-01-24T13:52:24.2855147Z   your performance may suffer as PyTables will pickle object types that it cannot
2025-01-24T13:52:24.2855948Z   map directly to c-types [inferred_type->mixed,key->block0_values] [items->Index([0], dtype='int64')]
2025-01-24T13:52:24.2856460Z 
2025-01-24T13:52:24.2856916Z tardis/io/tests/test_model_reader.py::test_read_cmfgen_isotope_abundances
2025-01-24T13:52:24.2857644Z tardis/plasma/tests/test_tardis_model_density_config.py::test_electron_densities
2025-01-24T13:52:24.2858432Z tardis/plasma/tests/test_tardis_model_density_config.py::test_isotope_number_densities
2025-01-24T13:52:24.2859193Z tardis/plasma/tests/test_tardis_model_density_config.py::test_t_rad
2025-01-24T13:52:24.2860053Z   /home/runner/work/tardis/tardis/tardis/io/model/readers/cmfgen_deprecated.py:82: DeprecationWarning:
2025-01-24T13:52:24.2860724Z   
2025-01-24T13:52:24.2860989Z   The current CMFGEN model parser is deprecated
2025-01-24T13:52:24.2861277Z 
2025-01-24T13:52:24.2861423Z tardis/io/tests/test_model_reader.py: 1 warning
2025-01-24T13:52:24.2862086Z tardis/plasma/tests/test_tardis_model_density_config.py: 9 warnings
2025-01-24T13:52:24.2862951Z   /home/runner/work/tardis/tardis/tardis/io/model/readers/cmfgen_deprecated.py:40: DeprecationWarning:
2025-01-24T13:52:24.2863634Z   
2025-01-24T13:52:24.2863910Z   The current CMFGEN model parser is deprecated
2025-01-24T13:52:24.2864181Z 
2025-01-24T13:52:24.2864482Z tardis/model/tests/test_base.py::TestModelFromPaper1Config::test_abundances
2025-01-24T13:52:24.2865479Z   /home/runner/work/tardis/tardis/tardis/transport/montecarlo/montecarlo_main_loop.py:123: NumbaTypeSafetyWarning:
2025-01-24T13:52:24.2866272Z   
2025-01-24T13:52:24.2866832Z   [1m[1m[1munsafe cast from uint64 to int64. Precision may be lost.[0m[0m[0m
2025-01-24T13:52:24.2867226Z 
2025-01-24T13:52:24.2867362Z tardis/model/tests/test_base.py: 6 warnings
2025-01-24T13:52:24.2867807Z tardis/model/tests/test_csvy_model.py: 2 warnings
2025-01-24T13:52:24.2868386Z tardis/plasma/tests/test_tardis_model_density_config.py: 3 warnings
2025-01-24T13:52:24.2869258Z   /home/runner/work/tardis/tardis/tardis/model/geometry/radial1d.py:50: DeprecationWarning:
2025-01-24T13:52:24.2870017Z   
2025-01-24T13:52:24.2870286Z   v_inner_boundary < 0, assuming default value
2025-01-24T13:52:24.2870558Z 
2025-01-24T13:52:24.2870696Z tardis/model/tests/test_base.py: 6 warnings
2025-01-24T13:52:24.2871103Z tardis/model/tests/test_csvy_model.py: 2 warnings
2025-01-24T13:52:24.2871631Z tardis/plasma/tests/test_tardis_model_density_config.py: 3 warnings
2025-01-24T13:52:24.2872554Z   /home/runner/work/tardis/tardis/tardis/model/geometry/radial1d.py:61: DeprecationWarning:
2025-01-24T13:52:24.2873176Z   
2025-01-24T13:52:24.2873421Z   v_outer_boundary < 0, assuming default value
2025-01-24T13:52:24.2873688Z 
2025-01-24T13:52:24.2874170Z tardis/plasma/equilibrium/tests/test_collisional_transitions.py::test_legacy_chianti_collisional_strengths
2025-01-24T13:52:24.2875303Z tardis/plasma/equilibrium/tests/test_collisional_transitions.py::test_legacy_chianti_collisional_strengths
2025-01-24T13:52:24.2876400Z tardis/plasma/equilibrium/tests/test_collisional_transitions.py::test_legacy_chianti_collisional_strengths
2025-01-24T13:52:24.2877484Z tardis/plasma/equilibrium/tests/test_collisional_transitions.py::test_legacy_chianti_collisional_strengths
2025-01-24T13:52:24.2878947Z tardis/plasma/equilibrium/tests/test_level_populations.py::TestLevelPopulationSolver::test_calculate_level_population_simple[collisional_rate_solver0-radiative_transitions0]
2025-01-24T13:52:24.2880827Z tardis/plasma/equilibrium/tests/test_level_populations.py::TestLevelPopulationSolver::test_calculate_level_population_empty[collisional_rate_solver0-radiative_transitions0]
2025-01-24T13:52:24.2883240Z tardis/plasma/equilibrium/tests/test_level_populations.py::TestLevelPopulationSolver::test_calculate_level_population_zeros[collisional_rate_solver0-radiative_transitions0]
2025-01-24T13:52:24.2884948Z tardis/plasma/equilibrium/tests/test_level_populations.py::TestLevelPopulationSolver::test_solve[collisional_rate_solver0-radiative_transitions0]
2025-01-24T13:52:24.2886331Z tardis/plasma/equilibrium/tests/test_rate_matrix.py::test_rate_matrix_solver[collisional_rate_solver0-radiative_transitions0]
2025-01-24T13:52:24.2887464Z   /home/runner/work/tardis/tardis/micromamba_tardis/lib/python3.12/pickle.py:323: DeprecationWarning:
2025-01-24T13:52:24.2888297Z   
2025-01-24T13:52:24.2890708Z   numpy.core.numeric is deprecated and has been renamed to numpy._core.numeric. The numpy._core namespace contains private NumPy internals and its use is discouraged, as NumPy internals can change without warning in any release. In practice, most real-world usage of numpy.core is to access functionality in the public NumPy API. If that is the case, use the public NumPy API. If not, you are using NumPy internals. If you would still like to access an internal attribute, use numpy._core.numeric._frombuffer.
2025-01-24T13:52:24.2893236Z 
2025-01-24T13:52:24.2893934Z tardis/plasma/equilibrium/tests/test_level_populations.py::TestLevelPopulationSolver::test_solve[collisional_rate_solver0-radiative_transitions0]
2025-01-24T13:52:24.2895241Z   /home/runner/work/tardis/tardis/tardis/plasma/equilibrium/level_populations.py:65: FutureWarning:
2025-01-24T13:52:24.2895924Z   
2025-01-24T13:52:24.2896474Z   A value is trying to be set on a copy of a DataFrame or Series through chained assignment using an inplace method.
2025-01-24T13:52:24.2897755Z   The behavior will change in pandas 3.0. This inplace method will never work because the intermediate object on which we are setting values always behaves as a copy.
2025-01-24T13:52:24.2898684Z   
2025-01-24T13:52:24.2899619Z   For example, when doing 'df[col].method(value, inplace=True)', try using 'df.method({col: value}, inplace=True)' or df[col] = df[col].method(value) instead, to perform the operation inplace on the original object.
2025-01-24T13:52:24.2900582Z 
2025-01-24T13:52:24.2900908Z tardis/plasma/tests/test_plasma_vboundary.py::test_plasma_vboundary[2900-3750]
2025-01-24T13:52:24.2901626Z tardis/plasma/tests/test_plasma_vboundary.py::test_plasma_vboundary[2900-3850]
2025-01-24T13:52:24.2902500Z tardis/plasma/tests/test_plasma_vboundary.py::test_plasma_vboundary[2900-3900]
2025-01-24T13:52:24.2903296Z   /home/runner/work/tardis/tardis/tardis/model/geometry/radial1d.py:71: UserWarning:
2025-01-24T13:52:24.2903899Z   
2025-01-24T13:52:24.2904313Z   Requesting inner boundary below inner shell. Extrapolating the inner cell
2025-01-24T13:52:24.2904726Z 
2025-01-24T13:52:24.2905084Z tardis/spectrum/tests/test_numba_formal_integral.py::test_trapezoid_integration[100.0]
2025-01-24T13:52:24.2905980Z tardis/spectrum/tests/test_numba_formal_integral.py::test_trapezoid_integration[1000.0]
2025-01-24T13:52:24.2906873Z tardis/spectrum/tests/test_numba_formal_integral.py::test_trapezoid_integration[10000.0]
2025-01-24T13:52:24.2907738Z tardis/spectrum/tests/test_numba_formal_integral.py::test_trapezoid_integration[100000.0]
2025-01-24T13:52:24.2908754Z   /home/runner/work/tardis/tardis/tardis/spectrum/tests/test_numba_formal_integral.py:35: DeprecationWarning:
2025-01-24T13:52:24.2909493Z   
2025-01-24T13:52:24.2910038Z   `trapz` is deprecated. Use `trapezoid` instead, or one of the numerical integration functions in `scipy.integrate`.
2025-01-24T13:52:24.2910608Z 
2025-01-24T13:52:24.2910912Z tardis/spectrum/tests/test_spectrum_solver.py::TestSpectrumSolver::test_solve
2025-01-24T13:52:24.2911771Z   /home/runner/work/tardis/tardis/tardis/spectrum/base.py:70: UserWarning:
2025-01-24T13:52:24.2912317Z   
2025-01-24T13:52:24.2913121Z   SpectrumSolver.spectrum_virtual_packets is zero. Please run the montecarlo simulation with no_of_virtual_packets > 0
2025-01-24T13:52:24.2913764Z 
2025-01-24T13:52:24.2914248Z tardis/spectrum/tests/test_spectrum_solver.py::TestSpectrumSolver::test_solve
2025-01-24T13:52:24.2915011Z   /home/runner/work/tardis/tardis/tardis/spectrum/base.py:111: UserWarning:
2025-01-24T13:52:24.2915541Z   
2025-01-24T13:52:24.2916214Z   SpectrumSolver.integrator: The FormalIntegrator is not yet available.Please run the montecarlo simulation at least once.
2025-01-24T13:52:24.2916901Z 
2025-01-24T13:52:24.2917197Z tardis/tests/test_util.py::test_calculate_luminosity[string_io0-100 km-result0]
2025-01-24T13:52:24.2917948Z tardis/tests/test_util.py::test_calculate_luminosity[string_io1-500 km-result1]
2025-01-24T13:52:24.2918842Z   /home/runner/work/tardis/tardis/tardis/util/base.py:188: DeprecationWarning:
2025-01-24T13:52:24.2919371Z   
2025-01-24T13:52:24.2919914Z   `trapz` is deprecated. Use `trapezoid` instead, or one of the numerical integration functions in `scipy.integrate`.
2025-01-24T13:52:24.2920523Z 
2025-01-24T13:52:24.2920778Z tardis/visualization/tools/tests/test_sdec_plot.py: 48 warnings
2025-01-24T13:52:24.2921597Z   /home/runner/work/tardis/tardis/tardis/visualization/tools/sdec_plot.py:736: DeprecationWarning:
2025-01-24T13:52:24.2922423Z   
2025-01-24T13:52:24.2922678Z   `in1d` is deprecated. Use `np.isin` instead.
2025-01-24T13:52:24.2922952Z 
2025-01-24T13:52:24.2923194Z tardis/visualization/tools/tests/test_sdec_plot.py: 48 warnings
2025-01-24T13:52:24.2923988Z   /home/runner/work/tardis/tardis/tardis/visualization/tools/sdec_plot.py:758: DeprecationWarning:
2025-01-24T13:52:24.2924651Z   
2025-01-24T13:52:24.2924914Z   `in1d` is deprecated. Use `np.isin` instead.
2025-01-24T13:52:24.2925176Z 
2025-01-24T13:52:24.2925422Z tardis/visualization/tools/tests/test_sdec_plot.py: 48 warnings
2025-01-24T13:52:24.2926233Z   /home/runner/work/tardis/tardis/tardis/visualization/tools/sdec_plot.py:779: DeprecationWarning:
2025-01-24T13:52:24.2926921Z   
2025-01-24T13:52:24.2927174Z   `in1d` is deprecated. Use `np.isin` instead.
2025-01-24T13:52:24.2927438Z 
2025-01-24T13:52:24.2927954Z tardis/visualization/tools/tests/test_sdec_plot.py::TestSDECPlotter::test_mpl_image[plotter_generate_plot_mpl4]
2025-01-24T13:52:24.2928991Z   /home/runner/work/tardis/tardis/tardis/visualization/tools/sdec_plot.py:1225: RuntimeWarning:
2025-01-24T13:52:24.2929639Z   
2025-01-24T13:52:24.2931081Z   More than 20 figures have been opened. Figures created through the pyplot interface (`matplotlib.pyplot.figure`) are retained until explicitly closed and may consume too much memory. (To control this warning, see the rcParam `figure.max_open_warning`). Consider using `matplotlib.pyplot.close()`.
2025-01-24T13:52:24.2932836Z 
2025-01-24T13:52:24.2933330Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-01-24T13:52:24.2934302Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-01-24T13:52:24.2935245Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-01-24T13:52:24.2936182Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-01-24T13:52:24.2937118Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-01-24T13:52:24.2938055Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-01-24T13:52:24.2939053Z   /home/runner/work/tardis/tardis/micromamba_tardis/lib/python3.12/site-packages/traitlets/traitlets.py:1385: DeprecationWarning:
2025-01-24T13:52:24.2939719Z   
2025-01-24T13:52:24.2940039Z   Passing unrecognized arguments to super(Checkbox).__init__(icon='lock').
2025-01-24T13:52:24.2940570Z   object.__init__() takes exactly one argument (the instance to initialize)
2025-01-24T13:52:24.2953575Z   This is deprecated in traitlets 4.2.This error will be raised in a future release of traitlets.
2025-01-24T13:52:24.2954082Z 
2025-01-24T13:52:24.2954624Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-01-24T13:52:24.2955812Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-01-24T13:52:24.2957057Z   /home/runner/work/tardis/tardis/micromamba_tardis/lib/python3.12/site-packages/traitlets/traitlets.py:1385: DeprecationWarning:
2025-01-24T13:52:24.2957884Z   
2025-01-24T13:52:24.2958263Z   Passing unrecognized arguments to super(FloatText).__init__(min=0).
2025-01-24T13:52:24.2959126Z   object.__init__() takes exactly one argument (the instance to initialize)
2025-01-24T13:52:24.2959848Z   This is deprecated in traitlets 4.2.This error will be raised in a future release of traitlets.
2025-01-24T13:52:24.2960333Z 
2025-01-24T13:52:24.2960880Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-01-24T13:52:24.2962364Z   /home/runner/work/tardis/tardis/micromamba_tardis/lib/python3.12/site-packages/traitlets/traitlets.py:1385: DeprecationWarning:
2025-01-24T13:52:24.2963218Z   
2025-01-24T13:52:24.2963610Z   Passing unrecognized arguments to super(HTML).__init__(indent=True).
2025-01-24T13:52:24.2964277Z   object.__init__() takes exactly one argument (the instance to initialize)
2025-01-24T13:52:24.2965021Z   This is deprecated in traitlets 4.2.This error will be raised in a future release of traitlets.
2025-01-24T13:52:24.2965519Z 
2025-01-24T13:52:24.2966192Z tardis/visualization/widgets/tests/test_line_info.py::TestLineInfoWidgetData::test_get_species_interactions[wavelength_range0-packet_out_nu]
2025-01-24T13:52:24.2967579Z   /home/runner/work/tardis/tardis/micromamba_tardis/lib/python3.12/site-packages/qgridnext/grid.py:830: DeprecationWarning:
2025-01-24T13:52:24.2968387Z   
2025-01-24T13:52:24.2968936Z   QgridWidget._show_toolbar_changed is deprecated in traitlets 4.1: use @observe and @unobserve instead.
2025-01-24T13:52:24.2969484Z 
2025-01-24T13:52:24.2969868Z tardis/visualization/widgets/tests/test_shell_info.py::TestHDFShellInfo::test_shells_data
2025-01-24T13:52:24.2970700Z   /home/runner/work/tardis/tardis/tardis/io/util.py:289: PerformanceWarning:
2025-01-24T13:52:24.2971252Z   
2025-01-24T13:52:24.2971475Z   
2025-01-24T13:52:24.2971927Z   your performance may suffer as PyTables will pickle object types that it cannot
2025-01-24T13:52:24.2972454Z   map directly to c-types [inferred_type->mixed,key->block0_values] [items->Index([0], dtype='int64')]
2025-01-24T13:52:24.2972798Z 
2025-01-24T13:52:24.2973053Z tardis/visualization/widgets/tests/test_shell_info.py::TestHDFShellInfo::test_shells_data
2025-01-24T13:52:24.2973598Z   /home/runner/work/tardis/tardis/tardis/io/util.py:292: PerformanceWarning:
2025-01-24T13:52:24.2973944Z   
2025-01-24T13:52:24.2974091Z   
2025-01-24T13:52:24.2974356Z   your performance may suffer as PyTables will pickle object types that it cannot
2025-01-24T13:52:24.2974796Z   map directly to c-types [inferred_type->mixed,key->values] [items->None]
2025-01-24T13:52:24.2975044Z 
2025-01-24T13:52:24.2975294Z tardis/visualization/widgets/tests/test_shell_info.py::TestHDFShellInfo::test_shells_data
2025-01-24T13:52:24.2975840Z   /home/runner/work/tardis/tardis/tardis/spectrum/formal_integral.py:398: UserWarning:
2025-01-24T13:52:24.2976215Z   
2025-01-24T13:52:24.2976470Z   The number of interpolate_shells was not specified. The value was set to 80.
2025-01-24T13:52:24.2976726Z 
2025-01-24T13:52:24.2976908Z -- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
2025-01-24T13:52:24.2977189Z 
2025-01-24T13:52:24.2977346Z ---------- coverage: platform linux, python 3.12.4-final-0 -----------
2025-01-24T13:52:24.2977690Z Coverage HTML written to dir coverage_html_report
2025-01-24T13:52:24.2977962Z Coverage XML written to file coverage.xml
2025-01-24T13:52:24.2978287Z 
2025-01-24T13:52:24.2978401Z =========================== short test summary info ============================
2025-01-24T13:52:24.2979412Z FAILED tardis/opacities/tests/test_tau_sobolev.py::test_calculate_sobolev_line_opacity - FileNotFoundError: File /home/runner/work/tardis/tardis/tardis-regression-data/tardis/opacities/tests/test_tau_sobolev/test_calculate_sobolev_line_opacity.h5 does not exist
2025-01-24T13:52:24.2981080Z FAILED tardis/opacities/tests/test_tau_sobolev.py::test_calculate_beta_sobolevs - FileNotFoundError: [Errno 2] No such file or directory: '/home/runner/work/tardis/tardis/tardis-regression-data/tardis/opacities/tests/test_tau_sobolev/test_calculate_beta_sobolevs.npy'
2025-01-24T13:52:24.2982441Z = 2 failed, 1408 passed, 357 skipped, 2 deselected, 19 xfailed, 8 xpassed, 225 warnings in 744.37s (0:12:24) =
2025-01-24T13:52:26.6975468Z ##[error]Process completed with exit code 1.
