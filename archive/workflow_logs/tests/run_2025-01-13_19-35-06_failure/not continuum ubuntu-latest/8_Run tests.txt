2025-01-13T19:36:04.5977779Z ##[group]Run pytest tardis --tardis-regression-data=/home/runner/work/tardis/tardis/tardis-regression-data --cov=tardis --cov-report=xml --cov-report=html --cov-append -m "not continuum"
2025-01-13T19:36:04.5979165Z [36;1mpytest tardis --tardis-regression-data=/home/runner/work/tardis/tardis/tardis-regression-data --cov=tardis --cov-report=xml --cov-report=html --cov-append -m "not continuum"[0m
2025-01-13T19:36:04.6006618Z shell: /usr/bin/bash -l {0}
2025-01-13T19:36:04.6006892Z env:
2025-01-13T19:36:04.6007070Z   CACHE_NUMBER: 0
2025-01-13T19:36:04.6007860Z   PYTEST_FLAGS: --tardis-regression-data=/home/runner/work/tardis/tardis/tardis-regression-data --cov=tardis --cov-report=xml --cov-report=html --cov-append
2025-01-13T19:36:04.6008532Z   CODECOV_TOKEN: 
2025-01-13T19:36:04.6008759Z   MAMBA_ROOT_PREFIX: /home/runner/micromamba
2025-01-13T19:36:04.6009073Z   MAMBA_EXE: /home/runner/micromamba-bin/micromamba
2025-01-13T19:36:04.6009431Z   CONDARC: /home/runner/work/_temp/setup-micromamba/.condarc
2025-01-13T19:36:04.6009788Z ##[endgroup]
2025-01-13T19:36:13.2422866Z ============================= test session starts ==============================
2025-01-13T19:36:13.2423679Z platform linux -- Python 3.12.4, pytest-8.2.2, pluggy-1.5.0
2025-01-13T19:36:13.2424281Z rootdir: /home/runner/work/tardis/tardis
2025-01-13T19:36:13.2424800Z configfile: pyproject.toml
2025-01-13T19:36:13.2425419Z plugins: anyio-4.4.0, doctestplus-1.2.1, cov-5.0.0, html-4.1.1, metadata-3.1.1
2025-01-13T19:36:13.2426196Z collected 1796 items / 2 deselected / 1794 selected
2025-01-13T19:36:13.2426553Z 
2025-01-13T19:36:18.3742971Z tardis/energy_input/tests/test_energy_source.py ..xxx                    [  0%]
2025-01-13T19:36:21.2064709Z tardis/energy_input/tests/test_gamma_ray_channel.py ...........          [  0%]
2025-01-13T19:36:23.0084900Z tardis/energy_input/tests/test_gamma_ray_grid.py xx.                     [  1%]
2025-01-13T19:36:24.8118379Z tardis/energy_input/tests/test_gamma_ray_interactions.py xx....          [  1%]
2025-01-13T19:36:24.8226168Z tardis/energy_input/tests/test_gamma_ray_packet_source.py sssssssss      [  1%]
2025-01-13T19:36:26.1198877Z tardis/energy_input/tests/test_util.py .....xxxx.....                    [  2%]
2025-01-13T19:36:26.4580108Z tardis/grid/tests/test_grid.py .                                         [  2%]
2025-01-13T19:36:26.4595790Z tardis/gui/tests/test_gui.py s                                           [  2%]
2025-01-13T19:36:30.0291043Z tardis/io/configuration/tests/test_config_reader.py ...........          [  3%]
2025-01-13T19:36:30.0420969Z tardis/io/configuration/tests/test_configuration_namespace.py .........  [  3%]
2025-01-13T19:36:30.0691971Z tardis/io/logger/tests/test_logging.py ssssssssssssssssssssssssssss      [  5%]
2025-01-13T19:37:10.6932535Z tardis/io/model/readers/tests/test_arepo_parser.py ..                    [  5%]
2025-01-13T19:37:10.7074449Z tardis/io/model/readers/tests/test_ascii_readers.py ...                  [  5%]
2025-01-13T19:37:10.7179675Z tardis/io/model/readers/tests/test_cmfgen_reader.py ..                   [  5%]
2025-01-13T19:37:10.7478689Z tardis/io/model/readers/tests/test_csvy_reader.py ....                   [  6%]
2025-01-13T19:37:10.7691590Z tardis/io/model/readers/tests/test_stella_reader.py ..                   [  6%]
2025-01-13T19:37:11.0862683Z tardis/io/tests/test_HDFWriter.py ...............                        [  7%]
2025-01-13T19:37:11.4253002Z tardis/io/tests/test_atomic.py .....                                     [  7%]
2025-01-13T19:37:11.4636235Z tardis/io/tests/test_decay.py ..                                         [  7%]
2025-01-13T19:37:11.6696815Z tardis/io/tests/test_model_reader.py ......                              [  7%]
2025-01-13T19:37:11.6763969Z tardis/model/geometry/tests/test_radial1d.py ..                          [  7%]
2025-01-13T19:38:12.6531596Z tardis/model/tests/test_base.py ........................................ [ 10%]
2025-01-13T19:38:13.6578173Z ............                                                             [ 10%]
2025-01-13T19:38:16.7518375Z tardis/model/tests/test_csvy_model.py .........                          [ 11%]
2025-01-13T19:38:16.8025513Z tardis/model/tests/test_density.py ..                                    [ 11%]
2025-01-13T19:38:18.1928860Z tardis/opacities/tests/test_opacity_solver.py .....                      [ 11%]
2025-01-13T19:38:19.5928161Z tardis/opacities/tests/test_opacity_state_numba.py .....                 [ 11%]
2025-01-13T19:38:21.7689893Z tardis/opacities/tests/test_tau_sobolev.py FF                            [ 12%]
2025-01-13T19:38:24.7729900Z tardis/plasma/equilibrium/tests/test_collisional_transitions.py ...      [ 12%]
2025-01-13T19:39:11.7020070Z tardis/plasma/equilibrium/tests/test_level_populations.py ....           [ 12%]
2025-01-13T19:39:23.4546513Z tardis/plasma/equilibrium/tests/test_rate_matrix.py .                    [ 12%]
2025-01-13T19:39:24.9190536Z tardis/plasma/tests/test_complete_plasmas.py .....................s..... [ 13%]
2025-01-13T19:39:28.2619837Z s....ssssss............s............ss.....s....ssssss............s..... [ 18%]
2025-01-13T19:39:30.0830815Z .......ss.....s....ssssss............s............ss.....s....ssssss.... [ 22%]
2025-01-13T19:39:33.1106660Z ........s............ss.....s........ss............s............ss.....s [ 26%]
2025-01-13T19:39:36.1385935Z ........ss............s............ss.....s....ssssss............s...... [ 30%]
2025-01-13T19:39:36.9143999Z ......ss.....s....ssssss............s............ss.....s.ss.ssssss..... [ 34%]
2025-01-13T19:39:39.9692558Z .......s............ss.....s....ssssss............s............ss.....s. [ 38%]
2025-01-13T19:39:43.2609703Z ...ssssss............s............ss.....s....ssssss............s....... [ 42%]
2025-01-13T19:39:46.4361414Z .....ss.....s....ssssss............s............s...........ssssss...... [ 46%]
2025-01-13T19:39:48.3470369Z ......s............s...........ssssss............s............s......... [ 50%]
2025-01-13T19:39:51.3672254Z ..ssssss............s............ss.....s....ssssss............s........ [ 54%]
2025-01-13T19:39:54.9790371Z ....ss.....s....ssssss..........................s.....s....ssss......... [ 58%]
2025-01-13T19:39:55.3076280Z ...................s.....s....ssss.......                                [ 60%]
2025-01-13T19:39:55.4325076Z tardis/plasma/tests/test_hdf_plasma.py ................................. [ 62%]
2025-01-13T19:39:55.4440559Z ......                                                                   [ 62%]
2025-01-13T19:39:55.5908699Z tardis/plasma/tests/test_nlte_excitation.py ...                          [ 62%]
2025-01-13T19:42:15.1080662Z tardis/plasma/tests/test_nlte_solver.py .....X                           [ 63%]
2025-01-13T19:42:15.1105827Z tardis/plasma/tests/test_plasma_continuum.py .                           [ 63%]
2025-01-13T19:42:39.5066048Z tardis/plasma/tests/test_plasma_vboundary.py .............               [ 63%]
2025-01-13T19:42:53.6669783Z tardis/plasma/tests/test_tardis_model_density_config.py ...              [ 64%]
2025-01-13T19:42:54.4180306Z tardis/simulation/tests/test_convergence.py .....                        [ 64%]
2025-01-13T19:43:03.3794628Z tardis/simulation/tests/test_simulation.py .............                 [ 65%]
2025-01-13T19:43:03.3996999Z tardis/spectrum/tests/test_cuda_formal_integral.py sssssssssssssssssssss [ 66%]
2025-01-13T19:43:03.8973556Z ssss...ssssssssssssssssssssss                                            [ 67%]
2025-01-13T19:43:03.9051192Z tardis/spectrum/tests/test_luminosity.py ....                            [ 68%]
2025-01-13T19:43:05.6032597Z tardis/spectrum/tests/test_numba_formal_integral.py .................... [ 69%]
2025-01-13T19:43:05.6232564Z ..........                                                               [ 69%]
2025-01-13T19:43:05.8107689Z tardis/spectrum/tests/test_spectrum.py ................................. [ 71%]
2025-01-13T19:43:05.8464593Z .........                                                                [ 72%]
2025-01-13T19:43:25.6988751Z tardis/spectrum/tests/test_spectrum_solver.py ....                       [ 72%]
2025-01-13T19:44:30.3596092Z tardis/tests/test_tardis_full.py ....                                    [ 72%]
2025-01-13T19:45:57.8830729Z tardis/tests/test_tardis_full_formal_integral.py ................        [ 73%]
2025-01-13T19:45:57.9595865Z tardis/tests/test_util.py .............................................  [ 75%]
2025-01-13T19:46:00.7554417Z tardis/transport/montecarlo/tests/test_base.py x.....................    [ 77%]
2025-01-13T19:46:09.1914024Z tardis/transport/montecarlo/tests/test_interaction.py .......            [ 77%]
2025-01-13T19:46:09.4247154Z tardis/transport/montecarlo/tests/test_macro_atom.py ....                [ 77%]
2025-01-13T19:46:09.4431429Z tardis/transport/montecarlo/tests/test_montecarlo.py sssssssssssssssssss [ 78%]
2025-01-13T19:46:09.4886744Z sssssssssssssssssssssssssssssssssssssssssssss                            [ 81%]
2025-01-13T19:46:18.7564362Z tardis/transport/montecarlo/tests/test_montecarlo_main_loop.py x..       [ 81%]
2025-01-13T19:46:18.7633530Z tardis/transport/montecarlo/tests/test_nonhomologous.py ...              [ 81%]
2025-01-13T19:46:24.9353658Z tardis/transport/montecarlo/tests/test_numba_interface.py .....x.        [ 82%]
2025-01-13T19:46:25.4552518Z tardis/transport/montecarlo/tests/test_opacities.py ...............      [ 82%]
2025-01-13T19:46:26.5450044Z tardis/transport/montecarlo/tests/test_packet.py .................xXXXXX [ 84%]
2025-01-13T19:46:26.6919296Z XX.........                                                              [ 84%]
2025-01-13T19:46:26.7210753Z tardis/transport/montecarlo/tests/test_packet_source.py ........         [ 85%]
2025-01-13T19:46:27.0657006Z tardis/transport/montecarlo/tests/test_rpacket_last_interaction_tracker.py . [ 85%]
2025-01-13T19:46:27.5029943Z .....                                                                    [ 85%]
2025-01-13T19:47:05.6108283Z tardis/transport/montecarlo/tests/test_rpacket_tracker.py ......         [ 85%]
2025-01-13T19:47:05.6405171Z tardis/transport/montecarlo/tests/test_single_packet_loop.py xxx         [ 86%]
2025-01-13T19:47:05.6438522Z tardis/transport/montecarlo/tests/test_tracker_utils.py ..               [ 86%]
2025-01-13T19:47:08.8098281Z tardis/transport/montecarlo/tests/test_vpacket.py ..x.                   [ 86%]
2025-01-13T19:47:08.8285392Z tardis/transport/montecarlo/tests/test_weighted_packet_source.py ....    [ 86%]
2025-01-13T19:47:12.4960604Z tardis/transport/montecarlo/tests/test_weighted_packet_source_integration.py . [ 86%]
2025-01-13T19:47:12.4962575Z                                                                          [ 86%]
2025-01-13T19:47:13.2809917Z tardis/transport/tests/test_doppler_factor.py ..................         [ 87%]
2025-01-13T19:47:14.7001562Z tardis/visualization/tools/tests/test_convergence_plot.py .............. [ 88%]
2025-01-13T19:47:17.0136264Z ......                                                                   [ 88%]
2025-01-13T19:47:21.9349214Z tardis/visualization/tools/tests/test_liv_plot.py ...................... [ 90%]
2025-01-13T19:47:24.7429120Z .............................                                            [ 91%]
2025-01-13T19:47:27.6506911Z tardis/visualization/tools/tests/test_rpacket_plot.py .................. [ 92%]
2025-01-13T19:47:35.3439193Z ....                                                                     [ 92%]
2025-01-13T19:47:41.6647187Z tardis/visualization/tools/tests/test_sdec_plot.py ..................... [ 94%]
2025-01-13T19:47:49.5091748Z ..............................                                           [ 95%]
2025-01-13T19:47:49.9635461Z tardis/visualization/widgets/tests/test_custom_abundance.py ........ss.. [ 96%]
2025-01-13T19:47:50.0386429Z ....                                                                     [ 96%]
2025-01-13T19:47:51.1947904Z tardis/visualization/widgets/tests/test_line_info.py ................... [ 97%]
2025-01-13T19:47:51.8511165Z ..................                                                       [ 98%]
2025-01-13T19:48:56.5357231Z tardis/visualization/widgets/tests/test_shell_info.py .................. [ 99%]
2025-01-13T19:49:04.6211049Z ......                                                                   [100%]
2025-01-13T19:49:04.6211826Z 
2025-01-13T19:49:04.6212158Z =================================== FAILURES ===================================
2025-01-13T19:49:04.6212798Z _____________________ test_calculate_sobolev_line_opacity ______________________
2025-01-13T19:49:04.6213255Z 
2025-01-13T19:49:04.6213661Z nb_simulation_verysimple = <tardis.simulation.base.Simulation object at 0x7f0d3c6a2120>
2025-01-13T19:49:04.6214652Z regression_data = <tardis.tests.fixtures.regression_data.RegressionData object at 0x7f0d6a8b6a80>
2025-01-13T19:49:04.6215243Z 
2025-01-13T19:49:04.6215418Z     def test_calculate_sobolev_line_opacity(
2025-01-13T19:49:04.6215901Z         nb_simulation_verysimple, regression_data
2025-01-13T19:49:04.6216336Z     ):
2025-01-13T19:49:04.6216699Z         legacy_plasma = nb_simulation_verysimple.plasma
2025-01-13T19:49:04.6217170Z     
2025-01-13T19:49:04.6217651Z         actual = calculate_sobolev_line_opacity(
2025-01-13T19:49:04.6218114Z             legacy_plasma.lines,
2025-01-13T19:49:04.6218528Z             legacy_plasma.level_number_density,
2025-01-13T19:49:04.6218973Z             legacy_plasma.time_explosion,
2025-01-13T19:49:04.6219434Z             legacy_plasma.stimulated_emission_factor,
2025-01-13T19:49:04.6219865Z         )
2025-01-13T19:49:04.6220230Z >       expected = regression_data.sync_dataframe(actual)
2025-01-13T19:49:04.6220578Z 
2025-01-13T19:49:04.6220766Z tardis/opacities/tests/test_tau_sobolev.py:21: 
2025-01-13T19:49:04.6221270Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-01-13T19:49:04.6221898Z tardis/tests/fixtures/regression_data.py:88: in sync_dataframe
2025-01-13T19:49:04.6222497Z     return pd.read_hdf(self.fpath, key=key)
2025-01-13T19:49:04.6222968Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-01-13T19:49:04.6223304Z 
2025-01-13T19:49:04.6223929Z path_or_buf = '/home/runner/work/tardis/tardis/tardis-regression-data/test_tau_sobolev/test_calculate_sobolev_line_opacity.h5'
2025-01-13T19:49:04.6224933Z key = 'data', mode = 'r', errors = 'strict', where = None, start = None
2025-01-13T19:49:04.6225604Z stop = None, columns = None, iterator = False, chunksize = None, kwargs = {}
2025-01-13T19:49:04.6226135Z exists = False
2025-01-13T19:49:04.6226267Z 
2025-01-13T19:49:04.6226350Z     def read_hdf(
2025-01-13T19:49:04.6226583Z         path_or_buf: FilePath | HDFStore,
2025-01-13T19:49:04.6226867Z         key=None,
2025-01-13T19:49:04.6227072Z         mode: str = "r",
2025-01-13T19:49:04.6227418Z         errors: str = "strict",
2025-01-13T19:49:04.6227695Z         where: str | list | None = None,
2025-01-13T19:49:04.6227968Z         start: int | None = None,
2025-01-13T19:49:04.6228240Z         stop: int | None = None,
2025-01-13T19:49:04.6228531Z         columns: list[str] | None = None,
2025-01-13T19:49:04.6228815Z         iterator: bool = False,
2025-01-13T19:49:04.6229069Z         chunksize: int | None = None,
2025-01-13T19:49:04.6229318Z         **kwargs,
2025-01-13T19:49:04.6229512Z     ):
2025-01-13T19:49:04.6229696Z         """
2025-01-13T19:49:04.6229947Z         Read from the store, close it if we opened it.
2025-01-13T19:49:04.6230237Z     
2025-01-13T19:49:04.6230522Z         Retrieve pandas object stored in file, optionally based on where
2025-01-13T19:49:04.6231337Z         criteria.
2025-01-13T19:49:04.6231645Z     
2025-01-13T19:49:04.6240898Z         .. warning::
2025-01-13T19:49:04.6241309Z     
2025-01-13T19:49:04.6242109Z            Pandas uses PyTables for reading and writing HDF5 files, which allows
2025-01-13T19:49:04.6242904Z            serializing object-dtype data with pickle when using the "fixed" format.
2025-01-13T19:49:04.6243688Z            Loading pickled data received from untrusted sources can be unsafe.
2025-01-13T19:49:04.6244662Z     
2025-01-13T19:49:04.6245423Z            See: https://docs.python.org/3/library/pickle.html for more.
2025-01-13T19:49:04.6245973Z     
2025-01-13T19:49:04.6246284Z         Parameters
2025-01-13T19:49:04.6246797Z         ----------
2025-01-13T19:49:04.6247586Z         path_or_buf : str, path object, pandas.HDFStore
2025-01-13T19:49:04.6248405Z             Any valid string path is acceptable. Only supports the local file system,
2025-01-13T19:49:04.6249415Z             remote URLs and file-like objects are not supported.
2025-01-13T19:49:04.6249917Z     
2025-01-13T19:49:04.6250338Z             If you want to pass in a path object, pandas accepts any
2025-01-13T19:49:04.6250867Z             ``os.PathLike``.
2025-01-13T19:49:04.6251213Z     
2025-01-13T19:49:04.6251675Z             Alternatively, pandas accepts an open :class:`pandas.HDFStore` object.
2025-01-13T19:49:04.6252254Z     
2025-01-13T19:49:04.6252537Z         key : object, optional
2025-01-13T19:49:04.6253044Z             The group identifier in the store. Can be omitted if the HDF file
2025-01-13T19:49:04.6253623Z             contains a single pandas object.
2025-01-13T19:49:04.6254058Z         mode : {'r', 'r+', 'a'}, default 'r'
2025-01-13T19:49:04.6254575Z             Mode to use when opening the file. Ignored if path_or_buf is a
2025-01-13T19:49:04.6255150Z             :class:`pandas.HDFStore`. Default is 'r'.
2025-01-13T19:49:04.6255627Z         errors : str, default 'strict'
2025-01-13T19:49:04.6256157Z             Specifies how encoding and decoding errors are to be handled.
2025-01-13T19:49:04.6256571Z             See the errors argument for :func:`open` for a full list
2025-01-13T19:49:04.6256917Z             of options.
2025-01-13T19:49:04.6257139Z         where : list, optional
2025-01-13T19:49:04.6257650Z             A list of Term (or convertible) objects.
2025-01-13T19:49:04.6257947Z         start : int, optional
2025-01-13T19:49:04.6258197Z             Row number to start selection.
2025-01-13T19:49:04.6258471Z         stop  : int, optional
2025-01-13T19:49:04.6258725Z             Row number to stop selection.
2025-01-13T19:49:04.6258996Z         columns : list, optional
2025-01-13T19:49:04.6259258Z             A list of columns names to return.
2025-01-13T19:49:04.6259535Z         iterator : bool, optional
2025-01-13T19:49:04.6259792Z             Return an iterator object.
2025-01-13T19:49:04.6260056Z         chunksize : int, optional
2025-01-13T19:49:04.6260383Z             Number of rows to include in an iteration when using an iterator.
2025-01-13T19:49:04.6260729Z         **kwargs
2025-01-13T19:49:04.6261012Z             Additional keyword arguments passed to HDFStore.
2025-01-13T19:49:04.6261315Z     
2025-01-13T19:49:04.6261486Z         Returns
2025-01-13T19:49:04.6261708Z         -------
2025-01-13T19:49:04.6261898Z         object
2025-01-13T19:49:04.6262175Z             The selected object. Return type depends on the object stored.
2025-01-13T19:49:04.6262511Z     
2025-01-13T19:49:04.6262685Z         See Also
2025-01-13T19:49:04.6262909Z         --------
2025-01-13T19:49:04.6263171Z         DataFrame.to_hdf : Write a HDF file from a DataFrame.
2025-01-13T19:49:04.6263513Z         HDFStore : Low-level access to HDF files.
2025-01-13T19:49:04.6263788Z     
2025-01-13T19:49:04.6263964Z         Examples
2025-01-13T19:49:04.6264189Z         --------
2025-01-13T19:49:04.6264515Z         >>> df = pd.DataFrame([[1, 1.0, 'a']], columns=['x', 'y', 'z'])  # doctest: +SKIP
2025-01-13T19:49:04.6264930Z         >>> df.to_hdf('./store.h5', 'data')  # doctest: +SKIP
2025-01-13T19:49:04.6265502Z         >>> reread = pd.read_hdf('./store.h5')  # doctest: +SKIP
2025-01-13T19:49:04.6266007Z         """
2025-01-13T19:49:04.6266328Z         if mode not in ["r", "r+", "a"]:
2025-01-13T19:49:04.6266746Z             raise ValueError(
2025-01-13T19:49:04.6267205Z                 f"mode {mode} is not allowed while performing a read. "
2025-01-13T19:49:04.6267764Z                 f"Allowed modes are r, r+ and a."
2025-01-13T19:49:04.6268029Z             )
2025-01-13T19:49:04.6268476Z         # grab the scope
2025-01-13T19:49:04.6268695Z         if where is not None:
2025-01-13T19:49:04.6268987Z             where = _ensure_term(where, scope_level=1)
2025-01-13T19:49:04.6269263Z     
2025-01-13T19:49:04.6269459Z         if isinstance(path_or_buf, HDFStore):
2025-01-13T19:49:04.6269769Z             if not path_or_buf.is_open:
2025-01-13T19:49:04.6270084Z                 raise OSError("The HDFStore must be open for reading.")
2025-01-13T19:49:04.6270429Z     
2025-01-13T19:49:04.6270609Z             store = path_or_buf
2025-01-13T19:49:04.6270848Z             auto_close = False
2025-01-13T19:49:04.6271065Z         else:
2025-01-13T19:49:04.6271282Z             path_or_buf = stringify_path(path_or_buf)
2025-01-13T19:49:04.6271572Z             if not isinstance(path_or_buf, str):
2025-01-13T19:49:04.6271880Z                 raise NotImplementedError(
2025-01-13T19:49:04.6272231Z                     "Support for generic buffers has not been implemented."
2025-01-13T19:49:04.6272537Z                 )
2025-01-13T19:49:04.6272720Z             try:
2025-01-13T19:49:04.6273121Z                 exists = os.path.exists(path_or_buf)
2025-01-13T19:49:04.6274206Z     
2025-01-13T19:49:04.6275000Z             # if filepath is too long
2025-01-13T19:49:04.6275834Z             except (TypeError, ValueError):
2025-01-13T19:49:04.6277220Z                 exists = False
2025-01-13T19:49:04.6278432Z     
2025-01-13T19:49:04.6327122Z             if not exists:
2025-01-13T19:49:04.6327777Z >               raise FileNotFoundError(f"File {path_or_buf} does not exist")
2025-01-13T19:49:04.6328659Z E               FileNotFoundError: File /home/runner/work/tardis/tardis/tardis-regression-data/test_tau_sobolev/test_calculate_sobolev_line_opacity.h5 does not exist
2025-01-13T19:49:04.6329331Z 
2025-01-13T19:49:04.6329682Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/pandas/io/pytables.py:424: FileNotFoundError
2025-01-13T19:49:04.6330319Z ---------------------------- Captured stdout setup -----------------------------
2025-01-13T19:49:04.6331130Z [[1mtardis.io.model.parse_density_configuration[0m][[1;33mWARNING[0m]  
2025-01-13T19:49:04.6332005Z 	Number of density points larger than number of shells. Assuming inner point irrelevant ([1mparse_density_configuration.py[0m:114)
2025-01-13T19:49:04.6332704Z ---------------------------- Captured stderr setup -----------------------------
2025-01-13T19:49:04.6332990Z 
2025-01-13T19:49:04.6332994Z 
2025-01-13T19:49:04.6333283Z Packets:                                                                                   4020/? [00:12<00:00, 33452.46it/s][A
2025-01-13T19:49:04.6333550Z 
2025-01-13T19:49:04.6333819Z Packets:                                                                                   4021/? [00:12<00:00, 245.61it/s]  [A
2025-01-13T19:49:04.6334454Z Iterations:â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ                4/5 [00:12<00:02,  2.77s/it]
2025-01-13T19:49:04.6334767Z 
2025-01-13T19:49:04.6335049Z Packets:                                                                                   4030/? [00:12<00:00, 245.61it/s][A
2025-01-13T19:49:04.6335491Z ------------------------------ Captured log setup ------------------------------
2025-01-13T19:49:04.6336331Z WARNING  tardis.io.model.parse_density_configuration:parse_density_configuration.py:114 Number of density points larger than number of shells. Assuming inner point irrelevant
2025-01-13T19:49:04.6337134Z _________________________ test_calculate_beta_sobolevs _________________________
2025-01-13T19:49:04.6338170Z 
2025-01-13T19:49:04.6338443Z nb_simulation_verysimple = <tardis.simulation.base.Simulation object at 0x7f0d3c6a2120>
2025-01-13T19:49:04.6339101Z regression_data = <tardis.tests.fixtures.regression_data.RegressionData object at 0x7f0d3fa59e50>
2025-01-13T19:49:04.6339496Z 
2025-01-13T19:49:04.6339710Z     def test_calculate_beta_sobolevs(nb_simulation_verysimple, regression_data):
2025-01-13T19:49:04.6340154Z         legacy_plasma = nb_simulation_verysimple.plasma
2025-01-13T19:49:04.6340600Z     
2025-01-13T19:49:04.6340827Z         tau_sobolevs = calculate_sobolev_line_opacity(
2025-01-13T19:49:04.6341132Z             legacy_plasma.lines,
2025-01-13T19:49:04.6341407Z             legacy_plasma.level_number_density,
2025-01-13T19:49:04.6341710Z             legacy_plasma.time_explosion,
2025-01-13T19:49:04.6342017Z             legacy_plasma.stimulated_emission_factor,
2025-01-13T19:49:04.6342302Z         )
2025-01-13T19:49:04.6342536Z         actual = calculate_beta_sobolev(tau_sobolevs)
2025-01-13T19:49:04.6342869Z >       expected = regression_data.sync_ndarray(actual)
2025-01-13T19:49:04.6343082Z 
2025-01-13T19:49:04.6343210Z tardis/opacities/tests/test_tau_sobolev.py:35: 
2025-01-13T19:49:04.6343542Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-01-13T19:49:04.6343933Z tardis/tests/fixtures/regression_data.py:111: in sync_ndarray
2025-01-13T19:49:04.6344290Z     return np.load(self.fpath)
2025-01-13T19:49:04.6344583Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-01-13T19:49:04.6344806Z 
2025-01-13T19:49:04.6345349Z file = PosixPath('/home/runner/work/tardis/tardis/tardis-regression-data/test_tau_sobolev/test_calculate_beta_sobolevs.npy')
2025-01-13T19:49:04.6346129Z mmap_mode = None, allow_pickle = False, fix_imports = True, encoding = 'ASCII'
2025-01-13T19:49:04.6346414Z 
2025-01-13T19:49:04.6346497Z     @set_module('numpy')
2025-01-13T19:49:04.6346805Z     def load(file, mmap_mode=None, allow_pickle=False, fix_imports=True,
2025-01-13T19:49:04.6347208Z              encoding='ASCII', *, max_header_size=format._MAX_HEADER_SIZE):
2025-01-13T19:49:04.6347632Z         """
2025-01-13T19:49:04.6347920Z         Load arrays or pickled objects from ``.npy``, ``.npz`` or pickled files.
2025-01-13T19:49:04.6348259Z     
2025-01-13T19:49:04.6348572Z         .. warning:: Loading files that contain object arrays uses the ``pickle``
2025-01-13T19:49:04.6348988Z                      module, which is not secure against erroneous or maliciously
2025-01-13T19:49:04.6349385Z                      constructed data. Consider passing ``allow_pickle=False`` to
2025-01-13T19:49:04.6349771Z                      load data that is known not to contain object arrays for the
2025-01-13T19:49:04.6350110Z                      safer handling of untrusted sources.
2025-01-13T19:49:04.6350370Z     
2025-01-13T19:49:04.6350539Z         Parameters
2025-01-13T19:49:04.6350743Z         ----------
2025-01-13T19:49:04.6350987Z         file : file-like object, string, or pathlib.Path
2025-01-13T19:49:04.6351325Z             The file to read. File-like objects must support the
2025-01-13T19:49:04.6351658Z             ``seek()`` and ``read()`` methods and must always
2025-01-13T19:49:04.6351996Z             be opened in binary mode.  Pickled files require that the
2025-01-13T19:49:04.6352375Z             file-like object support the ``readline()`` method as well.
2025-01-13T19:49:04.6352726Z         mmap_mode : {None, 'r+', 'r', 'w+', 'c'}, optional
2025-01-13T19:49:04.6353083Z             If not None, then memory-map the file, using the given mode (see
2025-01-13T19:49:04.6353481Z             `numpy.memmap` for a detailed description of the modes).  A
2025-01-13T19:49:04.6353883Z             memory-mapped array is kept on disk. However, it can be accessed
2025-01-13T19:49:04.6354300Z             and sliced like any ndarray.  Memory mapping is especially useful
2025-01-13T19:49:04.6354848Z             for accessing small fragments of large files without reading the
2025-01-13T19:49:04.6355184Z             entire file into memory.
2025-01-13T19:49:04.6355435Z         allow_pickle : bool, optional
2025-01-13T19:49:04.6355774Z             Allow loading pickled object arrays stored in npy files. Reasons for
2025-01-13T19:49:04.6356200Z             disallowing pickles include security, as loading pickled data can
2025-01-13T19:49:04.6356618Z             execute arbitrary code. If pickles are disallowed, loading object
2025-01-13T19:49:04.6357113Z             arrays will fail. Default: False
2025-01-13T19:49:04.6357476Z     
2025-01-13T19:49:04.6357665Z             .. versionchanged:: 1.16.3
2025-01-13T19:49:04.6357956Z                 Made default False in response to CVE-2019-6446.
2025-01-13T19:49:04.6358232Z     
2025-01-13T19:49:04.6358409Z         fix_imports : bool, optional
2025-01-13T19:49:04.6358751Z             Only useful when loading Python 2 generated pickled files on Python 3,
2025-01-13T19:49:04.6359212Z             which includes npy/npz files containing object arrays. If `fix_imports`
2025-01-13T19:49:04.6359651Z             is True, pickle will try to map the old Python 2 names to the new names
2025-01-13T19:49:04.6359988Z             used in Python 3.
2025-01-13T19:49:04.6360220Z         encoding : str, optional
2025-01-13T19:49:04.6360539Z             What encoding to use when reading Python 2 strings. Only useful when
2025-01-13T19:49:04.6360964Z             loading Python 2 generated pickled files in Python 3, which includes
2025-01-13T19:49:04.6361402Z             npy/npz files containing object arrays. Values other than 'latin1',
2025-01-13T19:49:04.6361811Z             'ASCII', and 'bytes' are not allowed, as they can corrupt numerical
2025-01-13T19:49:04.6362140Z             data. Default: 'ASCII'
2025-01-13T19:49:04.6362395Z         max_header_size : int, optional
2025-01-13T19:49:04.6362725Z             Maximum allowed size of the header.  Large headers may not be safe
2025-01-13T19:49:04.6363146Z             to load securely and thus require explicitly passing a larger value.
2025-01-13T19:49:04.6363516Z             See :py:func:`ast.literal_eval()` for details.
2025-01-13T19:49:04.6363880Z             This option is ignored when `allow_pickle` is passed.  In that case
2025-01-13T19:49:04.6364280Z             the file is by definition trusted and the limit is unnecessary.
2025-01-13T19:49:04.6364588Z     
2025-01-13T19:49:04.6364751Z         Returns
2025-01-13T19:49:04.6364939Z         -------
2025-01-13T19:49:04.6365151Z         result : array, tuple, dict, etc.
2025-01-13T19:49:04.6365484Z             Data stored in the file. For ``.npz`` files, the returned instance
2025-01-13T19:49:04.6365886Z             of NpzFile class must be closed to avoid leaking file descriptors.
2025-01-13T19:49:04.6366202Z     
2025-01-13T19:49:04.6366363Z         Raises
2025-01-13T19:49:04.6366540Z         ------
2025-01-13T19:49:04.6366719Z         OSError
2025-01-13T19:49:04.6366945Z             If the input file does not exist or cannot be read.
2025-01-13T19:49:04.6367242Z         UnpicklingError
2025-01-13T19:49:04.6367630Z             If ``allow_pickle=True``, but the file cannot be loaded as a pickle.
2025-01-13T19:49:04.6367950Z         ValueError
2025-01-13T19:49:04.6368234Z             The file contains an object array, but ``allow_pickle=False`` given.
2025-01-13T19:49:04.6368558Z         EOFError
2025-01-13T19:49:04.6368824Z             When calling ``np.load`` multiple times on the same file handle,
2025-01-13T19:49:04.6369167Z             if all data has already been read
2025-01-13T19:49:04.6369410Z     
2025-01-13T19:49:04.6369574Z         See Also
2025-01-13T19:49:04.6369760Z         --------
2025-01-13T19:49:04.6369965Z         save, savez, savez_compressed, loadtxt
2025-01-13T19:49:04.6370325Z         memmap : Create a memory-map to an array stored in a file on disk.
2025-01-13T19:49:04.6370755Z         lib.format.open_memmap : Create or load a memory-mapped ``.npy`` file.
2025-01-13T19:49:04.6371209Z     
2025-01-13T19:49:04.6371372Z         Notes
2025-01-13T19:49:04.6371548Z         -----
2025-01-13T19:49:04.6371810Z         - If the file contains pickle data, then whatever object is stored
2025-01-13T19:49:04.6372139Z           in the pickle is returned.
2025-01-13T19:49:04.6372449Z         - If the file is a ``.npy`` file, then a single array is returned.
2025-01-13T19:49:04.6372819Z         - If the file is a ``.npz`` file, then a dictionary-like object is
2025-01-13T19:49:04.6373254Z           returned, containing ``{filename: array}`` key-value pairs, one for
2025-01-13T19:49:04.6373719Z           each file in the archive.
2025-01-13T19:49:04.6374026Z         - If the file is a ``.npz`` file, the returned value supports the
2025-01-13T19:49:04.6374442Z           context manager protocol in a similar fashion to the open function::
2025-01-13T19:49:04.6374772Z     
2025-01-13T19:49:04.6374954Z             with load('foo.npz') as data:
2025-01-13T19:49:04.6375250Z                 a = data['a']
2025-01-13T19:49:04.6375475Z     
2025-01-13T19:49:04.6375727Z           The underlying file descriptor is closed when exiting the 'with'
2025-01-13T19:49:04.6376048Z           block.
2025-01-13T19:49:04.6376226Z     
2025-01-13T19:49:04.6376390Z         Examples
2025-01-13T19:49:04.6376574Z         --------
2025-01-13T19:49:04.6376779Z         Store data to disk, and load it again:
2025-01-13T19:49:04.6377030Z     
2025-01-13T19:49:04.6377242Z         >>> np.save('/tmp/123', np.array([[1, 2, 3], [4, 5, 6]]))
2025-01-13T19:49:04.6377699Z         >>> np.load('/tmp/123.npy')
2025-01-13T19:49:04.6377937Z         array([[1, 2, 3],
2025-01-13T19:49:04.6378149Z                [4, 5, 6]])
2025-01-13T19:49:04.6378349Z     
2025-01-13T19:49:04.6378555Z         Store compressed data to disk, and load it again:
2025-01-13T19:49:04.6378835Z     
2025-01-13T19:49:04.6379013Z         >>> a=np.array([[1, 2, 3], [4, 5, 6]])
2025-01-13T19:49:04.6379270Z         >>> b=np.array([1, 2])
2025-01-13T19:49:04.6379512Z         >>> np.savez('/tmp/123.npz', a=a, b=b)
2025-01-13T19:49:04.6379785Z         >>> data = np.load('/tmp/123.npz')
2025-01-13T19:49:04.6380031Z         >>> data['a']
2025-01-13T19:49:04.6380234Z         array([[1, 2, 3],
2025-01-13T19:49:04.6380434Z                [4, 5, 6]])
2025-01-13T19:49:04.6380640Z         >>> data['b']
2025-01-13T19:49:04.6380832Z         array([1, 2])
2025-01-13T19:49:04.6381028Z         >>> data.close()
2025-01-13T19:49:04.6381234Z     
2025-01-13T19:49:04.6381460Z         Mem-map the stored array, and then access the second row
2025-01-13T19:49:04.6381774Z         directly from disk:
2025-01-13T19:49:04.6381985Z     
2025-01-13T19:49:04.6382182Z         >>> X = np.load('/tmp/123.npy', mmap_mode='r')
2025-01-13T19:49:04.6382447Z         >>> X[1, :]
2025-01-13T19:49:04.6382644Z         memmap([4, 5, 6])
2025-01-13T19:49:04.6382845Z     
2025-01-13T19:49:04.6383011Z         """
2025-01-13T19:49:04.6383227Z         if encoding not in ('ASCII', 'latin1', 'bytes'):
2025-01-13T19:49:04.6383577Z             # The 'encoding' value for pickle also affects what encoding
2025-01-13T19:49:04.6383945Z             # the serialized binary data of NumPy arrays is loaded
2025-01-13T19:49:04.6384303Z             # in. Pickle does not pass on the encoding information to
2025-01-13T19:49:04.6384672Z             # NumPy. The unpickling code in numpy.core.multiarray is
2025-01-13T19:49:04.6385048Z             # written to assume that unicode data appearing where binary
2025-01-13T19:49:04.6385437Z             # should be is in 'latin1'. 'bytes' is also safe, as is 'ASCII'.
2025-01-13T19:49:04.6385752Z             #
2025-01-13T19:49:04.6385992Z             # Other encoding values can corrupt binary data, and we
2025-01-13T19:49:04.6386378Z             # purposefully disallow them. For the same reason, the errors=
2025-01-13T19:49:04.6386751Z             # argument is not exposed, as values other than 'strict'
2025-01-13T19:49:04.6387100Z             # result can similarly silently corrupt numerical data.
2025-01-13T19:49:04.6387771Z             raise ValueError("encoding must be 'ASCII', 'latin1', or 'bytes'")
2025-01-13T19:49:04.6388098Z     
2025-01-13T19:49:04.6388348Z         pickle_kwargs = dict(encoding=encoding, fix_imports=fix_imports)
2025-01-13T19:49:04.6388661Z     
2025-01-13T19:49:04.6388855Z         with contextlib.ExitStack() as stack:
2025-01-13T19:49:04.6389126Z             if hasattr(file, 'read'):
2025-01-13T19:49:04.6389370Z                 fid = file
2025-01-13T19:49:04.6389583Z                 own_fid = False
2025-01-13T19:49:04.6389915Z             else:
2025-01-13T19:49:04.6390163Z >               fid = stack.enter_context(open(os_fspath(file), "rb"))
2025-01-13T19:49:04.6390879Z E               FileNotFoundError: [Errno 2] No such file or directory: '/home/runner/work/tardis/tardis/tardis-regression-data/test_tau_sobolev/test_calculate_beta_sobolevs.npy'
2025-01-13T19:49:04.6391469Z 
2025-01-13T19:49:04.6391747Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/numpy/lib/npyio.py:427: FileNotFoundError
2025-01-13T19:49:04.6392250Z =============================== warnings summary ===============================
2025-01-13T19:49:04.6392582Z tardis/io/configuration/config_validator.py:6
2025-01-13T19:49:04.6392890Z tardis/io/configuration/config_validator.py:6
2025-01-13T19:49:04.6393384Z   /home/runner/work/tardis/tardis/tardis/io/configuration/config_validator.py:6: DeprecationWarning:
2025-01-13T19:49:04.6393852Z   
2025-01-13T19:49:04.6395090Z   jsonschema.RefResolver is deprecated as of v4.18.0, in favor of the https://github.com/python-jsonschema/referencing library, which provides more compliant referencing behavior as well as more flexible APIs for customization. A future release will remove RefResolver. Please file a feature request (on referencing) if you are missing an API for the kind of customization you need.
2025-01-13T19:49:04.6396508Z 
2025-01-13T19:49:04.6396748Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/jupyter_client/connect.py:22
2025-01-13T19:49:04.6397589Z   /home/runner/micromamba/envs/tardis/lib/python3.12/site-packages/jupyter_client/connect.py:22: DeprecationWarning:
2025-01-13T19:49:04.6398103Z   
2025-01-13T19:49:04.6398347Z   Jupyter is migrating its paths to use standard platformdirs
2025-01-13T19:49:04.6398735Z   given by the platformdirs library.  To remove this warning and
2025-01-13T19:49:04.6399137Z   see the appropriate new directories, set the environment variable
2025-01-13T19:49:04.6399535Z   `JUPYTER_PLATFORM_DIRS=1` and then run `jupyter --paths`.
2025-01-13T19:49:04.6399922Z   The use of platformdirs will be the default in `jupyter_core` v6
2025-01-13T19:49:04.6400162Z 
2025-01-13T19:49:04.6400321Z tardis/io/tests/test_HDFWriter.py::test_multi_index_write
2025-01-13T19:49:04.6400800Z tardis/visualization/widgets/tests/test_shell_info.py::TestHDFShellInfo::test_shells_data
2025-01-13T19:49:04.6401351Z   /home/runner/work/tardis/tardis/tardis/io/util.py:276: PerformanceWarning:
2025-01-13T19:49:04.6401715Z   
2025-01-13T19:49:04.6401880Z   
2025-01-13T19:49:04.6402175Z   your performance may suffer as PyTables will pickle object types that it cannot
2025-01-13T19:49:04.6402720Z   map directly to c-types [inferred_type->mixed,key->block0_values] [items->Index([0], dtype='int64')]
2025-01-13T19:49:04.6403064Z 
2025-01-13T19:49:04.6403258Z tardis/io/tests/test_model_reader.py::test_read_cmfgen_isotope_abundances
2025-01-13T19:49:04.6403751Z tardis/plasma/tests/test_tardis_model_density_config.py::test_electron_densities
2025-01-13T19:49:04.6404278Z tardis/plasma/tests/test_tardis_model_density_config.py::test_isotope_number_densities
2025-01-13T19:49:04.6404778Z tardis/plasma/tests/test_tardis_model_density_config.py::test_t_rad
2025-01-13T19:49:04.6405344Z   /home/runner/work/tardis/tardis/tardis/io/model/readers/cmfgen_deprecated.py:82: DeprecationWarning:
2025-01-13T19:49:04.6405814Z   
2025-01-13T19:49:04.6406017Z   The current CMFGEN model parser is deprecated
2025-01-13T19:49:04.6406214Z 
2025-01-13T19:49:04.6406327Z tardis/io/tests/test_model_reader.py: 1 warning
2025-01-13T19:49:04.6406844Z tardis/plasma/tests/test_tardis_model_density_config.py: 9 warnings
2025-01-13T19:49:04.6407498Z   /home/runner/work/tardis/tardis/tardis/io/model/readers/cmfgen_deprecated.py:40: DeprecationWarning:
2025-01-13T19:49:04.6407961Z   
2025-01-13T19:49:04.6408160Z   The current CMFGEN model parser is deprecated
2025-01-13T19:49:04.6408349Z 
2025-01-13T19:49:04.6408560Z tardis/model/tests/test_base.py::TestModelFromPaper1Config::test_abundances
2025-01-13T19:49:04.6409216Z   /home/runner/work/tardis/tardis/tardis/transport/montecarlo/montecarlo_main_loop.py:123: NumbaTypeSafetyWarning:
2025-01-13T19:49:04.6409861Z   
2025-01-13T19:49:04.6410360Z   [1m[1m[1munsafe cast from uint64 to int64. Precision may be lost.[0m[0m[0m
2025-01-13T19:49:04.6410632Z 
2025-01-13T19:49:04.6410737Z tardis/model/tests/test_base.py: 6 warnings
2025-01-13T19:49:04.6411040Z tardis/model/tests/test_csvy_model.py: 2 warnings
2025-01-13T19:49:04.6411418Z tardis/plasma/tests/test_tardis_model_density_config.py: 3 warnings
2025-01-13T19:49:04.6411960Z   /home/runner/work/tardis/tardis/tardis/model/geometry/radial1d.py:50: DeprecationWarning:
2025-01-13T19:49:04.6412386Z   
2025-01-13T19:49:04.6412595Z   v_inner_boundary < 0, assuming default value
2025-01-13T19:49:04.6412796Z 
2025-01-13T19:49:04.6412898Z tardis/model/tests/test_base.py: 6 warnings
2025-01-13T19:49:04.6413192Z tardis/model/tests/test_csvy_model.py: 2 warnings
2025-01-13T19:49:04.6413559Z tardis/plasma/tests/test_tardis_model_density_config.py: 3 warnings
2025-01-13T19:49:04.6414086Z   /home/runner/work/tardis/tardis/tardis/model/geometry/radial1d.py:61: DeprecationWarning:
2025-01-13T19:49:04.6414509Z   
2025-01-13T19:49:04.6414703Z   v_outer_boundary < 0, assuming default value
2025-01-13T19:49:04.6414884Z 
2025-01-13T19:49:04.6415344Z tardis/plasma/equilibrium/tests/test_level_populations.py::TestLevelPopulationSolver::test_solve[collisional_rate_solver0-radiative_transitions0]
2025-01-13T19:49:04.6416183Z   /home/runner/work/tardis/tardis/tardis/plasma/equilibrium/level_populations.py:65: FutureWarning:
2025-01-13T19:49:04.6416638Z   
2025-01-13T19:49:04.6416999Z   A value is trying to be set on a copy of a DataFrame or Series through chained assignment using an inplace method.
2025-01-13T19:49:04.6417948Z   The behavior will change in pandas 3.0. This inplace method will never work because the intermediate object on which we are setting values always behaves as a copy.
2025-01-13T19:49:04.6418545Z   
2025-01-13T19:49:04.6419165Z   For example, when doing 'df[col].method(value, inplace=True)', try using 'df.method({col: value}, inplace=True)' or df[col] = df[col].method(value) instead, to perform the operation inplace on the original object.
2025-01-13T19:49:04.6419786Z 
2025-01-13T19:49:04.6419933Z tardis/plasma/tests/test_complete_plasmas.py: 20 warnings
2025-01-13T19:49:04.6420441Z   /home/runner/work/tardis/tardis/tardis/plasma/tests/test_complete_plasmas.py:197: UserWarning:
2025-01-13T19:49:04.6420884Z   
2025-01-13T19:49:04.6421059Z   Property "atomic_mass" not found
2025-01-13T19:49:04.6421224Z 
2025-01-13T19:49:04.6421649Z tardis/plasma/tests/test_complete_plasmas.py::TestPlasma::test_plasma_properties[radiative_rates_type:detailed-w_epsilon:1e-10-j_blues_norm_factor]
2025-01-13T19:49:04.6422532Z tardis/plasma/tests/test_complete_plasmas.py::TestPlasma::test_plasma_properties[radiative_rates_type:detailed-j_blues_norm_factor]
2025-01-13T19:49:04.6423265Z   /home/runner/work/tardis/tardis/tardis/plasma/tests/test_complete_plasmas.py:197: UserWarning:
2025-01-13T19:49:04.6423702Z   
2025-01-13T19:49:04.6423889Z   Property "j_blues_norm_factor" not found
2025-01-13T19:49:04.6424069Z 
2025-01-13T19:49:04.6424487Z tardis/plasma/tests/test_complete_plasmas.py::TestPlasma::test_plasma_properties[radiative_rates_type:detailed-w_epsilon:1e-10-j_blue_estimator]
2025-01-13T19:49:04.6425341Z tardis/plasma/tests/test_complete_plasmas.py::TestPlasma::test_plasma_properties[radiative_rates_type:detailed-j_blue_estimator]
2025-01-13T19:49:04.6426275Z   /home/runner/work/tardis/tardis/tardis/plasma/tests/test_complete_plasmas.py:197: UserWarning:
2025-01-13T19:49:04.6426705Z   
2025-01-13T19:49:04.6426887Z   Property "j_blue_estimator" not found
2025-01-13T19:49:04.6427067Z 
2025-01-13T19:49:04.6427547Z tardis/plasma/tests/test_complete_plasmas.py::TestPlasma::test_plasma_properties[radiative_rates_type:detailed-w_epsilon:1e-10-volume]
2025-01-13T19:49:04.6428350Z tardis/plasma/tests/test_complete_plasmas.py::TestPlasma::test_plasma_properties[radiative_rates_type:detailed-volume]
2025-01-13T19:49:04.6429285Z   /home/runner/work/tardis/tardis/tardis/plasma/tests/test_complete_plasmas.py:197: UserWarning:
2025-01-13T19:49:04.6429716Z   
2025-01-13T19:49:04.6429897Z   Property "volume" not found
2025-01-13T19:49:04.6430046Z 
2025-01-13T19:49:04.6430436Z tardis/plasma/tests/test_complete_plasmas.py::TestPlasma::test_plasma_properties[radiative_rates_type:detailed-w_epsilon:1e-10-r_inner]
2025-01-13T19:49:04.6431241Z tardis/plasma/tests/test_complete_plasmas.py::TestPlasma::test_plasma_properties[radiative_rates_type:detailed-r_inner]
2025-01-13T19:49:04.6431951Z   /home/runner/work/tardis/tardis/tardis/plasma/tests/test_complete_plasmas.py:197: UserWarning:
2025-01-13T19:49:04.6432387Z   
2025-01-13T19:49:04.6432561Z   Property "r_inner" not found
2025-01-13T19:49:04.6432715Z 
2025-01-13T19:49:04.6432932Z tardis/plasma/tests/test_plasma_vboundary.py::test_plasma_vboundary[2900-3750]
2025-01-13T19:49:04.6433438Z tardis/plasma/tests/test_plasma_vboundary.py::test_plasma_vboundary[2900-3850]
2025-01-13T19:49:04.6433937Z tardis/plasma/tests/test_plasma_vboundary.py::test_plasma_vboundary[2900-3900]
2025-01-13T19:49:04.6434461Z   /home/runner/work/tardis/tardis/tardis/model/geometry/radial1d.py:71: UserWarning:
2025-01-13T19:49:04.6434855Z   
2025-01-13T19:49:04.6435139Z   Requesting inner boundary below inner shell. Extrapolating the inner cell
2025-01-13T19:49:04.6435418Z 
2025-01-13T19:49:04.6435629Z tardis/spectrum/tests/test_spectrum_solver.py::TestSpectrumSolver::test_solve
2025-01-13T19:49:04.6436132Z   /home/runner/work/tardis/tardis/tardis/spectrum/base.py:70: UserWarning:
2025-01-13T19:49:04.6436491Z   
2025-01-13T19:49:04.6436908Z   SpectrumSolver.spectrum_virtual_packets is zero. Please run the montecarlo simulation with no_of_virtual_packets > 0
2025-01-13T19:49:04.6437451Z 
2025-01-13T19:49:04.6437668Z tardis/spectrum/tests/test_spectrum_solver.py::TestSpectrumSolver::test_solve
2025-01-13T19:49:04.6438165Z   /home/runner/work/tardis/tardis/tardis/spectrum/base.py:111: UserWarning:
2025-01-13T19:49:04.6438531Z   
2025-01-13T19:49:04.6438967Z   SpectrumSolver.integrator: The FormalIntegrator is not yet available.Please run the montecarlo simulation at least once.
2025-01-13T19:49:04.6439394Z 
2025-01-13T19:49:04.6439612Z tardis/transport/montecarlo/tests/test_vpacket.py::test_trace_vpacket_volley
2025-01-13T19:49:04.6440021Z   <string>:3: NumbaPendingDeprecationWarning:
2025-01-13T19:49:04.6440281Z   
2025-01-13T19:49:04.6441507Z   [1m[1mCode using Numba extension API maybe depending on 'old_style' error-capturing, which is deprecated and will be replaced by 'new_style' in a future release. See details at https://numba.readthedocs.io/en/latest/reference/deprecation.html#deprecation-of-old-style-numba-captured-errors
2025-01-13T19:49:04.6442528Z   Exception origin:
2025-01-13T19:49:04.6442901Z     File "/home/runner/micromamba/envs/tardis/lib/python3.12/inspect.py", line 3180, in _bind
2025-01-13T19:49:04.6443327Z       raise TypeError(msg) from None
2025-01-13T19:49:04.6443596Z   [0m[0m
2025-01-13T19:49:04.6443699Z 
2025-01-13T19:49:04.6444025Z tardis/visualization/tools/tests/test_sdec_plot.py::TestSDECPlotter::test_mpl_image[plotter_generate_plot_mpl4]
2025-01-13T19:49:04.6444719Z   /home/runner/work/tardis/tardis/tardis/visualization/tools/sdec_plot.py:1225: RuntimeWarning:
2025-01-13T19:49:04.6445164Z   
2025-01-13T19:49:04.6446113Z   More than 20 figures have been opened. Figures created through the pyplot interface (`matplotlib.pyplot.figure`) are retained until explicitly closed and may consume too much memory. (To control this warning, see the rcParam `figure.max_open_warning`). Consider using `matplotlib.pyplot.close()`.
2025-01-13T19:49:04.6447169Z 
2025-01-13T19:49:04.6447627Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-01-13T19:49:04.6448407Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-01-13T19:49:04.6449308Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-01-13T19:49:04.6450081Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-01-13T19:49:04.6450848Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-01-13T19:49:04.6451618Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-01-13T19:49:04.6452402Z   /home/runner/micromamba/envs/tardis/lib/python3.12/site-packages/traitlets/traitlets.py:1385: DeprecationWarning:
2025-01-13T19:49:04.6452916Z   
2025-01-13T19:49:04.6453198Z   Passing unrecognized arguments to super(Checkbox).__init__(icon='lock').
2025-01-13T19:49:04.6453654Z   object.__init__() takes exactly one argument (the instance to initialize)
2025-01-13T19:49:04.6454156Z   This is deprecated in traitlets 4.2.This error will be raised in a future release of traitlets.
2025-01-13T19:49:04.6454483Z 
2025-01-13T19:49:04.6454836Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-01-13T19:49:04.6455612Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-01-13T19:49:04.6456400Z   /home/runner/micromamba/envs/tardis/lib/python3.12/site-packages/traitlets/traitlets.py:1385: DeprecationWarning:
2025-01-13T19:49:04.6456910Z   
2025-01-13T19:49:04.6457179Z   Passing unrecognized arguments to super(FloatText).__init__(min=0).
2025-01-13T19:49:04.6457754Z   object.__init__() takes exactly one argument (the instance to initialize)
2025-01-13T19:49:04.6458247Z   This is deprecated in traitlets 4.2.This error will be raised in a future release of traitlets.
2025-01-13T19:49:04.6458574Z 
2025-01-13T19:49:04.6458923Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-01-13T19:49:04.6459715Z   /home/runner/micromamba/envs/tardis/lib/python3.12/site-packages/traitlets/traitlets.py:1385: DeprecationWarning:
2025-01-13T19:49:04.6460218Z   
2025-01-13T19:49:04.6460486Z   Passing unrecognized arguments to super(HTML).__init__(indent=True).
2025-01-13T19:49:04.6460926Z   object.__init__() takes exactly one argument (the instance to initialize)
2025-01-13T19:49:04.6461426Z   This is deprecated in traitlets 4.2.This error will be raised in a future release of traitlets.
2025-01-13T19:49:04.6461752Z 
2025-01-13T19:49:04.6462183Z tardis/visualization/widgets/tests/test_line_info.py::TestLineInfoWidgetData::test_get_species_interactions[wavelength_range0-packet_out_nu]
2025-01-13T19:49:04.6463012Z   /home/runner/micromamba/envs/tardis/lib/python3.12/site-packages/qgridnext/grid.py:825: DeprecationWarning:
2025-01-13T19:49:04.6463501Z   
2025-01-13T19:49:04.6463867Z   QgridWidget._grid_options_changed is deprecated in traitlets 4.1: use @observe and @unobserve instead.
2025-01-13T19:49:04.6464231Z 
2025-01-13T19:49:04.6464499Z tardis/visualization/widgets/tests/test_shell_info.py::TestHDFShellInfo::test_shells_data
2025-01-13T19:49:04.6465046Z   /home/runner/work/tardis/tardis/tardis/io/util.py:289: PerformanceWarning:
2025-01-13T19:49:04.6465409Z   
2025-01-13T19:49:04.6465567Z   
2025-01-13T19:49:04.6465873Z   your performance may suffer as PyTables will pickle object types that it cannot
2025-01-13T19:49:04.6466601Z   map directly to c-types [inferred_type->mixed,key->block0_values] [items->Index([0], dtype='int64')]
2025-01-13T19:49:04.6466949Z 
2025-01-13T19:49:04.6467205Z tardis/visualization/widgets/tests/test_shell_info.py::TestHDFShellInfo::test_shells_data
2025-01-13T19:49:04.6467846Z   /home/runner/work/tardis/tardis/tardis/io/util.py:292: PerformanceWarning:
2025-01-13T19:49:04.6468206Z   
2025-01-13T19:49:04.6468362Z   
2025-01-13T19:49:04.6468652Z   your performance may suffer as PyTables will pickle object types that it cannot
2025-01-13T19:49:04.6469307Z   map directly to c-types [inferred_type->mixed,key->values] [items->None]
2025-01-13T19:49:04.6469570Z 
2025-01-13T19:49:04.6469826Z tardis/visualization/widgets/tests/test_shell_info.py::TestHDFShellInfo::test_shells_data
2025-01-13T19:49:04.6470405Z   /home/runner/work/tardis/tardis/tardis/spectrum/formal_integral.py:398: UserWarning:
2025-01-13T19:49:04.6470805Z   
2025-01-13T19:49:04.6471082Z   The number of interpolate_shells was not specified. The value was set to 80.
2025-01-13T19:49:04.6471365Z 
2025-01-13T19:49:04.6471559Z -- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
2025-01-13T19:49:04.6471827Z 
2025-01-13T19:49:04.6471999Z ---------- coverage: platform linux, python 3.12.4-final-0 -----------
2025-01-13T19:49:04.6472366Z Coverage HTML written to dir coverage_html_report
2025-01-13T19:49:04.6472673Z Coverage XML written to file coverage.xml
2025-01-13T19:49:04.6472859Z 
2025-01-13T19:49:04.6473019Z =========================== short test summary info ============================
2025-01-13T19:49:04.6473993Z FAILED tardis/opacities/tests/test_tau_sobolev.py::test_calculate_sobolev_line_opacity - FileNotFoundError: File /home/runner/work/tardis/tardis/tardis-regression-data/test_tau_sobolev/test_calculate_sobolev_line_opacity.h5 does not exist
2025-01-13T19:49:04.6475553Z FAILED tardis/opacities/tests/test_tau_sobolev.py::test_calculate_beta_sobolevs - FileNotFoundError: [Errno 2] No such file or directory: '/home/runner/work/tardis/tardis/tardis-regression-data/test_tau_sobolev/test_calculate_beta_sobolevs.npy'
2025-01-13T19:49:04.6476639Z = 2 failed, 1436 passed, 329 skipped, 2 deselected, 19 xfailed, 8 xpassed, 91 warnings in 773.03s (0:12:53) =
2025-01-13T19:49:07.2230010Z ##[error]Process completed with exit code 1.
