2025-01-13T19:02:29.7598489Z Requested labels: macos-latest
2025-01-13T19:02:29.7598841Z Job defined at: tardis-sn/tardis/.github/workflows/tests.yml@refs/pull/2800/merge
2025-01-13T19:02:29.7598964Z Waiting for a runner to pick up this job...
2025-01-13T19:02:29.9350859Z Job is waiting for a hosted runner to come online.
2025-01-13T19:02:33.3450937Z Job is about to start running on the hosted runner: GitHub Actions 8 (hosted)
2025-01-13T19:02:34.0804760Z Current runner version: '2.321.0'
2025-01-13T19:02:34.0823920Z ##[group]Operating System
2025-01-13T19:02:34.0824410Z macOS
2025-01-13T19:02:34.0824720Z 14.7.2
2025-01-13T19:02:34.0825020Z 23H311
2025-01-13T19:02:34.0825320Z ##[endgroup]
2025-01-13T19:02:34.0825650Z ##[group]Runner Image
2025-01-13T19:02:34.0825990Z Image: macos-14-arm64
2025-01-13T19:02:34.0826310Z Version: 20250106.725
2025-01-13T19:02:34.0826980Z Included Software: https://github.com/actions/runner-images/blob/macos-14-arm64/20250106.725/images/macos/macos-14-arm64-Readme.md
2025-01-13T19:02:34.0827930Z Image Release: https://github.com/actions/runner-images/releases/tag/macos-14-arm64%2F20250106.725
2025-01-13T19:02:34.0828520Z ##[endgroup]
2025-01-13T19:02:34.0828830Z ##[group]Runner Image Provisioner
2025-01-13T19:02:34.0829240Z 2.0.404.1+573eac7f0cc07d6bb82d8b9bf5e1ffa69a554644
2025-01-13T19:02:34.0829640Z ##[endgroup]
2025-01-13T19:02:34.0831000Z ##[group]GITHUB_TOKEN Permissions
2025-01-13T19:02:34.0832240Z Actions: read
2025-01-13T19:02:34.0832570Z Attestations: read
2025-01-13T19:02:34.0832880Z Checks: read
2025-01-13T19:02:34.0833180Z Contents: read
2025-01-13T19:02:34.0833490Z Deployments: read
2025-01-13T19:02:34.0833810Z Discussions: read
2025-01-13T19:02:34.0834120Z Issues: read
2025-01-13T19:02:34.0834410Z Metadata: read
2025-01-13T19:02:34.0835240Z Packages: read
2025-01-13T19:02:34.0835610Z Pages: read
2025-01-13T19:02:34.0835920Z PullRequests: read
2025-01-13T19:02:34.0836240Z RepositoryProjects: read
2025-01-13T19:02:34.0836580Z SecurityEvents: read
2025-01-13T19:02:34.0836890Z Statuses: read
2025-01-13T19:02:34.0837200Z ##[endgroup]
2025-01-13T19:02:34.0839420Z Secret source: None
2025-01-13T19:02:34.0839820Z Prepare workflow directory
2025-01-13T19:02:34.1216410Z Prepare all required actions
2025-01-13T19:02:34.1245150Z Getting action download info
2025-01-13T19:02:34.2894490Z Download action repository 'actions/checkout@v4' (SHA:11bd71901bbe5b1630ceea73d27597364c9af683)
2025-01-13T19:02:34.6160040Z Download action repository 'actions/upload-artifact@v4' (SHA:65c4c4a1ddee5b72f698fdd19549f0f0fb45cf08)
2025-01-13T19:02:36.2561520Z Complete job name: not continuum macos-latest 
2025-01-13T19:02:36.3003940Z ##[group]Run actions/checkout@v4
2025-01-13T19:02:36.3004540Z with:
2025-01-13T19:02:36.3004840Z   repository: tardis-sn/tardis
2025-01-13T19:02:36.3005340Z   token: ***
2025-01-13T19:02:36.3005630Z   ssh-strict: true
2025-01-13T19:02:36.3005910Z   ssh-user: git
2025-01-13T19:02:36.3006200Z   persist-credentials: true
2025-01-13T19:02:36.3006530Z   clean: true
2025-01-13T19:02:36.3006840Z   sparse-checkout-cone-mode: true
2025-01-13T19:02:36.3007190Z   fetch-depth: 1
2025-01-13T19:02:36.3007490Z   fetch-tags: false
2025-01-13T19:02:36.3007780Z   show-progress: true
2025-01-13T19:02:36.3008090Z   lfs: false
2025-01-13T19:02:36.3008370Z   submodules: false
2025-01-13T19:02:36.3008670Z   set-safe-directory: true
2025-01-13T19:02:36.3009090Z env:
2025-01-13T19:02:36.3009350Z   CACHE_NUMBER: 0
2025-01-13T19:02:36.3010190Z   PYTEST_FLAGS: --tardis-regression-data=/Users/runner/work/tardis/tardis/tardis-regression-data --cov=tardis --cov-report=xml --cov-report=html --cov-append
2025-01-13T19:02:36.3011080Z   CODECOV_TOKEN: 
2025-01-13T19:02:36.3011360Z ##[endgroup]
2025-01-13T19:02:36.5799160Z Syncing repository: tardis-sn/tardis
2025-01-13T19:02:36.5800720Z ##[group]Getting Git version info
2025-01-13T19:02:36.5801350Z Working directory is '/Users/runner/work/tardis/tardis'
2025-01-13T19:02:36.5802090Z [command]/opt/homebrew/bin/git version
2025-01-13T19:02:36.6288960Z git version 2.47.1
2025-01-13T19:02:36.6314110Z ##[endgroup]
2025-01-13T19:02:36.6320750Z Copying '/Users/runner/.gitconfig' to '/Users/runner/work/_temp/e0713fc6-a1d6-4e7e-b1c0-b266829519a0/.gitconfig'
2025-01-13T19:02:36.6327950Z Temporarily overriding HOME='/Users/runner/work/_temp/e0713fc6-a1d6-4e7e-b1c0-b266829519a0' before making global git config changes
2025-01-13T19:02:36.6329250Z Adding repository directory to the temporary git global config as a safe directory
2025-01-13T19:02:36.6332430Z [command]/opt/homebrew/bin/git config --global --add safe.directory /Users/runner/work/tardis/tardis
2025-01-13T19:02:36.6416050Z Deleting the contents of '/Users/runner/work/tardis/tardis'
2025-01-13T19:02:36.6418980Z ##[group]Initializing the repository
2025-01-13T19:02:36.6424640Z [command]/opt/homebrew/bin/git init /Users/runner/work/tardis/tardis
2025-01-13T19:02:36.6630850Z hint: Using 'master' as the name for the initial branch. This default branch name
2025-01-13T19:02:36.6632280Z hint: is subject to change. To configure the initial branch name to use in all
2025-01-13T19:02:36.6633260Z hint: of your new repositories, which will suppress this warning, call:
2025-01-13T19:02:36.6634050Z hint:
2025-01-13T19:02:36.6634620Z hint: 	git config --global init.defaultBranch <name>
2025-01-13T19:02:36.6635240Z hint:
2025-01-13T19:02:36.6635890Z hint: Names commonly chosen instead of 'master' are 'main', 'trunk' and
2025-01-13T19:02:36.6636750Z hint: 'development'. The just-created branch can be renamed via this command:
2025-01-13T19:02:36.6637540Z hint:
2025-01-13T19:02:36.6638000Z hint: 	git branch -m <name>
2025-01-13T19:02:36.6639280Z Initialized empty Git repository in /Users/runner/work/tardis/tardis/.git/
2025-01-13T19:02:36.6641620Z [command]/opt/homebrew/bin/git remote add origin https://github.com/tardis-sn/tardis
2025-01-13T19:02:36.6724200Z ##[endgroup]
2025-01-13T19:02:36.6733640Z ##[group]Disabling automatic garbage collection
2025-01-13T19:02:36.6734490Z [command]/opt/homebrew/bin/git config --local gc.auto 0
2025-01-13T19:02:36.6781260Z ##[endgroup]
2025-01-13T19:02:36.6781930Z ##[group]Setting up auth
2025-01-13T19:02:36.6786500Z [command]/opt/homebrew/bin/git config --local --name-only --get-regexp core\.sshCommand
2025-01-13T19:02:36.6832480Z [command]/opt/homebrew/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'core\.sshCommand' && git config --local --unset-all 'core.sshCommand' || :"
2025-01-13T19:02:36.7395380Z [command]/opt/homebrew/bin/git config --local --name-only --get-regexp http\.https\:\/\/github\.com\/\.extraheader
2025-01-13T19:02:36.7433250Z [command]/opt/homebrew/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'http\.https\:\/\/github\.com\/\.extraheader' && git config --local --unset-all 'http.https://github.com/.extraheader' || :"
2025-01-13T19:02:36.7921730Z [command]/opt/homebrew/bin/git config --local http.https://github.com/.extraheader AUTHORIZATION: basic ***
2025-01-13T19:02:36.7986900Z ##[endgroup]
2025-01-13T19:02:36.7987700Z ##[group]Fetching the repository
2025-01-13T19:02:36.7993440Z [command]/opt/homebrew/bin/git -c protocol.version=2 fetch --no-tags --prune --no-recurse-submodules --depth=1 origin +aede15d6b8c4c514281c290f1a84dc228bf9d91f:refs/remotes/pull/2800/merge
2025-01-13T19:02:38.9911880Z From https://github.com/tardis-sn/tardis
2025-01-13T19:02:38.9912700Z  * [new ref]         aede15d6b8c4c514281c290f1a84dc228bf9d91f -> pull/2800/merge
2025-01-13T19:02:38.9967840Z ##[endgroup]
2025-01-13T19:02:38.9968210Z ##[group]Determining the checkout info
2025-01-13T19:02:38.9968620Z ##[endgroup]
2025-01-13T19:02:38.9972900Z [command]/opt/homebrew/bin/git sparse-checkout disable
2025-01-13T19:02:39.0030230Z [command]/opt/homebrew/bin/git config --local --unset-all extensions.worktreeConfig
2025-01-13T19:02:39.0074800Z ##[group]Checking out the ref
2025-01-13T19:02:39.0076690Z [command]/opt/homebrew/bin/git checkout --progress --force refs/remotes/pull/2800/merge
2025-01-13T19:02:39.2401110Z HEAD is now at aede15d Merge 1fba621d2535a7bcea9288af99c27be317be1354 into b4bc6ac32afba1ed86870074cd69db14d7845052
2025-01-13T19:02:39.2410350Z ##[endgroup]
2025-01-13T19:02:39.2478590Z [command]/opt/homebrew/bin/git log -1 --format=%H
2025-01-13T19:02:39.2530380Z aede15d6b8c4c514281c290f1a84dc228bf9d91f
2025-01-13T19:02:39.2799290Z Prepare all required actions
2025-01-13T19:02:39.2799710Z Getting action download info
2025-01-13T19:02:39.4067300Z Download action repository 'actions/cache@v4' (SHA:1bd1e32a3bdc45362d1e726936510720a7c30a57)
2025-01-13T19:02:39.5036300Z ##[group]Run ./.github/actions/setup_lfs
2025-01-13T19:02:39.5036540Z with:
2025-01-13T19:02:39.5036750Z   regression-data-repo: tardis-sn/tardis-regression-data
2025-01-13T19:02:39.5036980Z env:
2025-01-13T19:02:39.5037110Z   CACHE_NUMBER: 0
2025-01-13T19:02:39.5037590Z   PYTEST_FLAGS: --tardis-regression-data=/Users/runner/work/tardis/tardis/tardis-regression-data --cov=tardis --cov-report=xml --cov-report=html --cov-append
2025-01-13T19:02:39.5038110Z   CODECOV_TOKEN: 
2025-01-13T19:02:39.5038260Z ##[endgroup]
2025-01-13T19:02:39.5137600Z ##[group]Run actions/checkout@v4
2025-01-13T19:02:39.5137790Z with:
2025-01-13T19:02:39.5137950Z   repository: tardis-sn/tardis-regression-data
2025-01-13T19:02:39.5138180Z   path: tardis-regression-data
2025-01-13T19:02:39.5138470Z   token: ***
2025-01-13T19:02:39.5138610Z   ssh-strict: true
2025-01-13T19:02:39.5138770Z   ssh-user: git
2025-01-13T19:02:39.5138920Z   persist-credentials: true
2025-01-13T19:02:39.5139100Z   clean: true
2025-01-13T19:02:39.5139250Z   sparse-checkout-cone-mode: true
2025-01-13T19:02:39.5139430Z   fetch-depth: 1
2025-01-13T19:02:39.5139570Z   fetch-tags: false
2025-01-13T19:02:39.5139720Z   show-progress: true
2025-01-13T19:02:39.5139870Z   lfs: false
2025-01-13T19:02:39.5140000Z   submodules: false
2025-01-13T19:02:39.5140190Z   set-safe-directory: true
2025-01-13T19:02:39.5140350Z env:
2025-01-13T19:02:39.5140480Z   CACHE_NUMBER: 0
2025-01-13T19:02:39.5140940Z   PYTEST_FLAGS: --tardis-regression-data=/Users/runner/work/tardis/tardis/tardis-regression-data --cov=tardis --cov-report=xml --cov-report=html --cov-append
2025-01-13T19:02:39.5141420Z   CODECOV_TOKEN: 
2025-01-13T19:02:39.5141560Z ##[endgroup]
2025-01-13T19:02:39.5983800Z Syncing repository: tardis-sn/tardis-regression-data
2025-01-13T19:02:39.5986530Z ##[group]Getting Git version info
2025-01-13T19:02:39.5987670Z Working directory is '/Users/runner/work/tardis/tardis/tardis-regression-data'
2025-01-13T19:02:39.6021230Z [command]/opt/homebrew/bin/git version
2025-01-13T19:02:39.6063940Z git version 2.47.1
2025-01-13T19:02:39.6077240Z ##[endgroup]
2025-01-13T19:02:39.6082690Z Copying '/Users/runner/.gitconfig' to '/Users/runner/work/_temp/9ac8dd1c-593e-4e4b-8c61-75b863be1b3e/.gitconfig'
2025-01-13T19:02:39.6089110Z Temporarily overriding HOME='/Users/runner/work/_temp/9ac8dd1c-593e-4e4b-8c61-75b863be1b3e' before making global git config changes
2025-01-13T19:02:39.6089860Z Adding repository directory to the temporary git global config as a safe directory
2025-01-13T19:02:39.6092350Z [command]/opt/homebrew/bin/git config --global --add safe.directory /Users/runner/work/tardis/tardis/tardis-regression-data
2025-01-13T19:02:39.6141910Z ##[group]Initializing the repository
2025-01-13T19:02:39.6145650Z [command]/opt/homebrew/bin/git init /Users/runner/work/tardis/tardis/tardis-regression-data
2025-01-13T19:02:39.6641500Z hint: Using 'master' as the name for the initial branch. This default branch name
2025-01-13T19:02:39.6717330Z hint: is subject to change. To configure the initial branch name to use in all
2025-01-13T19:02:39.6911870Z hint: of your new repositories, which will suppress this warning, call:
2025-01-13T19:02:39.7052960Z hint:
2025-01-13T19:02:39.7165920Z hint: 	git config --global init.defaultBranch <name>
2025-01-13T19:02:39.7268980Z hint:
2025-01-13T19:02:39.7377500Z hint: Names commonly chosen instead of 'master' are 'main', 'trunk' and
2025-01-13T19:02:39.7504860Z hint: 'development'. The just-created branch can be renamed via this command:
2025-01-13T19:02:39.7607190Z hint:
2025-01-13T19:02:39.7710420Z hint: 	git branch -m <name>
2025-01-13T19:02:39.7812140Z Initialized empty Git repository in /Users/runner/work/tardis/tardis/tardis-regression-data/.git/
2025-01-13T19:02:39.8115470Z [command]/opt/homebrew/bin/git remote add origin https://github.com/tardis-sn/tardis-regression-data
2025-01-13T19:02:39.8419370Z ##[endgroup]
2025-01-13T19:02:39.8519960Z ##[group]Disabling automatic garbage collection
2025-01-13T19:02:39.8621560Z [command]/opt/homebrew/bin/git config --local gc.auto 0
2025-01-13T19:02:39.8925630Z ##[endgroup]
2025-01-13T19:02:39.9027440Z ##[group]Setting up auth
2025-01-13T19:02:39.9127520Z [command]/opt/homebrew/bin/git config --local --name-only --get-regexp core\.sshCommand
2025-01-13T19:02:39.9559920Z [command]/opt/homebrew/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'core\.sshCommand' && git config --local --unset-all 'core.sshCommand' || :"
2025-01-13T19:02:39.9962050Z [command]/opt/homebrew/bin/git config --local --name-only --get-regexp http\.https\:\/\/github\.com\/\.extraheader
2025-01-13T19:02:40.0265260Z [command]/opt/homebrew/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'http\.https\:\/\/github\.com\/\.extraheader' && git config --local --unset-all 'http.https://github.com/.extraheader' || :"
2025-01-13T19:02:40.0663730Z [command]/opt/homebrew/bin/git config --local http.https://github.com/.extraheader AUTHORIZATION: basic ***
2025-01-13T19:02:40.0968890Z ##[endgroup]
2025-01-13T19:02:40.1069490Z ##[group]Determining the default branch
2025-01-13T19:02:40.1153420Z Retrieving the default branch name
2025-01-13T19:02:40.4895850Z Default branch 'main'
2025-01-13T19:02:40.5090900Z ##[endgroup]
2025-01-13T19:02:40.5293080Z ##[group]Fetching the repository
2025-01-13T19:02:40.5419530Z [command]/opt/homebrew/bin/git -c protocol.version=2 fetch --no-tags --prune --no-recurse-submodules --depth=1 origin +refs/heads/main:refs/remotes/origin/main
2025-01-13T19:02:41.7549850Z From https://github.com/tardis-sn/tardis-regression-data
2025-01-13T19:02:41.7550530Z  * [new branch]      main       -> origin/main
2025-01-13T19:02:41.7607890Z ##[endgroup]
2025-01-13T19:02:41.7610520Z ##[group]Determining the checkout info
2025-01-13T19:02:41.7613310Z ##[endgroup]
2025-01-13T19:02:41.7630840Z [command]/opt/homebrew/bin/git sparse-checkout disable
2025-01-13T19:02:41.7684110Z [command]/opt/homebrew/bin/git config --local --unset-all extensions.worktreeConfig
2025-01-13T19:02:41.7729080Z ##[group]Checking out the ref
2025-01-13T19:02:41.7729540Z [command]/opt/homebrew/bin/git checkout --progress --force -B main refs/remotes/origin/main
2025-01-13T19:02:41.9448410Z Switched to a new branch 'main'
2025-01-13T19:02:41.9459880Z branch 'main' set up to track 'origin/main'.
2025-01-13T19:02:42.0151680Z ##[endgroup]
2025-01-13T19:02:42.0209010Z [command]/opt/homebrew/bin/git log -1 --format=%H
2025-01-13T19:02:42.0252890Z fa7729bc9c30e14b69acd641af8b692b56fcd416
2025-01-13T19:02:42.0361000Z ##[group]Run git lfs ls-files -l | cut -d' ' -f1 | sort > .lfs-assets-id
2025-01-13T19:02:42.0361420Z [36;1mgit lfs ls-files -l | cut -d' ' -f1 | sort > .lfs-assets-id[0m
2025-01-13T19:02:42.0421120Z shell: /bin/bash --noprofile --norc -e -o pipefail {0}
2025-01-13T19:02:42.0421500Z env:
2025-01-13T19:02:42.0421640Z   CACHE_NUMBER: 0
2025-01-13T19:02:42.0422130Z   PYTEST_FLAGS: --tardis-regression-data=/Users/runner/work/tardis/tardis/tardis-regression-data --cov=tardis --cov-report=xml --cov-report=html --cov-append
2025-01-13T19:02:42.0422660Z   CODECOV_TOKEN: 
2025-01-13T19:02:42.0422820Z ##[endgroup]
2025-01-13T19:02:42.4886090Z ##[group]Run actions/cache/restore@v4
2025-01-13T19:02:42.4886410Z with:
2025-01-13T19:02:42.4886570Z   path: tardis-regression-data/.git/lfs
2025-01-13T19:02:42.4886970Z   key: macOS-lfs-21f9fa4b6817cc69b9fae3598144724da7828e276a73bd17f47a2a49d9af090a-v1
2025-01-13T19:02:42.4887320Z   enableCrossOsArchive: false
2025-01-13T19:02:42.4887540Z   fail-on-cache-miss: false
2025-01-13T19:02:42.4887710Z   lookup-only: false
2025-01-13T19:02:42.4887860Z env:
2025-01-13T19:02:42.4888090Z   CACHE_NUMBER: 0
2025-01-13T19:02:42.4888960Z   PYTEST_FLAGS: --tardis-regression-data=/Users/runner/work/tardis/tardis/tardis-regression-data --cov=tardis --cov-report=xml --cov-report=html --cov-append
2025-01-13T19:02:42.4889520Z   CODECOV_TOKEN: 
2025-01-13T19:02:42.4889660Z ##[endgroup]
2025-01-13T19:02:43.8291850Z Received 41943040 of 1706796060 (2.5%), 40.0 MBs/sec
2025-01-13T19:02:44.8048370Z Received 104857600 of 1706796060 (6.1%), 49.8 MBs/sec
2025-01-13T19:02:45.8349240Z Received 167772160 of 1706796060 (9.8%), 53.0 MBs/sec
2025-01-13T19:02:46.8665990Z Received 239075328 of 1706796060 (14.0%), 56.5 MBs/sec
2025-01-13T19:02:47.8822110Z Received 281018368 of 1706796060 (16.5%), 52.7 MBs/sec
2025-01-13T19:02:48.8839450Z Received 352321536 of 1706796060 (20.6%), 55.2 MBs/sec
2025-01-13T19:02:49.8798720Z Received 402653184 of 1706796060 (23.6%), 54.2 MBs/sec
2025-01-13T19:02:50.8811920Z Received 457179136 of 1706796060 (26.8%), 53.9 MBs/sec
2025-01-13T19:02:51.8829640Z Received 520093696 of 1706796060 (30.5%), 54.6 MBs/sec
2025-01-13T19:02:52.8833780Z Received 566231040 of 1706796060 (33.2%), 53.5 MBs/sec
2025-01-13T19:02:53.8852950Z Received 633339904 of 1706796060 (37.1%), 54.5 MBs/sec
2025-01-13T19:02:54.8861360Z Received 679477248 of 1706796060 (39.8%), 53.6 MBs/sec
2025-01-13T19:02:55.8873710Z Received 746586112 of 1706796060 (43.7%), 54.4 MBs/sec
2025-01-13T19:02:56.8886090Z Received 813694976 of 1706796060 (47.7%), 55.1 MBs/sec
2025-01-13T19:02:57.8888190Z Received 864026624 of 1706796060 (50.6%), 54.6 MBs/sec
2025-01-13T19:02:58.8905820Z Received 914358272 of 1706796060 (53.6%), 54.2 MBs/sec
2025-01-13T19:02:59.8992360Z Received 977272832 of 1706796060 (57.3%), 54.5 MBs/sec
2025-01-13T19:03:00.8931780Z Received 1035993088 of 1706796060 (60.7%), 54.6 MBs/sec
2025-01-13T19:03:01.8949050Z Received 1103101952 of 1706796060 (64.6%), 55.1 MBs/sec
2025-01-13T19:03:02.9095080Z Received 1170210816 of 1706796060 (68.6%), 55.5 MBs/sec
2025-01-13T19:03:03.9115880Z Received 1216348160 of 1706796060 (71.3%), 54.9 MBs/sec
2025-01-13T19:03:04.9124660Z Received 1283457024 of 1706796060 (75.2%), 55.3 MBs/sec
2025-01-13T19:03:05.9133600Z Received 1342177280 of 1706796060 (78.6%), 55.4 MBs/sec
2025-01-13T19:03:06.9140990Z Received 1409286144 of 1706796060 (82.6%), 55.7 MBs/sec
2025-01-13T19:03:07.9171480Z Received 1468006400 of 1706796060 (86.0%), 55.7 MBs/sec
2025-01-13T19:03:08.9162460Z Received 1530920960 of 1706796060 (89.7%), 55.9 MBs/sec
2025-01-13T19:03:09.9173260Z Received 1589641216 of 1706796060 (93.1%), 55.9 MBs/sec
2025-01-13T19:03:10.9182620Z Received 1639972864 of 1706796060 (96.1%), 55.6 MBs/sec
2025-01-13T19:03:11.9210180Z Received 1706796060 of 1706796060 (100.0%), 55.9 MBs/sec
2025-01-13T19:03:12.2767560Z Cache Size: ~1628 MB (1706796060 B)
2025-01-13T19:03:12.2972660Z [command]/opt/homebrew/bin/gtar -xf /Users/runner/work/_temp/b4171af3-d8b8-44ff-a3b5-62e37017a740/cache.tzst -P -C /Users/runner/work/tardis/tardis --delay-directory-restore --use-compress-program unzstd
2025-01-13T19:03:18.3594670Z Cache restored successfully
2025-01-13T19:03:18.4483090Z Cache restored from key: macOS-lfs-21f9fa4b6817cc69b9fae3598144724da7828e276a73bd17f47a2a49d9af090a-v1
2025-01-13T19:03:18.4664980Z ##[group]Run git lfs checkout
2025-01-13T19:03:18.4665250Z [36;1mgit lfs checkout[0m
2025-01-13T19:03:18.4776300Z shell: /bin/bash --noprofile --norc -e -o pipefail {0}
2025-01-13T19:03:18.4776820Z env:
2025-01-13T19:03:18.4777040Z   CACHE_NUMBER: 0
2025-01-13T19:03:18.4777710Z   PYTEST_FLAGS: --tardis-regression-data=/Users/runner/work/tardis/tardis/tardis-regression-data --cov=tardis --cov-report=xml --cov-report=html --cov-append
2025-01-13T19:03:18.4778350Z   CODECOV_TOKEN: 
2025-01-13T19:03:18.4778590Z ##[endgroup]
2025-01-13T19:03:26.3929130Z Checking out LFS objects: 100% (204/204), 3.5 GB | 352 MB/s, done.
2025-01-13T19:03:32.0712160Z Prepare all required actions
2025-01-13T19:03:32.0712620Z Getting action download info
2025-01-13T19:03:32.2233850Z Download action repository 'mamba-org/setup-micromamba@v1' (SHA:4b9113af4fba0e9e1124b252dd6497a419e7396d)
2025-01-13T19:03:33.7025780Z ##[group]Run ./.github/actions/setup_env
2025-01-13T19:03:33.7026080Z with:
2025-01-13T19:03:33.7026420Z   os-label: osx-arm64
2025-01-13T19:03:33.7026650Z env:
2025-01-13T19:03:33.7026800Z   CACHE_NUMBER: 0
2025-01-13T19:03:33.7027420Z   PYTEST_FLAGS: --tardis-regression-data=/Users/runner/work/tardis/tardis/tardis-regression-data --cov=tardis --cov-report=xml --cov-report=html --cov-append
2025-01-13T19:03:33.7028440Z   CODECOV_TOKEN: 
2025-01-13T19:03:33.7028710Z ##[endgroup]
2025-01-13T19:03:33.7052910Z ##[group]Run file_hash=$(cat conda-osx-arm64.lock | shasum -a 256 | cut -d' ' -f1)
2025-01-13T19:03:33.7053350Z [36;1mfile_hash=$(cat conda-osx-arm64.lock | shasum -a 256 | cut -d' ' -f1)[0m
2025-01-13T19:03:33.7053710Z [36;1mecho "file_hash=$file_hash" >> "${GITHUB_OUTPUT}"[0m
2025-01-13T19:03:33.7118330Z shell: /bin/bash --noprofile --norc -e -o pipefail {0}
2025-01-13T19:03:33.7118600Z env:
2025-01-13T19:03:33.7118740Z   CACHE_NUMBER: 0
2025-01-13T19:03:33.7119230Z   PYTEST_FLAGS: --tardis-regression-data=/Users/runner/work/tardis/tardis/tardis-regression-data --cov=tardis --cov-report=xml --cov-report=html --cov-append
2025-01-13T19:03:33.7119740Z   CODECOV_TOKEN: 
2025-01-13T19:03:33.7119870Z ##[endgroup]
2025-01-13T19:03:33.7988430Z ##[group]Run mamba-org/setup-micromamba@v1
2025-01-13T19:03:33.7988750Z with:
2025-01-13T19:03:33.7988920Z   environment-file: conda-osx-arm64.lock
2025-01-13T19:03:33.7989260Z   cache-environment-key: bf0d0a4d4c847cca72476c6c68c493d56c484aada7e80de0e42c7607fcef5824
2025-01-13T19:03:33.7989730Z   cache-downloads-key: bf0d0a4d4c847cca72476c6c68c493d56c484aada7e80de0e42c7607fcef5824
2025-01-13T19:03:33.7990080Z   environment-name: tardis
2025-01-13T19:03:33.7990270Z   cache-environment: true
2025-01-13T19:03:33.7990480Z   cache-downloads: true
2025-01-13T19:03:33.7990750Z env:
2025-01-13T19:03:33.7990870Z   CACHE_NUMBER: 0
2025-01-13T19:03:33.7991360Z   PYTEST_FLAGS: --tardis-regression-data=/Users/runner/work/tardis/tardis/tardis-regression-data --cov=tardis --cov-report=xml --cov-report=html --cov-append
2025-01-13T19:03:33.7991960Z   CODECOV_TOKEN: 
2025-01-13T19:03:33.7992250Z ##[endgroup]
2025-01-13T19:03:34.0828100Z Will download micromamba to /Users/runner/micromamba-bin/micromamba
2025-01-13T19:03:34.0832720Z ##[group]Install micromamba
2025-01-13T19:03:34.7049420Z micromamba installed to /Users/runner/micromamba-bin/micromamba
2025-01-13T19:03:34.7050380Z ##[endgroup]
2025-01-13T19:03:34.7053170Z Adding conda-forge to condarc channels ...
2025-01-13T19:03:34.7065450Z ##[group]Initialize micromamba for bash.
2025-01-13T19:03:34.7077050Z [command]/Users/runner/micromamba-bin/micromamba shell init -s bash -r /Users/runner/micromamba --log-level warning --rc-file /Users/runner/work/_temp/setup-micromamba/.condarc
2025-01-13T19:03:34.7266180Z Modifying RC file "/Users/runner/.bash_profile"
2025-01-13T19:03:34.7267950Z Generating config for root prefix [1m"/Users/runner/micromamba"[0m
2025-01-13T19:03:34.7268560Z Setting mamba executable to: [1m"/Users/runner/micromamba-bin/micromamba"[0m
2025-01-13T19:03:34.7268950Z Adding (or replacing) the following in your "/Users/runner/.bash_profile" file
2025-01-13T19:03:34.7269200Z 
2025-01-13T19:03:34.7269250Z # >>> mamba initialize >>>
2025-01-13T19:03:34.7269480Z # !! Contents within this block are managed by 'mamba init' !!
2025-01-13T19:03:34.7269820Z export MAMBA_EXE='/Users/runner/micromamba-bin/micromamba';
2025-01-13T19:03:34.7270110Z export MAMBA_ROOT_PREFIX='/Users/runner/micromamba';
2025-01-13T19:03:34.7270490Z __mamba_setup="$("$MAMBA_EXE" shell hook --shell bash --root-prefix "$MAMBA_ROOT_PREFIX" 2> /dev/null)"
2025-01-13T19:03:34.7270820Z if [ $? -eq 0 ]; then
2025-01-13T19:03:34.7270990Z     eval "$__mamba_setup"
2025-01-13T19:03:34.7271710Z else
2025-01-13T19:03:34.7271940Z     alias micromamba="$MAMBA_EXE"  # Fallback on help from mamba activate
2025-01-13T19:03:34.7272210Z fi
2025-01-13T19:03:34.7272320Z unset __mamba_setup
2025-01-13T19:03:34.7272490Z # <<< mamba initialize <<<
2025-01-13T19:03:34.7272600Z 
2025-01-13T19:03:34.7274180Z ##[endgroup]
2025-01-13T19:03:34.7274890Z ##[group]Restoring downloads from `/Users/runner/micromamba/pkgs` ...
2025-01-13T19:03:35.8140470Z Received 46137344 of 310595873 (14.9%), 44.0 MBs/sec
2025-01-13T19:03:36.8146120Z Received 117440512 of 310595873 (37.8%), 55.9 MBs/sec
2025-01-13T19:03:37.8223520Z Received 176160768 of 310595873 (56.7%), 55.9 MBs/sec
2025-01-13T19:03:38.8171230Z Received 226492416 of 310595873 (72.9%), 53.9 MBs/sec
2025-01-13T19:03:39.8177020Z Received 285430049 of 310595873 (91.9%), 54.4 MBs/sec
2025-01-13T19:03:40.0207350Z Cache Size: ~296 MB (310595873 B)
2025-01-13T19:03:40.0238690Z [command]/opt/homebrew/bin/gtar -xf /Users/runner/work/_temp/2b1294f9-b4d5-40e4-98d3-f7813ddf8586/cache.tzst -P -C /Users/runner/work/tardis/tardis --delay-directory-restore --use-compress-program unzstd
2025-01-13T19:03:40.8203200Z Received 310595873 of 310595873 (100.0%), 49.3 MBs/sec
2025-01-13T19:03:40.8462790Z Cache restored successfully
2025-01-13T19:03:40.8527020Z Restored cache with key `bf0d0a4d4c847cca72476c6c68c493d56c484aada7e80de0e42c7607fcef5824-osx-arm64`
2025-01-13T19:03:40.8528630Z ##[endgroup]
2025-01-13T19:03:40.8540910Z ##[group]Restoring environment `tardis` from `/Users/runner/micromamba/envs/tardis` ...
2025-01-13T19:03:41.9551160Z Received 37748736 of 385775710 (9.8%), 35.9 MBs/sec
2025-01-13T19:03:42.9547660Z Received 96468992 of 385775710 (25.0%), 46.0 MBs/sec
2025-01-13T19:03:43.9557040Z Received 150994944 of 385775710 (39.1%), 48.0 MBs/sec
2025-01-13T19:03:44.9734930Z Received 218103808 of 385775710 (56.5%), 51.8 MBs/sec
2025-01-13T19:03:45.9690010Z Received 289406976 of 385775710 (75.0%), 55.0 MBs/sec
2025-01-13T19:03:46.9693560Z Received 339738624 of 385775710 (88.1%), 53.8 MBs/sec
2025-01-13T19:03:47.5049010Z Cache Size: ~368 MB (385775710 B)
2025-01-13T19:03:47.5143790Z [command]/opt/homebrew/bin/gtar -xf /Users/runner/work/_temp/1bc8dd84-c12f-4cab-ba92-b5bb43782054/cache.tzst -P -C /Users/runner/work/tardis/tardis --delay-directory-restore --use-compress-program unzstd
2025-01-13T19:03:47.9776520Z Received 385775710 of 385775710 (100.0%), 52.4 MBs/sec
2025-01-13T19:04:04.2179200Z Cache restored successfully
2025-01-13T19:04:04.2285290Z Restored cache with key `bf0d0a4d4c847cca72476c6c68c493d56c484aada7e80de0e42c7607fcef5824-osx-arm64-tardis-args-4f53cda-root-873f6fe-bin-[object Promise]-file-bf0d0a4d4c847cca72476c6c68c493d56c484aada7e80de0e42c7607fcef5824`
2025-01-13T19:04:04.2292200Z ##[endgroup]
2025-01-13T19:04:04.2298650Z Adding environment tardis to auto-activate bash ...
2025-01-13T19:04:04.2301710Z Generating micromamba run shell.
2025-01-13T19:04:04.2305650Z ##[endgroup]
2025-01-13T19:04:04.2327030Z Set environment variables.
2025-01-13T19:04:04.2335100Z ##[group]micromamba info
2025-01-13T19:04:04.2344930Z [command]/Users/runner/micromamba-bin/micromamba info -r /Users/runner/micromamba -n tardis
2025-01-13T19:04:04.8000630Z 
2025-01-13T19:04:04.8003320Z        libmamba version : 1.5.10
2025-01-13T19:04:04.8003810Z      micromamba version : 1.5.10
2025-01-13T19:04:04.8004390Z            curl version : libcurl/8.10.1 (OpenSSL/3.3.2) SecureTransport zlib/1.3.1 zstd/1.5.6 libssh2/1.11.0 nghttp2/1.58.0
2025-01-13T19:04:04.8005560Z      libarchive version : libarchive 3.7.4 zlib/1.2.13 bz2lib/1.0.8 libzstd/1.5.6
2025-01-13T19:04:04.8006170Z        envs directories : /Users/runner/micromamba/envs
2025-01-13T19:04:04.8006660Z           package cache : /Users/runner/micromamba/pkgs
2025-01-13T19:04:04.8007010Z                           /Users/runner/.mamba/pkgs
2025-01-13T19:04:04.8007480Z             environment : tardis
2025-01-13T19:04:04.8007840Z            env location : /Users/runner/micromamba/envs/tardis
2025-01-13T19:04:04.8013540Z       user config files : /Users/runner/.mambarc
2025-01-13T19:04:04.8014060Z  populated config files : /Users/runner/work/_temp/setup-micromamba/.condarc
2025-01-13T19:04:04.8014520Z        virtual packages : __unix=0=0
2025-01-13T19:04:04.8014770Z                           __osx=14.7.2=0
2025-01-13T19:04:04.8015120Z                           __archspec=1=arm64
2025-01-13T19:04:04.8015570Z                channels : https://conda.anaconda.org/conda-forge/osx-arm64
2025-01-13T19:04:04.8016010Z                           https://conda.anaconda.org/conda-forge/noarch
2025-01-13T19:04:04.8025530Z        base environment : /Users/runner/micromamba
2025-01-13T19:04:04.8026370Z                platform : osx-arm64
2025-01-13T19:04:04.8040150Z ##[endgroup]
2025-01-13T19:04:04.8040730Z ##[group]micromamba list
2025-01-13T19:04:04.8041360Z [command]/Users/runner/micromamba-bin/micromamba list -r /Users/runner/micromamba -n tardis
2025-01-13T19:04:05.2877960Z List of packages in environment: "/Users/runner/micromamba/envs/tardis"
2025-01-13T19:04:05.2878970Z 
2025-01-13T19:04:05.2879520Z   Name                           Version              Build                    Channel    
2025-01-13T19:04:05.2881800Z â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
2025-01-13T19:04:05.2882480Z   alabaster                      0.7.16               pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.2882960Z   anyio                          4.4.0                pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.2883500Z   appnope                        0.1.4                pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.2884050Z   argon2-cffi                    23.1.0               pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.2884620Z   argon2-cffi-bindings           21.2.0               py312h02f2b3b_4          conda-forge
2025-01-13T19:04:05.2885220Z   arrow                          1.3.0                pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.2885700Z   astropy                        6.1.1                py312hbebd99a_0          conda-forge
2025-01-13T19:04:05.2888700Z   astropy-iers-data              0.2024.6.17.0.31.35  pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.2889290Z   astropy-sphinx-theme           1.1                  pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.2889880Z   asttokens                      2.4.1                pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.2890340Z   async-lru                      2.0.4                pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.2890880Z   atk-1.0                        2.38.0               hd03087b_2               conda-forge
2025-01-13T19:04:05.2891310Z   attrs                          23.2.0               pyh71513ae_0             conda-forge
2025-01-13T19:04:05.2893230Z   babel                          2.14.0               pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.2893910Z   beautifulsoup4                 4.12.3               pyha770c72_0             conda-forge
2025-01-13T19:04:05.2894470Z   bleach                         6.1.0                pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.2895110Z   blosc                          1.21.5               h9c252e8_1               conda-forge
2025-01-13T19:04:05.2895600Z   brotli                         1.1.0                hb547adb_1               conda-forge
2025-01-13T19:04:05.2897650Z   brotli-bin                     1.1.0                hb547adb_1               conda-forge
2025-01-13T19:04:05.2898700Z   brotli-python                  1.1.0                py312h9f69965_1          conda-forge
2025-01-13T19:04:05.2899240Z   bzip2                          1.0.8                h93a5062_5               conda-forge
2025-01-13T19:04:05.2899760Z   c-ares                         1.28.1               h93a5062_0               conda-forge
2025-01-13T19:04:05.2900190Z   c-blosc2                       2.14.4               ha57e6be_1               conda-forge
2025-01-13T19:04:05.2901450Z   ca-certificates                2024.6.2             hf0a4a13_0               conda-forge
2025-01-13T19:04:05.2901980Z   cached-property                1.5.2                hd8ed1ab_1               conda-forge
2025-01-13T19:04:05.2902660Z   cached_property                1.5.2                pyha770c72_1             conda-forge
2025-01-13T19:04:05.2903080Z   cairo                          1.18.0               hd1e100b_0               conda-forge
2025-01-13T19:04:05.2903590Z   certifi                        2024.6.2             pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.2904320Z   cffi                           1.16.0               py312h8e38eb3_0          conda-forge
2025-01-13T19:04:05.2904830Z   charset-normalizer             3.3.2                pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.2905240Z   click                          8.1.7                unix_pyh707e725_0        conda-forge
2025-01-13T19:04:05.2905750Z   codespell                      2.3.0                pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.2906140Z   colorama                       0.4.6                pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.2906590Z   comm                           0.2.2                pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.2906980Z   commonmark                     0.9.1                py_0                     conda-forge
2025-01-13T19:04:05.2908650Z   contourpy                      1.2.1                py312h0fef576_0          conda-forge
2025-01-13T19:04:05.2909310Z   coverage                       7.5.3                py312h7e5086c_0          conda-forge
2025-01-13T19:04:05.2909980Z   cycler                         0.12.1               pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.2912330Z   dataclasses                    0.8                  pyhc8e2a94_3             conda-forge
2025-01-13T19:04:05.2913250Z   debugpy                        1.8.1                py312h20a0b95_0          conda-forge
2025-01-13T19:04:05.2913670Z   decorator                      5.1.1                pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.2915510Z   defusedxml                     0.7.1                pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.2916210Z   docutils                       0.20.1               py312h81bd7bf_3          conda-forge
2025-01-13T19:04:05.2918530Z   dot2tex                        2.11.3               pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.2919010Z   entrypoints                    0.4                  pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.2919930Z   exceptiongroup                 1.2.0                pyhd8ed1ab_2             conda-forge
2025-01-13T19:04:05.2920420Z   executing                      2.0.1                pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.2921150Z   expat                          2.6.2                hebf3989_0               conda-forge
2025-01-13T19:04:05.2922210Z   font-ttf-dejavu-sans-mono      2.37                 hab24e00_0               conda-forge
2025-01-13T19:04:05.2923040Z   font-ttf-inconsolata           3.000                h77eed37_0               conda-forge
2025-01-13T19:04:05.2923780Z   font-ttf-source-code-pro       2.038                h77eed37_0               conda-forge
2025-01-13T19:04:05.2924440Z   font-ttf-ubuntu                0.83                 h77eed37_2               conda-forge
2025-01-13T19:04:05.2925160Z   fontconfig                     2.14.2               h82840c6_0               conda-forge
2025-01-13T19:04:05.2926150Z   fonts-conda-ecosystem          1                    0                        conda-forge
2025-01-13T19:04:05.2927130Z   fonts-conda-forge              1                    0                        conda-forge
2025-01-13T19:04:05.2927630Z   fonttools                      4.53.0               py312h7e5086c_0          conda-forge
2025-01-13T19:04:05.2930210Z   fqdn                           1.5.1                pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.2932800Z   freetype                       2.12.1               hadb7bae_2               conda-forge
2025-01-13T19:04:05.2933800Z   fribidi                        1.0.10               h27ca646_0               conda-forge
2025-01-13T19:04:05.2935840Z   future                         1.0.0                pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.2936240Z   gdk-pixbuf                     2.42.12              h7ddc832_0               conda-forge
2025-01-13T19:04:05.3051640Z   gettext                        0.22.5               h8fbad5d_2               conda-forge
2025-01-13T19:04:05.3052670Z   gettext-tools                  0.22.5               h8fbad5d_2               conda-forge
2025-01-13T19:04:05.3056980Z   giflib                         5.2.2                h93a5062_0               conda-forge
2025-01-13T19:04:05.3057310Z   git-lfs                        3.5.1                hce30654_0               conda-forge
2025-01-13T19:04:05.3057630Z   gmp                            6.3.0                hebf3989_1               conda-forge
2025-01-13T19:04:05.3057970Z   gmpy2                          2.1.5                py312hfa9fade_1          conda-forge
2025-01-13T19:04:05.3058310Z   graphite2                      1.3.13               hebf3989_1003            conda-forge
2025-01-13T19:04:05.3058680Z   graphviz                       11.0.0               h9bb9bc9_0               conda-forge
2025-01-13T19:04:05.3059440Z   gtk2                           2.24.33              h7895bb2_4               conda-forge
2025-01-13T19:04:05.3060060Z   gts                            0.7.6                he42f4ea_4               conda-forge
2025-01-13T19:04:05.3061140Z   h11                            0.14.0               pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3061640Z   h2                             4.1.0                pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3062320Z   h5py                           3.11.0               nompi_py312h903599c_102  conda-forge
2025-01-13T19:04:05.3062820Z   harfbuzz                       8.5.0                h1836168_0               conda-forge
2025-01-13T19:04:05.3063320Z   hdf5                           1.14.3               nompi_hec07895_105       conda-forge
2025-01-13T19:04:05.3064780Z   hpack                          4.0.0                pyh9f0ad1d_0             conda-forge
2025-01-13T19:04:05.3065890Z   httpcore                       1.0.5                pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3066420Z   httpx                          0.27.0               pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3067230Z   hyperframe                     6.0.1                pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3067640Z   icu                            73.2                 hc8870d7_0               conda-forge
2025-01-13T19:04:05.3068430Z   idna                           3.7                  pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3069440Z   imagesize                      1.4.1                pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3070940Z   importlib-metadata             7.1.0                pyha770c72_0             conda-forge
2025-01-13T19:04:05.3071640Z   importlib_metadata             7.1.0                hd8ed1ab_0               conda-forge
2025-01-13T19:04:05.3072620Z   importlib_resources            6.4.0                pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3073290Z   iniconfig                      2.0.0                pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3074500Z   ipykernel                      6.29.4               pyh57ce528_0             conda-forge
2025-01-13T19:04:05.3075010Z   ipython                        8.25.0               pyh707e725_0             conda-forge
2025-01-13T19:04:05.3075880Z   ipython_genutils               0.2.0                pyhd8ed1ab_1             conda-forge
2025-01-13T19:04:05.3076790Z   ipywidgets                     7.8.0                pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3078220Z   isoduration                    20.11.0              pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3078880Z   jedi                           0.19.1               pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3079510Z   jinja2                         3.1.4                pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3079930Z   json5                          0.9.25               pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3080350Z   jsonpointer                    3.0.0                py312h81bd7bf_0          conda-forge
2025-01-13T19:04:05.3081130Z   jsonschema                     4.22.0               pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3081940Z   jsonschema-specifications      2023.12.1            pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3083150Z   jsonschema-with-format-nongpl  4.22.0               pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3083950Z   jupyter-lsp                    2.2.5                pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3085160Z   jupyter_client                 8.6.2                pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3085590Z   jupyter_core                   5.7.2                py312h81bd7bf_0          conda-forge
2025-01-13T19:04:05.3086850Z   jupyter_events                 0.10.0               pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3088940Z   jupyter_server                 2.14.1               pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3089420Z   jupyter_server_terminals       0.5.3                pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3089770Z   jupyterlab                     4.2.2                pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3090440Z   jupyterlab_pygments            0.3.0                pyhd8ed1ab_1             conda-forge
2025-01-13T19:04:05.3090840Z   jupyterlab_server              2.27.2               pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3091850Z   jupyterlab_widgets             1.1.7                pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3092920Z   kiwisolver                     1.4.5                py312h389731b_1          conda-forge
2025-01-13T19:04:05.3093350Z   krb5                           1.21.2               h92f50d5_0               conda-forge
2025-01-13T19:04:05.3093980Z   latexcodec                     2.0.1                pyh9f0ad1d_0             conda-forge
2025-01-13T19:04:05.3094580Z   lcms2                          2.16                 ha0e7c42_0               conda-forge
2025-01-13T19:04:05.3095700Z   lerc                           4.0.0                h9a09cb3_0               conda-forge
2025-01-13T19:04:05.3096010Z   libaec                         1.1.3                hebf3989_0               conda-forge
2025-01-13T19:04:05.3096300Z   libasprintf                    0.22.5               h8fbad5d_2               conda-forge
2025-01-13T19:04:05.3096630Z   libasprintf-devel              0.22.5               h8fbad5d_2               conda-forge
2025-01-13T19:04:05.3096970Z   libblas                        3.9.0                22_osxarm64_openblas     conda-forge
2025-01-13T19:04:05.3097330Z   libbrotlicommon                1.1.0                hb547adb_1               conda-forge
2025-01-13T19:04:05.3098140Z   libbrotlidec                   1.1.0                hb547adb_1               conda-forge
2025-01-13T19:04:05.3098530Z   libbrotlienc                   1.1.0                hb547adb_1               conda-forge
2025-01-13T19:04:05.3098830Z   libcblas                       3.9.0                22_osxarm64_openblas     conda-forge
2025-01-13T19:04:05.3099130Z   libcurl                        8.8.0                h7b6f9a7_0               conda-forge
2025-01-13T19:04:05.3099400Z   libcxx                         17.0.6               h5f092b4_0               conda-forge
2025-01-13T19:04:05.3099690Z   libdeflate                     1.20                 h93a5062_0               conda-forge
2025-01-13T19:04:05.3100000Z   libedit                        3.1.20191231         hc8eb9b7_2               conda-forge
2025-01-13T19:04:05.3100870Z   libev                          4.33                 h93a5062_2               conda-forge
2025-01-13T19:04:05.3101180Z   libexpat                       2.6.2                hebf3989_0               conda-forge
2025-01-13T19:04:05.3101470Z   libffi                         3.4.2                h3422bc3_5               conda-forge
2025-01-13T19:04:05.3101740Z   libgd                          2.3.3                hfdf3952_9               conda-forge
2025-01-13T19:04:05.3102050Z   libgettextpo                   0.22.5               h8fbad5d_2               conda-forge
2025-01-13T19:04:05.3102640Z   libgettextpo-devel             0.22.5               h8fbad5d_2               conda-forge
2025-01-13T19:04:05.3102970Z   libgfortran                    5.0.0                13_2_0_hd922786_3        conda-forge
2025-01-13T19:04:05.3103380Z   libgfortran5                   13.2.0               hf226fd6_3               conda-forge
2025-01-13T19:04:05.3103890Z   libglib                        2.80.2               h59d46d9_1               conda-forge
2025-01-13T19:04:05.3104200Z   libiconv                       1.17                 h0d3ecfb_2               conda-forge
2025-01-13T19:04:05.3104500Z   libintl                        0.22.5               h8fbad5d_2               conda-forge
2025-01-13T19:04:05.3105070Z   libintl-devel                  0.22.5               h8fbad5d_2               conda-forge
2025-01-13T19:04:05.3105730Z   libjpeg-turbo                  3.0.0                hb547adb_1               conda-forge
2025-01-13T19:04:05.3106620Z   liblapack                      3.9.0                22_osxarm64_openblas     conda-forge
2025-01-13T19:04:05.3107250Z   libllvm14                      14.0.6               hd1a9a77_4               conda-forge
2025-01-13T19:04:05.3108360Z   libnghttp2                     1.58.0               ha4dd798_1               conda-forge
2025-01-13T19:04:05.3109080Z   libopenblas                    0.3.27               openmp_h6c19121_0        conda-forge
2025-01-13T19:04:05.3109590Z   libpng                         1.6.43               h091b4b1_0               conda-forge
2025-01-13T19:04:05.3109900Z   librsvg                        2.58.1               hbc281fb_0               conda-forge
2025-01-13T19:04:05.3110990Z   libsodium                      1.0.18               h27ca646_1               conda-forge
2025-01-13T19:04:05.3111840Z   libsqlite                      3.46.0               hfb93653_0               conda-forge
2025-01-13T19:04:05.3112940Z   libssh2                        1.11.0               h7a5bd25_0               conda-forge
2025-01-13T19:04:05.3113310Z   libtiff                        4.6.0                h07db509_3               conda-forge
2025-01-13T19:04:05.3113890Z   libwebp                        1.4.0                h54798ee_0               conda-forge
2025-01-13T19:04:05.3114360Z   libwebp-base                   1.4.0                h93a5062_0               conda-forge
2025-01-13T19:04:05.3114760Z   libxcb                         1.16                 hf2054a2_0               conda-forge
2025-01-13T19:04:05.3115620Z   libxml2                        2.12.7               ha661575_1               conda-forge
2025-01-13T19:04:05.3116220Z   libxslt                        1.1.39               h223e5b9_0               conda-forge
2025-01-13T19:04:05.3117010Z   libzlib                        1.3.1                hfb2fe0b_1               conda-forge
2025-01-13T19:04:05.3117670Z   llvm-openmp                    18.1.7               hde57baf_0               conda-forge
2025-01-13T19:04:05.3118100Z   llvmlite                       0.42.0               py312h17030e7_1          conda-forge
2025-01-13T19:04:05.3118700Z   lxml                           5.2.2                py312h0e5ab22_0          conda-forge
2025-01-13T19:04:05.3118980Z   lz4-c                          1.9.4                hb7217d7_0               conda-forge
2025-01-13T19:04:05.3119600Z   markupsafe                     2.1.5                py312he37b823_0          conda-forge
2025-01-13T19:04:05.3121110Z   matplotlib-base                3.8.4                py312h4479663_2          conda-forge
2025-01-13T19:04:05.3121750Z   matplotlib-inline              0.1.7                pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3122720Z   mistune                        3.0.2                pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3123460Z   mpc                            1.3.1                h91ba8db_0               conda-forge
2025-01-13T19:04:05.3124100Z   mpfr                           4.2.1                h41d338b_1               conda-forge
2025-01-13T19:04:05.3124740Z   mpmath                         1.3.0                pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3125500Z   munkres                        1.1.4                pyh9f0ad1d_0             conda-forge
2025-01-13T19:04:05.3125890Z   mypy_extensions                1.0.0                pyha770c72_0             conda-forge
2025-01-13T19:04:05.3126630Z   nbclassic                      1.1.0                pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3127060Z   nbclient                       0.10.0               pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3128200Z   nbconvert                      7.16.4               hd8ed1ab_1               conda-forge
2025-01-13T19:04:05.3128860Z   nbconvert-core                 7.16.4               pyhd8ed1ab_1             conda-forge
2025-01-13T19:04:05.3129430Z   nbconvert-pandoc               7.16.4               hd8ed1ab_1               conda-forge
2025-01-13T19:04:05.3129970Z   nbformat                       5.10.4               pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3130680Z   nbsphinx                       0.9.4                pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3131240Z   ncurses                        6.5                  hb89a1cb_0               conda-forge
2025-01-13T19:04:05.3131940Z   nest-asyncio                   1.6.0                pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3132710Z   networkx                       3.3                  pyhd8ed1ab_1             conda-forge
2025-01-13T19:04:05.3133210Z   notebook                       7.2.1                pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3133660Z   notebook-shim                  0.2.4                pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3134020Z   numba                          0.59.1               py312hbaff935_0          conda-forge
2025-01-13T19:04:05.3134310Z   numexpr                        2.10.0               py312h8ae5369_0          conda-forge
2025-01-13T19:04:05.3134610Z   numpy                          1.26.4               py312h8442bc7_0          conda-forge
2025-01-13T19:04:05.3134980Z   numpydoc                       1.7.0                pyhd8ed1ab_1             conda-forge
2025-01-13T19:04:05.3135300Z   openjpeg                       2.5.2                h9f1df11_0               conda-forge
2025-01-13T19:04:05.3135610Z   openssl                        3.3.1                hfb2fe0b_0               conda-forge
2025-01-13T19:04:05.3135900Z   overrides                      7.7.0                pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3136240Z   packaging                      24.1                 pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3136580Z   pandas                         2.2.2                py312h8ae5369_1          conda-forge
2025-01-13T19:04:05.3136900Z   pandoc                         3.2                  hce30654_0               conda-forge
2025-01-13T19:04:05.3137270Z   pandocfilters                  1.5.0                pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3137620Z   pango                          1.54.0               h5cb9fbc_0               conda-forge
2025-01-13T19:04:05.3137930Z   parso                          0.8.4                pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3138250Z   pathspec                       0.12.1               pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3138930Z   pbr                            6.0.0                pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3139270Z   pcre2                          10.44                h297a79d_0               conda-forge
2025-01-13T19:04:05.3139580Z   pexpect                        4.9.0                pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3139930Z   pickleshare                    0.7.5                py_1003                  conda-forge
2025-01-13T19:04:05.3140260Z   pillow                         10.3.0               py312h39b1d8d_1          conda-forge
2025-01-13T19:04:05.3140880Z   pip                            24.0                 pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3141210Z   pixman                         0.43.4               hebf3989_0               conda-forge
2025-01-13T19:04:05.3141580Z   pkgutil-resolve-name           1.3.10               pyhd8ed1ab_1             conda-forge
2025-01-13T19:04:05.3141940Z   platformdirs                   4.2.2                pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3142260Z   plotly                         5.22.0               pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3142580Z   pluggy                         1.5.0                pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3142930Z   prometheus_client              0.20.0               pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3143370Z   prompt-toolkit                 3.0.47               pyha770c72_0             conda-forge
2025-01-13T19:04:05.3143920Z   psutil                         5.9.8                py312he37b823_0          conda-forge
2025-01-13T19:04:05.3144260Z   pthread-stubs                  0.4                  h27ca646_1001            conda-forge
2025-01-13T19:04:05.3144590Z   ptyprocess                     0.7.0                pyhd3deb0d_0             conda-forge
2025-01-13T19:04:05.3144930Z   pure_eval                      0.2.2                pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3145230Z   py-cpuinfo                     9.0.0                pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3145570Z   pybtex                         0.24.0               pyhd8ed1ab_2             conda-forge
2025-01-13T19:04:05.3145900Z   pybtex-docutils                1.0.3                py312h81bd7bf_1          conda-forge
2025-01-13T19:04:05.3146250Z   pycparser                      2.22                 pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3146570Z   pyerfa                         2.0.1.4              py312hbebd99a_1          conda-forge
2025-01-13T19:04:05.3146880Z   pygments                       2.18.0               pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3147190Z   pygraphviz                     1.13                 py312h5f4d302_1          conda-forge
2025-01-13T19:04:05.3147520Z   pyobjc-core                    10.3.1               py312hbb55c70_0          conda-forge
2025-01-13T19:04:05.3147890Z   pyobjc-framework-cocoa         10.3.1               py312hbb55c70_0          conda-forge
2025-01-13T19:04:05.3148270Z   pyparsing                      3.1.2                pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3148580Z   pysocks                        1.7.1                pyha2e5f31_6             conda-forge
2025-01-13T19:04:05.3148880Z   pytables                       3.9.2                py312hb622ae1_2          conda-forge
2025-01-13T19:04:05.3149190Z   pytest                         8.2.2                pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3149480Z   pytest-cov                     5.0.0                pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3149830Z   pytest-doctestplus             1.2.1                pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3150170Z   pytest-html                    4.1.1                pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3150510Z   pytest-metadata                3.1.1                pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3151170Z   python                         3.12.4               h30c5eda_0_cpython       conda-forge
2025-01-13T19:04:05.3151540Z   python-dateutil                2.9.0                pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3151910Z   python-fastjsonschema          2.20.0               pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3152290Z   python-json-logger             2.0.7                pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3152650Z   python-tzdata                  2024.1               pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3153190Z   python_abi                     3.12                 4_cp312                  conda-forge
2025-01-13T19:04:05.3153480Z   pytz                           2024.1               pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3153770Z   pyyaml                         6.0.1                py312h02f2b3b_1          conda-forge
2025-01-13T19:04:05.3154060Z   pyzmq                          26.0.3               py312hfa13136_0          conda-forge
2025-01-13T19:04:05.3154340Z   qgrid                          1.3.1                pyhd8ed1ab_4             conda-forge
2025-01-13T19:04:05.3154660Z   radioactivedecay               0.5.1                pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3154990Z   readline                       8.2                  h92ec313_1               conda-forge
2025-01-13T19:04:05.3155300Z   recommonmark                   0.7.1                pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3155630Z   referencing                    0.35.1               pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3155960Z   requests                       2.32.3               pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3156270Z   rfc3339-validator              0.1.4                pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3156620Z   rfc3986-validator              0.1.1                pyh9f0ad1d_0             conda-forge
2025-01-13T19:04:05.3156960Z   rpds-py                        0.18.1               py312h552d48e_0          conda-forge
2025-01-13T19:04:05.3157270Z   ruff                           0.4.9                py312h3402d49_0          conda-forge
2025-01-13T19:04:05.3157540Z   scipy                          1.13.1               py312h14ffa8f_0          conda-forge
2025-01-13T19:04:05.3157830Z   send2trash                     1.8.3                pyh31c8845_0             conda-forge
2025-01-13T19:04:05.3158130Z   setuptools                     70.0.0               pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3158440Z   setuptools-scm                 8.1.0                pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3158790Z   setuptools_scm                 8.1.0                hd8ed1ab_0               conda-forge
2025-01-13T19:04:05.3159100Z   six                            1.16.0               pyh6c4a22f_0             conda-forge
2025-01-13T19:04:05.3159400Z   snakeviz                       2.2.0                pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3160530Z   snappy                         1.2.0                hd04f947_1               conda-forge
2025-01-13T19:04:05.3160830Z   sniffio                        1.3.1                pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3161160Z   snowballstemmer                2.2.0                pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3161490Z   soupsieve                      2.5                  pyhd8ed1ab_1             conda-forge
2025-01-13T19:04:05.3161790Z   sphinx                         7.3.7                pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3162110Z   sphinx-astropy                 1.9.1                pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3162470Z   sphinx-automodapi              0.17.0               pyh717bed2_1             conda-forge
2025-01-13T19:04:05.3162830Z   sphinx-gallery                 0.16.0               pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3163510Z   sphinx-jsonschema              1.19.1               pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3163870Z   sphinx_bootstrap_theme         0.8.1                pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3164220Z   sphinx_rtd_theme               2.0.0                pyha770c72_0             conda-forge
2025-01-13T19:04:05.3164560Z   sphinxcontrib-apidoc           0.3.0                py_1                     conda-forge
2025-01-13T19:04:05.3164980Z   sphinxcontrib-applehelp        1.0.8                pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3165540Z   sphinxcontrib-bibtex           2.6.2                pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3165910Z   sphinxcontrib-devhelp          1.0.6                pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3166280Z   sphinxcontrib-htmlhelp         2.0.5                pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3166650Z   sphinxcontrib-jquery           4.1                  pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3167010Z   sphinxcontrib-jsmath           1.0.1                pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3167370Z   sphinxcontrib-qthelp           1.0.7                pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3167770Z   sphinxcontrib-serializinghtml  1.1.10               pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3168150Z   stack_data                     0.6.2                pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3168440Z   sympy                          1.12.1               pypyh2585a3b_103         conda-forge
2025-01-13T19:04:05.3168740Z   tabulate                       0.9.0                pyhd8ed1ab_1             conda-forge
2025-01-13T19:04:05.3169040Z   tenacity                       8.4.1                pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3169350Z   terminado                      0.18.1               pyh31c8845_0             conda-forge
2025-01-13T19:04:05.3169690Z   tinycss2                       1.3.0                pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3170040Z   tk                             8.6.13               h5083fa2_1               conda-forge
2025-01-13T19:04:05.3170310Z   toml                           0.10.2               pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3170610Z   tomli                          2.0.1                pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3170890Z   tornado                        6.4.1                py312h7e5086c_0          conda-forge
2025-01-13T19:04:05.3171190Z   tqdm                           4.66.4               pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3171480Z   traitlets                      5.14.3               pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3171780Z   typed-ast                      1.5.5                py312h02f2b3b_1          conda-forge
2025-01-13T19:04:05.3172120Z   types-python-dateutil          2.9.0.20240316       pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3172480Z   typing-extensions              4.12.2               hd8ed1ab_0               conda-forge
2025-01-13T19:04:05.3172830Z   typing_extensions              4.12.2               pyha770c72_0             conda-forge
2025-01-13T19:04:05.3174100Z   typing_utils                   0.1.0                pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3174440Z   tzdata                         2024a                h0c530f3_0               conda-forge
2025-01-13T19:04:05.3174760Z   uri-template                   1.3.0                pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3175090Z   urllib3                        2.2.2                pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3175400Z   wcwidth                        0.2.13               pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3175710Z   webcolors                      24.6.0               pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3176280Z   webencodings                   0.5.1                pyhd8ed1ab_2             conda-forge
2025-01-13T19:04:05.3176630Z   websocket-client               1.8.0                pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3176950Z   wheel                          0.43.0               pyhd8ed1ab_1             conda-forge
2025-01-13T19:04:05.3177290Z   widgetsnbextension             3.6.6                pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3177630Z   xorg-libxau                    1.0.11               hb547adb_0               conda-forge
2025-01-13T19:04:05.3179200Z   xorg-libxdmcp                  1.1.3                h27ca646_0               conda-forge
2025-01-13T19:04:05.3179900Z   xz                             5.2.6                h57fd34a_0               conda-forge
2025-01-13T19:04:05.3181440Z   yaml                           0.2.5                h3422bc3_2               conda-forge
2025-01-13T19:04:05.3182100Z   zeromq                         4.3.5                hcc0f68c_4               conda-forge
2025-01-13T19:04:05.3183130Z   zipp                           3.19.2               pyhd8ed1ab_0             conda-forge
2025-01-13T19:04:05.3183650Z   zlib                           1.3.1                hfb2fe0b_1               conda-forge
2025-01-13T19:04:05.3197610Z   zlib-ng                        2.0.7                h1a8c8d9_0               conda-forge
2025-01-13T19:04:05.3197950Z   zstd                           1.5.6                hb46c0d2_0               conda-forge
2025-01-13T19:04:05.3199000Z ##[endgroup]
2025-01-13T19:04:05.3309150Z ##[group]Run pip install -e . --user
2025-01-13T19:04:05.3309520Z [36;1mpip install -e . --user[0m
2025-01-13T19:04:05.6539740Z shell: /bin/bash -l {0}
2025-01-13T19:04:05.6539960Z env:
2025-01-13T19:04:05.6540090Z   CACHE_NUMBER: 0
2025-01-13T19:04:05.6540580Z   PYTEST_FLAGS: --tardis-regression-data=/Users/runner/work/tardis/tardis/tardis-regression-data --cov=tardis --cov-report=xml --cov-report=html --cov-append
2025-01-13T19:04:05.6541080Z   CODECOV_TOKEN: 
2025-01-13T19:04:05.6541250Z   MAMBA_ROOT_PREFIX: /Users/runner/micromamba
2025-01-13T19:04:05.6541490Z   MAMBA_EXE: /Users/runner/micromamba-bin/micromamba
2025-01-13T19:04:05.6541780Z   CONDARC: /Users/runner/work/_temp/setup-micromamba/.condarc
2025-01-13T19:04:05.6542020Z ##[endgroup]
2025-01-13T19:04:06.7642060Z Obtaining file:///Users/runner/work/tardis/tardis
2025-01-13T19:04:06.7665430Z   Installing build dependencies: started
2025-01-13T19:04:09.7884960Z   Installing build dependencies: finished with status 'done'
2025-01-13T19:04:09.7894230Z   Checking if build backend supports build_editable: started
2025-01-13T19:04:09.8998490Z   Checking if build backend supports build_editable: finished with status 'done'
2025-01-13T19:04:09.9010430Z   Getting requirements to build editable: started
2025-01-13T19:04:10.3986940Z   Getting requirements to build editable: finished with status 'done'
2025-01-13T19:04:10.3997860Z   Preparing editable metadata (pyproject.toml): started
2025-01-13T19:04:10.7875230Z   Preparing editable metadata (pyproject.toml): finished with status 'done'
2025-01-13T19:04:10.8324160Z Requirement already satisfied: astropy in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from tardis==0.0.0) (6.1.1)
2025-01-13T19:04:10.8656960Z Requirement already satisfied: numpy>=1.23 in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from astropy->tardis==0.0.0) (1.26.4)
2025-01-13T19:04:10.8665990Z Requirement already satisfied: pyerfa>=2.0.1.1 in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from astropy->tardis==0.0.0) (2.0.1.4)
2025-01-13T19:04:10.8675430Z Requirement already satisfied: astropy-iers-data>=0.2024.5.27.0.30.8 in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from astropy->tardis==0.0.0) (0.2024.6.17.0.31.35)
2025-01-13T19:04:10.8680630Z Requirement already satisfied: PyYAML>=3.13 in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from astropy->tardis==0.0.0) (6.0.1)
2025-01-13T19:04:10.8690940Z Requirement already satisfied: packaging>=19.0 in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from astropy->tardis==0.0.0) (24.1)
2025-01-13T19:04:10.8797030Z Building wheels for collected packages: tardis
2025-01-13T19:04:10.8898680Z   Building editable for tardis (pyproject.toml): started
2025-01-13T19:04:11.5720660Z   Building editable for tardis (pyproject.toml): finished with status 'done'
2025-01-13T19:04:11.5727160Z   Created wheel for tardis: filename=tardis-0.0.0-0.editable-py3-none-any.whl size=8876 sha256=7b4a21bc8a097ffb29cb741ed086f4f51c1118a7f21e108c2b00cd4ba2fc4e14
2025-01-13T19:04:11.5729400Z   Stored in directory: /private/var/folders/ml/x_tvfgn50_s7p67dm1ypcqqm0000gn/T/pip-ephem-wheel-cache-wsigspu4/wheels/bb/4f/6a/0829b918c1c10bc28535ce7f14be21eee54375bdd9cd0c306a
2025-01-13T19:04:11.5749840Z Successfully built tardis
2025-01-13T19:04:12.1903360Z Installing collected packages: tardis
2025-01-13T19:04:12.2004590Z Successfully installed tardis-0.0.0
2025-01-13T19:04:12.5654250Z ##[group]Run pip install qgridnext
2025-01-13T19:04:12.5654660Z [36;1mpip install qgridnext[0m
2025-01-13T19:04:12.5760350Z shell: /bin/bash -l {0}
2025-01-13T19:04:12.5760910Z env:
2025-01-13T19:04:12.5761090Z   CACHE_NUMBER: 0
2025-01-13T19:04:12.5761620Z   PYTEST_FLAGS: --tardis-regression-data=/Users/runner/work/tardis/tardis/tardis-regression-data --cov=tardis --cov-report=xml --cov-report=html --cov-append
2025-01-13T19:04:12.5762160Z   CODECOV_TOKEN: 
2025-01-13T19:04:12.5762360Z   MAMBA_ROOT_PREFIX: /Users/runner/micromamba
2025-01-13T19:04:12.5762680Z   MAMBA_EXE: /Users/runner/micromamba-bin/micromamba
2025-01-13T19:04:12.5762990Z   CONDARC: /Users/runner/work/_temp/setup-micromamba/.condarc
2025-01-13T19:04:12.5763280Z ##[endgroup]
2025-01-13T19:04:13.1867020Z Collecting qgridnext
2025-01-13T19:04:13.2162400Z   Downloading qgridnext-2.0.4-py3-none-any.whl.metadata (9.9 kB)
2025-01-13T19:04:13.2382740Z Requirement already satisfied: pandas>=0.20.0 in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from qgridnext) (2.2.2)
2025-01-13T19:04:13.2388380Z Requirement already satisfied: ipywidgets>=7.0.0 in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from qgridnext) (7.8.0)
2025-01-13T19:04:13.2394870Z Requirement already satisfied: numpy in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from qgridnext) (1.26.4)
2025-01-13T19:04:13.2401450Z Requirement already satisfied: traitlets in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from qgridnext) (5.14.3)
2025-01-13T19:04:13.2453840Z Requirement already satisfied: comm>=0.1.3 in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from ipywidgets>=7.0.0->qgridnext) (0.2.2)
2025-01-13T19:04:13.2458600Z Requirement already satisfied: ipython-genutils~=0.2.0 in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from ipywidgets>=7.0.0->qgridnext) (0.2.0)
2025-01-13T19:04:13.2468190Z Requirement already satisfied: widgetsnbextension~=3.6.5 in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from ipywidgets>=7.0.0->qgridnext) (3.6.6)
2025-01-13T19:04:13.2476730Z Requirement already satisfied: ipython>=4.0.0 in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from ipywidgets>=7.0.0->qgridnext) (8.25.0)
2025-01-13T19:04:13.2485460Z Requirement already satisfied: jupyterlab-widgets<3,>=1.0.0 in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from ipywidgets>=7.0.0->qgridnext) (1.1.7)
2025-01-13T19:04:13.2766350Z Requirement already satisfied: python-dateutil>=2.8.2 in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from pandas>=0.20.0->qgridnext) (2.9.0)
2025-01-13T19:04:13.2774800Z Requirement already satisfied: pytz>=2020.1 in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from pandas>=0.20.0->qgridnext) (2024.1)
2025-01-13T19:04:13.2779440Z Requirement already satisfied: tzdata>=2022.7 in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from pandas>=0.20.0->qgridnext) (2024.1)
2025-01-13T19:04:13.2978440Z Requirement already satisfied: decorator in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from ipython>=4.0.0->ipywidgets>=7.0.0->qgridnext) (5.1.1)
2025-01-13T19:04:13.2988560Z Requirement already satisfied: jedi>=0.16 in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from ipython>=4.0.0->ipywidgets>=7.0.0->qgridnext) (0.19.1)
2025-01-13T19:04:13.2993830Z Requirement already satisfied: matplotlib-inline in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from ipython>=4.0.0->ipywidgets>=7.0.0->qgridnext) (0.1.7)
2025-01-13T19:04:13.2999790Z Requirement already satisfied: prompt-toolkit<3.1.0,>=3.0.41 in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from ipython>=4.0.0->ipywidgets>=7.0.0->qgridnext) (3.0.47)
2025-01-13T19:04:13.3005980Z Requirement already satisfied: pygments>=2.4.0 in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from ipython>=4.0.0->ipywidgets>=7.0.0->qgridnext) (2.18.0)
2025-01-13T19:04:13.3011360Z Requirement already satisfied: stack-data in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from ipython>=4.0.0->ipywidgets>=7.0.0->qgridnext) (0.6.2)
2025-01-13T19:04:13.3022290Z Requirement already satisfied: pexpect>4.3 in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from ipython>=4.0.0->ipywidgets>=7.0.0->qgridnext) (4.9.0)
2025-01-13T19:04:13.3048060Z Requirement already satisfied: six>=1.5 in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from python-dateutil>=2.8.2->pandas>=0.20.0->qgridnext) (1.16.0)
2025-01-13T19:04:13.3081980Z Requirement already satisfied: notebook>=4.4.1 in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from widgetsnbextension~=3.6.5->ipywidgets>=7.0.0->qgridnext) (7.2.1)
2025-01-13T19:04:13.3196730Z Requirement already satisfied: parso<0.9.0,>=0.8.3 in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from jedi>=0.16->ipython>=4.0.0->ipywidgets>=7.0.0->qgridnext) (0.8.4)
2025-01-13T19:04:13.3286480Z Requirement already satisfied: jupyter-server<3,>=2.4.0 in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from notebook>=4.4.1->widgetsnbextension~=3.6.5->ipywidgets>=7.0.0->qgridnext) (2.14.1)
2025-01-13T19:04:13.3294090Z Requirement already satisfied: jupyterlab-server<3,>=2.27.1 in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from notebook>=4.4.1->widgetsnbextension~=3.6.5->ipywidgets>=7.0.0->qgridnext) (2.27.2)
2025-01-13T19:04:13.3303850Z Requirement already satisfied: jupyterlab<4.3,>=4.2.0 in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from notebook>=4.4.1->widgetsnbextension~=3.6.5->ipywidgets>=7.0.0->qgridnext) (4.2.2)
2025-01-13T19:04:13.3310230Z Requirement already satisfied: notebook-shim<0.3,>=0.2 in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from notebook>=4.4.1->widgetsnbextension~=3.6.5->ipywidgets>=7.0.0->qgridnext) (0.2.4)
2025-01-13T19:04:13.3315930Z Requirement already satisfied: tornado>=6.2.0 in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from notebook>=4.4.1->widgetsnbextension~=3.6.5->ipywidgets>=7.0.0->qgridnext) (6.4.1)
2025-01-13T19:04:13.3333050Z Requirement already satisfied: ptyprocess>=0.5 in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from pexpect>4.3->ipython>=4.0.0->ipywidgets>=7.0.0->qgridnext) (0.7.0)
2025-01-13T19:04:13.3349060Z Requirement already satisfied: wcwidth in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from prompt-toolkit<3.1.0,>=3.0.41->ipython>=4.0.0->ipywidgets>=7.0.0->qgridnext) (0.2.13)
2025-01-13T19:04:13.3431470Z Requirement already satisfied: executing>=1.2.0 in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from stack-data->ipython>=4.0.0->ipywidgets>=7.0.0->qgridnext) (2.0.1)
2025-01-13T19:04:13.3533360Z Requirement already satisfied: asttokens>=2.1.0 in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from stack-data->ipython>=4.0.0->ipywidgets>=7.0.0->qgridnext) (2.4.1)
2025-01-13T19:04:13.3635300Z Requirement already satisfied: pure-eval in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from stack-data->ipython>=4.0.0->ipywidgets>=7.0.0->qgridnext) (0.2.2)
2025-01-13T19:04:13.3735640Z Requirement already satisfied: anyio>=3.1.0 in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from jupyter-server<3,>=2.4.0->notebook>=4.4.1->widgetsnbextension~=3.6.5->ipywidgets>=7.0.0->qgridnext) (4.4.0)
2025-01-13T19:04:13.3837450Z Requirement already satisfied: argon2-cffi>=21.1 in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from jupyter-server<3,>=2.4.0->notebook>=4.4.1->widgetsnbextension~=3.6.5->ipywidgets>=7.0.0->qgridnext) (23.1.0)
2025-01-13T19:04:13.3938580Z Requirement already satisfied: jinja2>=3.0.3 in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from jupyter-server<3,>=2.4.0->notebook>=4.4.1->widgetsnbextension~=3.6.5->ipywidgets>=7.0.0->qgridnext) (3.1.4)
2025-01-13T19:04:13.4040190Z Requirement already satisfied: jupyter-client>=7.4.4 in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from jupyter-server<3,>=2.4.0->notebook>=4.4.1->widgetsnbextension~=3.6.5->ipywidgets>=7.0.0->qgridnext) (8.6.2)
2025-01-13T19:04:13.4140500Z Requirement already satisfied: jupyter-core!=5.0.*,>=4.12 in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from jupyter-server<3,>=2.4.0->notebook>=4.4.1->widgetsnbextension~=3.6.5->ipywidgets>=7.0.0->qgridnext) (5.7.2)
2025-01-13T19:04:13.4242800Z Requirement already satisfied: jupyter-events>=0.9.0 in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from jupyter-server<3,>=2.4.0->notebook>=4.4.1->widgetsnbextension~=3.6.5->ipywidgets>=7.0.0->qgridnext) (0.10.0)
2025-01-13T19:04:13.4344180Z Requirement already satisfied: jupyter-server-terminals>=0.4.4 in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from jupyter-server<3,>=2.4.0->notebook>=4.4.1->widgetsnbextension~=3.6.5->ipywidgets>=7.0.0->qgridnext) (0.5.3)
2025-01-13T19:04:13.4441400Z Requirement already satisfied: nbconvert>=6.4.4 in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from jupyter-server<3,>=2.4.0->notebook>=4.4.1->widgetsnbextension~=3.6.5->ipywidgets>=7.0.0->qgridnext) (7.16.4)
2025-01-13T19:04:13.4547250Z Requirement already satisfied: nbformat>=5.3.0 in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from jupyter-server<3,>=2.4.0->notebook>=4.4.1->widgetsnbextension~=3.6.5->ipywidgets>=7.0.0->qgridnext) (5.10.4)
2025-01-13T19:04:13.4648810Z Requirement already satisfied: overrides>=5.0 in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from jupyter-server<3,>=2.4.0->notebook>=4.4.1->widgetsnbextension~=3.6.5->ipywidgets>=7.0.0->qgridnext) (7.7.0)
2025-01-13T19:04:13.4748910Z Requirement already satisfied: packaging>=22.0 in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from jupyter-server<3,>=2.4.0->notebook>=4.4.1->widgetsnbextension~=3.6.5->ipywidgets>=7.0.0->qgridnext) (24.1)
2025-01-13T19:04:13.4849550Z Requirement already satisfied: prometheus-client>=0.9 in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from jupyter-server<3,>=2.4.0->notebook>=4.4.1->widgetsnbextension~=3.6.5->ipywidgets>=7.0.0->qgridnext) (0.20.0)
2025-01-13T19:04:13.4951430Z Requirement already satisfied: pyzmq>=24 in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from jupyter-server<3,>=2.4.0->notebook>=4.4.1->widgetsnbextension~=3.6.5->ipywidgets>=7.0.0->qgridnext) (26.0.3)
2025-01-13T19:04:13.5052030Z Requirement already satisfied: send2trash>=1.8.2 in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from jupyter-server<3,>=2.4.0->notebook>=4.4.1->widgetsnbextension~=3.6.5->ipywidgets>=7.0.0->qgridnext) (1.8.3)
2025-01-13T19:04:13.5153610Z Requirement already satisfied: terminado>=0.8.3 in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from jupyter-server<3,>=2.4.0->notebook>=4.4.1->widgetsnbextension~=3.6.5->ipywidgets>=7.0.0->qgridnext) (0.18.1)
2025-01-13T19:04:13.5254330Z Requirement already satisfied: websocket-client>=1.7 in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from jupyter-server<3,>=2.4.0->notebook>=4.4.1->widgetsnbextension~=3.6.5->ipywidgets>=7.0.0->qgridnext) (1.8.0)
2025-01-13T19:04:13.5354890Z Requirement already satisfied: async-lru>=1.0.0 in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from jupyterlab<4.3,>=4.2.0->notebook>=4.4.1->widgetsnbextension~=3.6.5->ipywidgets>=7.0.0->qgridnext) (2.0.4)
2025-01-13T19:04:13.5457290Z Requirement already satisfied: httpx>=0.25.0 in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from jupyterlab<4.3,>=4.2.0->notebook>=4.4.1->widgetsnbextension~=3.6.5->ipywidgets>=7.0.0->qgridnext) (0.27.0)
2025-01-13T19:04:13.5560190Z Requirement already satisfied: ipykernel>=6.5.0 in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from jupyterlab<4.3,>=4.2.0->notebook>=4.4.1->widgetsnbextension~=3.6.5->ipywidgets>=7.0.0->qgridnext) (6.29.4)
2025-01-13T19:04:13.5661700Z Requirement already satisfied: jupyter-lsp>=2.0.0 in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from jupyterlab<4.3,>=4.2.0->notebook>=4.4.1->widgetsnbextension~=3.6.5->ipywidgets>=7.0.0->qgridnext) (2.2.5)
2025-01-13T19:04:13.5762780Z Requirement already satisfied: setuptools>=40.1.0 in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from jupyterlab<4.3,>=4.2.0->notebook>=4.4.1->widgetsnbextension~=3.6.5->ipywidgets>=7.0.0->qgridnext) (70.0.0)
2025-01-13T19:04:13.5863560Z Requirement already satisfied: babel>=2.10 in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from jupyterlab-server<3,>=2.27.1->notebook>=4.4.1->widgetsnbextension~=3.6.5->ipywidgets>=7.0.0->qgridnext) (2.14.0)
2025-01-13T19:04:13.5966050Z Requirement already satisfied: json5>=0.9.0 in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from jupyterlab-server<3,>=2.27.1->notebook>=4.4.1->widgetsnbextension~=3.6.5->ipywidgets>=7.0.0->qgridnext) (0.9.25)
2025-01-13T19:04:13.6068470Z Requirement already satisfied: jsonschema>=4.18.0 in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from jupyterlab-server<3,>=2.27.1->notebook>=4.4.1->widgetsnbextension~=3.6.5->ipywidgets>=7.0.0->qgridnext) (4.22.0)
2025-01-13T19:04:13.6170850Z Requirement already satisfied: requests>=2.31 in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from jupyterlab-server<3,>=2.27.1->notebook>=4.4.1->widgetsnbextension~=3.6.5->ipywidgets>=7.0.0->qgridnext) (2.32.3)
2025-01-13T19:04:13.6271100Z Requirement already satisfied: idna>=2.8 in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from anyio>=3.1.0->jupyter-server<3,>=2.4.0->notebook>=4.4.1->widgetsnbextension~=3.6.5->ipywidgets>=7.0.0->qgridnext) (3.7)
2025-01-13T19:04:13.6373900Z Requirement already satisfied: sniffio>=1.1 in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from anyio>=3.1.0->jupyter-server<3,>=2.4.0->notebook>=4.4.1->widgetsnbextension~=3.6.5->ipywidgets>=7.0.0->qgridnext) (1.3.1)
2025-01-13T19:04:13.6474320Z Requirement already satisfied: argon2-cffi-bindings in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from argon2-cffi>=21.1->jupyter-server<3,>=2.4.0->notebook>=4.4.1->widgetsnbextension~=3.6.5->ipywidgets>=7.0.0->qgridnext) (21.2.0)
2025-01-13T19:04:13.6576810Z Requirement already satisfied: certifi in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from httpx>=0.25.0->jupyterlab<4.3,>=4.2.0->notebook>=4.4.1->widgetsnbextension~=3.6.5->ipywidgets>=7.0.0->qgridnext) (2024.6.2)
2025-01-13T19:04:13.6677150Z Requirement already satisfied: httpcore==1.* in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from httpx>=0.25.0->jupyterlab<4.3,>=4.2.0->notebook>=4.4.1->widgetsnbextension~=3.6.5->ipywidgets>=7.0.0->qgridnext) (1.0.5)
2025-01-13T19:04:13.6779390Z Requirement already satisfied: h11<0.15,>=0.13 in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from httpcore==1.*->httpx>=0.25.0->jupyterlab<4.3,>=4.2.0->notebook>=4.4.1->widgetsnbextension~=3.6.5->ipywidgets>=7.0.0->qgridnext) (0.14.0)
2025-01-13T19:04:13.6880020Z Requirement already satisfied: appnope in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from ipykernel>=6.5.0->jupyterlab<4.3,>=4.2.0->notebook>=4.4.1->widgetsnbextension~=3.6.5->ipywidgets>=7.0.0->qgridnext) (0.1.4)
2025-01-13T19:04:13.6982940Z Requirement already satisfied: debugpy>=1.6.5 in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from ipykernel>=6.5.0->jupyterlab<4.3,>=4.2.0->notebook>=4.4.1->widgetsnbextension~=3.6.5->ipywidgets>=7.0.0->qgridnext) (1.8.1)
2025-01-13T19:04:13.7084200Z Requirement already satisfied: nest-asyncio in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from ipykernel>=6.5.0->jupyterlab<4.3,>=4.2.0->notebook>=4.4.1->widgetsnbextension~=3.6.5->ipywidgets>=7.0.0->qgridnext) (1.6.0)
2025-01-13T19:04:13.7184540Z Requirement already satisfied: psutil in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from ipykernel>=6.5.0->jupyterlab<4.3,>=4.2.0->notebook>=4.4.1->widgetsnbextension~=3.6.5->ipywidgets>=7.0.0->qgridnext) (5.9.8)
2025-01-13T19:04:13.7285850Z Requirement already satisfied: MarkupSafe>=2.0 in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from jinja2>=3.0.3->jupyter-server<3,>=2.4.0->notebook>=4.4.1->widgetsnbextension~=3.6.5->ipywidgets>=7.0.0->qgridnext) (2.1.5)
2025-01-13T19:04:13.7386810Z Requirement already satisfied: attrs>=22.2.0 in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from jsonschema>=4.18.0->jupyterlab-server<3,>=2.27.1->notebook>=4.4.1->widgetsnbextension~=3.6.5->ipywidgets>=7.0.0->qgridnext) (23.2.0)
2025-01-13T19:04:13.7487310Z Requirement already satisfied: jsonschema-specifications>=2023.03.6 in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from jsonschema>=4.18.0->jupyterlab-server<3,>=2.27.1->notebook>=4.4.1->widgetsnbextension~=3.6.5->ipywidgets>=7.0.0->qgridnext) (2023.12.1)
2025-01-13T19:04:13.7588730Z Requirement already satisfied: referencing>=0.28.4 in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from jsonschema>=4.18.0->jupyterlab-server<3,>=2.27.1->notebook>=4.4.1->widgetsnbextension~=3.6.5->ipywidgets>=7.0.0->qgridnext) (0.35.1)
2025-01-13T19:04:13.7689750Z Requirement already satisfied: rpds-py>=0.7.1 in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from jsonschema>=4.18.0->jupyterlab-server<3,>=2.27.1->notebook>=4.4.1->widgetsnbextension~=3.6.5->ipywidgets>=7.0.0->qgridnext) (0.18.1)
2025-01-13T19:04:13.7790380Z Requirement already satisfied: platformdirs>=2.5 in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from jupyter-core!=5.0.*,>=4.12->jupyter-server<3,>=2.4.0->notebook>=4.4.1->widgetsnbextension~=3.6.5->ipywidgets>=7.0.0->qgridnext) (4.2.2)
2025-01-13T19:04:13.7891720Z Requirement already satisfied: python-json-logger>=2.0.4 in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from jupyter-events>=0.9.0->jupyter-server<3,>=2.4.0->notebook>=4.4.1->widgetsnbextension~=3.6.5->ipywidgets>=7.0.0->qgridnext) (2.0.7)
2025-01-13T19:04:13.7992940Z Requirement already satisfied: pyyaml>=5.3 in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from jupyter-events>=0.9.0->jupyter-server<3,>=2.4.0->notebook>=4.4.1->widgetsnbextension~=3.6.5->ipywidgets>=7.0.0->qgridnext) (6.0.1)
2025-01-13T19:04:13.8094230Z Requirement already satisfied: rfc3339-validator in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from jupyter-events>=0.9.0->jupyter-server<3,>=2.4.0->notebook>=4.4.1->widgetsnbextension~=3.6.5->ipywidgets>=7.0.0->qgridnext) (0.1.4)
2025-01-13T19:04:13.8194640Z Requirement already satisfied: rfc3986-validator>=0.1.1 in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from jupyter-events>=0.9.0->jupyter-server<3,>=2.4.0->notebook>=4.4.1->widgetsnbextension~=3.6.5->ipywidgets>=7.0.0->qgridnext) (0.1.1)
2025-01-13T19:04:13.8295690Z Requirement already satisfied: beautifulsoup4 in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from nbconvert>=6.4.4->jupyter-server<3,>=2.4.0->notebook>=4.4.1->widgetsnbextension~=3.6.5->ipywidgets>=7.0.0->qgridnext) (4.12.3)
2025-01-13T19:04:13.8396870Z Requirement already satisfied: bleach!=5.0.0 in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from nbconvert>=6.4.4->jupyter-server<3,>=2.4.0->notebook>=4.4.1->widgetsnbextension~=3.6.5->ipywidgets>=7.0.0->qgridnext) (6.1.0)
2025-01-13T19:04:13.8498520Z Requirement already satisfied: defusedxml in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from nbconvert>=6.4.4->jupyter-server<3,>=2.4.0->notebook>=4.4.1->widgetsnbextension~=3.6.5->ipywidgets>=7.0.0->qgridnext) (0.7.1)
2025-01-13T19:04:13.8599530Z Requirement already satisfied: jupyterlab-pygments in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from nbconvert>=6.4.4->jupyter-server<3,>=2.4.0->notebook>=4.4.1->widgetsnbextension~=3.6.5->ipywidgets>=7.0.0->qgridnext) (0.3.0)
2025-01-13T19:04:13.8700920Z Requirement already satisfied: mistune<4,>=2.0.3 in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from nbconvert>=6.4.4->jupyter-server<3,>=2.4.0->notebook>=4.4.1->widgetsnbextension~=3.6.5->ipywidgets>=7.0.0->qgridnext) (3.0.2)
2025-01-13T19:04:13.8801890Z Requirement already satisfied: nbclient>=0.5.0 in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from nbconvert>=6.4.4->jupyter-server<3,>=2.4.0->notebook>=4.4.1->widgetsnbextension~=3.6.5->ipywidgets>=7.0.0->qgridnext) (0.10.0)
2025-01-13T19:04:13.8903540Z Requirement already satisfied: pandocfilters>=1.4.1 in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from nbconvert>=6.4.4->jupyter-server<3,>=2.4.0->notebook>=4.4.1->widgetsnbextension~=3.6.5->ipywidgets>=7.0.0->qgridnext) (1.5.0)
2025-01-13T19:04:13.9005020Z Requirement already satisfied: tinycss2 in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from nbconvert>=6.4.4->jupyter-server<3,>=2.4.0->notebook>=4.4.1->widgetsnbextension~=3.6.5->ipywidgets>=7.0.0->qgridnext) (1.3.0)
2025-01-13T19:04:13.9107570Z Requirement already satisfied: fastjsonschema>=2.15 in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from nbformat>=5.3.0->jupyter-server<3,>=2.4.0->notebook>=4.4.1->widgetsnbextension~=3.6.5->ipywidgets>=7.0.0->qgridnext) (2.20.0)
2025-01-13T19:04:13.9167100Z Requirement already satisfied: charset-normalizer<4,>=2 in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from requests>=2.31->jupyterlab-server<3,>=2.27.1->notebook>=4.4.1->widgetsnbextension~=3.6.5->ipywidgets>=7.0.0->qgridnext) (3.3.2)
2025-01-13T19:04:13.9269920Z Requirement already satisfied: urllib3<3,>=1.21.1 in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from requests>=2.31->jupyterlab-server<3,>=2.27.1->notebook>=4.4.1->widgetsnbextension~=3.6.5->ipywidgets>=7.0.0->qgridnext) (2.2.2)
2025-01-13T19:04:13.9320460Z Requirement already satisfied: webencodings in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from bleach!=5.0.0->nbconvert>=6.4.4->jupyter-server<3,>=2.4.0->notebook>=4.4.1->widgetsnbextension~=3.6.5->ipywidgets>=7.0.0->qgridnext) (0.5.1)
2025-01-13T19:04:13.9341300Z Requirement already satisfied: fqdn in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from jsonschema[format-nongpl]>=4.18.0->jupyter-events>=0.9.0->jupyter-server<3,>=2.4.0->notebook>=4.4.1->widgetsnbextension~=3.6.5->ipywidgets>=7.0.0->qgridnext) (1.5.1)
2025-01-13T19:04:13.9343570Z Requirement already satisfied: isoduration in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from jsonschema[format-nongpl]>=4.18.0->jupyter-events>=0.9.0->jupyter-server<3,>=2.4.0->notebook>=4.4.1->widgetsnbextension~=3.6.5->ipywidgets>=7.0.0->qgridnext) (20.11.0)
2025-01-13T19:04:13.9347430Z Requirement already satisfied: jsonpointer>1.13 in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from jsonschema[format-nongpl]>=4.18.0->jupyter-events>=0.9.0->jupyter-server<3,>=2.4.0->notebook>=4.4.1->widgetsnbextension~=3.6.5->ipywidgets>=7.0.0->qgridnext) (3.0.0)
2025-01-13T19:04:13.9349380Z Requirement already satisfied: uri-template in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from jsonschema[format-nongpl]>=4.18.0->jupyter-events>=0.9.0->jupyter-server<3,>=2.4.0->notebook>=4.4.1->widgetsnbextension~=3.6.5->ipywidgets>=7.0.0->qgridnext) (1.3.0)
2025-01-13T19:04:13.9351390Z Requirement already satisfied: webcolors>=1.11 in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from jsonschema[format-nongpl]>=4.18.0->jupyter-events>=0.9.0->jupyter-server<3,>=2.4.0->notebook>=4.4.1->widgetsnbextension~=3.6.5->ipywidgets>=7.0.0->qgridnext) (24.6.0)
2025-01-13T19:04:13.9353250Z Requirement already satisfied: cffi>=1.0.1 in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from argon2-cffi-bindings->argon2-cffi>=21.1->jupyter-server<3,>=2.4.0->notebook>=4.4.1->widgetsnbextension~=3.6.5->ipywidgets>=7.0.0->qgridnext) (1.16.0)
2025-01-13T19:04:13.9354830Z Requirement already satisfied: soupsieve>1.2 in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from beautifulsoup4->nbconvert>=6.4.4->jupyter-server<3,>=2.4.0->notebook>=4.4.1->widgetsnbextension~=3.6.5->ipywidgets>=7.0.0->qgridnext) (2.5)
2025-01-13T19:04:13.9356430Z Requirement already satisfied: pycparser in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from cffi>=1.0.1->argon2-cffi-bindings->argon2-cffi>=21.1->jupyter-server<3,>=2.4.0->notebook>=4.4.1->widgetsnbextension~=3.6.5->ipywidgets>=7.0.0->qgridnext) (2.22)
2025-01-13T19:04:13.9361280Z Requirement already satisfied: arrow>=0.15.0 in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from isoduration->jsonschema[format-nongpl]>=4.18.0->jupyter-events>=0.9.0->jupyter-server<3,>=2.4.0->notebook>=4.4.1->widgetsnbextension~=3.6.5->ipywidgets>=7.0.0->qgridnext) (1.3.0)
2025-01-13T19:04:13.9642610Z Requirement already satisfied: types-python-dateutil>=2.8.10 in /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages (from arrow>=0.15.0->isoduration->jsonschema[format-nongpl]>=4.18.0->jupyter-events>=0.9.0->jupyter-server<3,>=2.4.0->notebook>=4.4.1->widgetsnbextension~=3.6.5->ipywidgets>=7.0.0->qgridnext) (2.9.0.20240316)
2025-01-13T19:04:14.0008020Z Downloading qgridnext-2.0.4-py3-none-any.whl (1.3 MB)
2025-01-13T19:04:14.0530390Z    â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 1.3/1.3 MB 24.5 MB/s eta 0:00:00
2025-01-13T19:04:14.8275690Z Installing collected packages: qgridnext
2025-01-13T19:04:14.8792820Z Successfully installed qgridnext-2.0.4
2025-01-13T19:04:15.2095270Z ##[group]Run pytest tardis --tardis-regression-data=/Users/runner/work/tardis/tardis/tardis-regression-data --cov=tardis --cov-report=xml --cov-report=html --cov-append -m "not continuum"
2025-01-13T19:04:15.2096450Z [36;1mpytest tardis --tardis-regression-data=/Users/runner/work/tardis/tardis/tardis-regression-data --cov=tardis --cov-report=xml --cov-report=html --cov-append -m "not continuum"[0m
2025-01-13T19:04:15.2161720Z shell: /bin/bash -l {0}
2025-01-13T19:04:15.2161990Z env:
2025-01-13T19:04:15.2162240Z   CACHE_NUMBER: 0
2025-01-13T19:04:15.2162790Z   PYTEST_FLAGS: --tardis-regression-data=/Users/runner/work/tardis/tardis/tardis-regression-data --cov=tardis --cov-report=xml --cov-report=html --cov-append
2025-01-13T19:04:15.2163460Z   CODECOV_TOKEN: 
2025-01-13T19:04:15.2163800Z   MAMBA_ROOT_PREFIX: /Users/runner/micromamba
2025-01-13T19:04:15.2164210Z   MAMBA_EXE: /Users/runner/micromamba-bin/micromamba
2025-01-13T19:04:15.2164670Z   CONDARC: /Users/runner/work/_temp/setup-micromamba/.condarc
2025-01-13T19:04:15.2165050Z ##[endgroup]
2025-01-13T19:04:27.8086750Z ============================= test session starts ==============================
2025-01-13T19:04:27.8087160Z platform darwin -- Python 3.12.4, pytest-8.2.2, pluggy-1.5.0
2025-01-13T19:04:27.8087450Z rootdir: /Users/runner/work/tardis/tardis
2025-01-13T19:04:27.8087660Z configfile: pyproject.toml
2025-01-13T19:04:27.8087940Z plugins: cov-5.0.0, html-4.1.1, metadata-3.1.1, doctestplus-1.2.1, anyio-4.4.0
2025-01-13T19:04:27.8088270Z collected 1796 items / 2 deselected / 1794 selected
2025-01-13T19:04:27.8088440Z 
2025-01-13T19:04:30.8531600Z tardis/energy_input/tests/test_energy_source.py ..xxx                    [  0%]
2025-01-13T19:04:32.5069620Z tardis/energy_input/tests/test_gamma_ray_channel.py ...........          [  0%]
2025-01-13T19:04:33.7161880Z tardis/energy_input/tests/test_gamma_ray_grid.py xx.                     [  1%]
2025-01-13T19:04:34.8288340Z tardis/energy_input/tests/test_gamma_ray_interactions.py xx....          [  1%]
2025-01-13T19:04:34.8419060Z tardis/energy_input/tests/test_gamma_ray_packet_source.py sssssssss      [  1%]
2025-01-13T19:04:35.7958760Z tardis/energy_input/tests/test_util.py .....xxxx.....                    [  2%]
2025-01-13T19:04:36.0790440Z tardis/grid/tests/test_grid.py .                                         [  2%]
2025-01-13T19:04:36.0799180Z tardis/gui/tests/test_gui.py s                                           [  2%]
2025-01-13T19:04:38.9703600Z tardis/io/configuration/tests/test_config_reader.py ...........          [  3%]
2025-01-13T19:04:38.9771970Z tardis/io/configuration/tests/test_configuration_namespace.py .........  [  3%]
2025-01-13T19:04:38.9923420Z tardis/io/logger/tests/test_logging.py ssssssssssssssssssssssssssss      [  5%]
2025-01-13T19:05:08.7477900Z tardis/io/model/readers/tests/test_arepo_parser.py ..                    [  5%]
2025-01-13T19:05:08.7747780Z tardis/io/model/readers/tests/test_ascii_readers.py ...                  [  5%]
2025-01-13T19:05:08.7854770Z tardis/io/model/readers/tests/test_cmfgen_reader.py ..                   [  5%]
2025-01-13T19:05:08.8058620Z tardis/io/model/readers/tests/test_csvy_reader.py ....                   [  6%]
2025-01-13T19:05:08.8206170Z tardis/io/model/readers/tests/test_stella_reader.py ..                   [  6%]
2025-01-13T19:05:09.0399850Z tardis/io/tests/test_HDFWriter.py ...............                        [  7%]
2025-01-13T19:05:09.5132490Z tardis/io/tests/test_atomic.py .....                                     [  7%]
2025-01-13T19:05:09.5310670Z tardis/io/tests/test_decay.py ..                                         [  7%]
2025-01-13T19:05:09.6826640Z tardis/io/tests/test_model_reader.py ......                              [  7%]
2025-01-13T19:05:09.6913420Z tardis/model/geometry/tests/test_radial1d.py ..                          [  7%]
2025-01-13T19:05:36.9395170Z tardis/model/tests/test_base.py ........................................ [ 10%]
2025-01-13T19:05:37.6932740Z ............                                                             [ 10%]
2025-01-13T19:05:39.9827310Z tardis/model/tests/test_csvy_model.py .........                          [ 11%]
2025-01-13T19:05:40.0126710Z tardis/model/tests/test_density.py ..                                    [ 11%]
2025-01-13T19:05:41.2334770Z tardis/opacities/tests/test_opacity_solver.py .....                      [ 11%]
2025-01-13T19:05:42.2771060Z tardis/opacities/tests/test_opacity_state_numba.py .....                 [ 11%]
2025-01-13T19:05:43.7878880Z tardis/opacities/tests/test_tau_sobolev.py FF                            [ 12%]
2025-01-13T19:05:46.3607850Z tardis/plasma/equilibrium/tests/test_collisional_transitions.py ...      [ 12%]
2025-01-13T19:06:28.5224480Z tardis/plasma/equilibrium/tests/test_level_populations.py ....           [ 12%]
2025-01-13T19:06:37.6363420Z tardis/plasma/equilibrium/tests/test_rate_matrix.py .                    [ 12%]
2025-01-13T19:06:38.6674940Z tardis/plasma/tests/test_complete_plasmas.py .....................s..... [ 13%]
2025-01-13T19:06:40.6996870Z s....ssssss............s............ss.....s....ssssss............s..... [ 18%]
2025-01-13T19:06:41.9728980Z .......ss.....s....ssssss............s............ss.....s....ssssss.... [ 22%]
2025-01-13T19:06:44.1718810Z ........s............ss.....s........ss............s............ss.....s [ 26%]
2025-01-13T19:06:46.1691040Z ........ss............s............ss.....s....ssssss............s...... [ 30%]
2025-01-13T19:06:46.7077340Z ......ss.....s....ssssss............s............ss.....s.ss.ssssss..... [ 34%]
2025-01-13T19:06:48.6744580Z .......s............ss.....s....ssssss............s............ss.....s. [ 38%]
2025-01-13T19:06:50.6353390Z ...ssssss............s............ss.....s....ssssss............s....... [ 42%]
2025-01-13T19:06:52.6707440Z .....ss.....s....ssssss............s............s...........ssssss...... [ 46%]
2025-01-13T19:06:54.0124440Z ......s............s...........ssssss............s............s......... [ 50%]
2025-01-13T19:06:56.1506830Z ..ssssss............s............ss.....s....ssssss............s........ [ 54%]
2025-01-13T19:06:58.3418720Z ....ss.....s....ssssss..........................s.....s....ssss......... [ 58%]
2025-01-13T19:06:58.5713780Z ...................s.....s....ssss.......                                [ 60%]
2025-01-13T19:06:58.7495700Z tardis/plasma/tests/test_hdf_plasma.py ................................. [ 62%]
2025-01-13T19:06:58.7606890Z ......                                                                   [ 62%]
2025-01-13T19:06:58.9862770Z tardis/plasma/tests/test_nlte_excitation.py ...                          [ 62%]
2025-01-13T19:08:51.3756780Z tardis/plasma/tests/test_nlte_solver.py .....X                           [ 63%]
2025-01-13T19:08:51.3822260Z tardis/plasma/tests/test_plasma_continuum.py .                           [ 63%]
2025-01-13T19:09:14.7734450Z tardis/plasma/tests/test_plasma_vboundary.py .............               [ 63%]
2025-01-13T19:09:26.5430830Z tardis/plasma/tests/test_tardis_model_density_config.py ...              [ 64%]
2025-01-13T19:09:27.1001810Z tardis/simulation/tests/test_convergence.py .....                        [ 64%]
2025-01-13T19:09:33.3478330Z tardis/simulation/tests/test_simulation.py .............                 [ 65%]
2025-01-13T19:09:33.3621320Z tardis/spectrum/tests/test_cuda_formal_integral.py sssssssssssssssssssss [ 66%]
2025-01-13T19:09:33.6752360Z ssss...ssssssssssssssssssssss                                            [ 67%]
2025-01-13T19:09:33.6809680Z tardis/spectrum/tests/test_luminosity.py ....                            [ 68%]
2025-01-13T19:09:34.7679800Z tardis/spectrum/tests/test_numba_formal_integral.py .................... [ 69%]
2025-01-13T19:09:34.7885780Z ..........                                                               [ 69%]
2025-01-13T19:09:35.0768380Z tardis/spectrum/tests/test_spectrum.py ................................. [ 71%]
2025-01-13T19:09:35.1351990Z .........                                                                [ 72%]
2025-01-13T19:09:56.5837850Z tardis/spectrum/tests/test_spectrum_solver.py ....                       [ 72%]
2025-01-13T19:10:48.6679570Z tardis/tests/test_tardis_full.py ....                                    [ 72%]
2025-01-13T19:11:19.8102840Z tardis/tests/test_tardis_full_formal_integral.py ...F...F...F...F        [ 73%]
2025-01-13T19:11:19.8695180Z tardis/tests/test_util.py .............................................  [ 75%]
2025-01-13T19:11:21.7202150Z tardis/transport/montecarlo/tests/test_base.py x.....................    [ 77%]
2025-01-13T19:11:26.6325430Z tardis/transport/montecarlo/tests/test_interaction.py .......            [ 77%]
2025-01-13T19:11:26.7624240Z tardis/transport/montecarlo/tests/test_macro_atom.py ....                [ 77%]
2025-01-13T19:11:26.7717580Z tardis/transport/montecarlo/tests/test_montecarlo.py sssssssssssssssssss [ 78%]
2025-01-13T19:11:26.7999330Z sssssssssssssssssssssssssssssssssssssssssssss                            [ 81%]
2025-01-13T19:11:33.3545010Z tardis/transport/montecarlo/tests/test_montecarlo_main_loop.py x..       [ 81%]
2025-01-13T19:11:33.3640060Z tardis/transport/montecarlo/tests/test_nonhomologous.py ...              [ 81%]
2025-01-13T19:11:35.7104950Z tardis/transport/montecarlo/tests/test_numba_interface.py .....x.        [ 82%]
2025-01-13T19:11:36.0340990Z tardis/transport/montecarlo/tests/test_opacities.py ...............      [ 82%]
2025-01-13T19:11:36.7117030Z tardis/transport/montecarlo/tests/test_packet.py .................xXXXXX [ 84%]
2025-01-13T19:11:36.8026130Z XX.........                                                              [ 84%]
2025-01-13T19:11:36.8285970Z tardis/transport/montecarlo/tests/test_packet_source.py ........         [ 85%]
2025-01-13T19:11:37.0322390Z tardis/transport/montecarlo/tests/test_rpacket_last_interaction_tracker.py . [ 85%]
2025-01-13T19:11:37.3225080Z .....                                                                    [ 85%]
2025-01-13T19:11:46.9396810Z tardis/transport/montecarlo/tests/test_rpacket_tracker.py ......         [ 85%]
2025-01-13T19:11:46.9613290Z tardis/transport/montecarlo/tests/test_single_packet_loop.py xxx         [ 86%]
2025-01-13T19:11:46.9643840Z tardis/transport/montecarlo/tests/test_tracker_utils.py ..               [ 86%]
2025-01-13T19:11:48.3222180Z tardis/transport/montecarlo/tests/test_vpacket.py ..x.                   [ 86%]
2025-01-13T19:11:48.3643890Z tardis/transport/montecarlo/tests/test_weighted_packet_source.py ....    [ 86%]
2025-01-13T19:11:51.0139480Z tardis/transport/montecarlo/tests/test_weighted_packet_source_integration.py . [ 86%]
2025-01-13T19:11:51.0140890Z                                                                          [ 86%]
2025-01-13T19:11:51.4890900Z tardis/transport/tests/test_doppler_factor.py ..................         [ 87%]
2025-01-13T19:11:52.9273640Z tardis/visualization/tools/tests/test_convergence_plot.py .............. [ 88%]
2025-01-13T19:11:54.5714470Z ......                                                                   [ 88%]
2025-01-13T19:11:58.0782840Z tardis/visualization/tools/tests/test_liv_plot.py ...................... [ 90%]
2025-01-13T19:12:01.2699350Z .............................                                            [ 91%]
2025-01-13T19:12:03.9090700Z tardis/visualization/tools/tests/test_rpacket_plot.py .................. [ 92%]
2025-01-13T19:12:10.3505630Z ....                                                                     [ 92%]
2025-01-13T19:12:14.5399000Z tardis/visualization/tools/tests/test_sdec_plot.py ..................... [ 94%]
2025-01-13T19:12:20.9880160Z ..............................                                           [ 95%]
2025-01-13T19:12:21.3596150Z tardis/visualization/widgets/tests/test_custom_abundance.py ........ss.. [ 96%]
2025-01-13T19:12:21.4058070Z ....                                                                     [ 96%]
2025-01-13T19:12:22.2179120Z tardis/visualization/widgets/tests/test_line_info.py ................... [ 97%]
2025-01-13T19:12:22.7410630Z ..................                                                       [ 98%]
2025-01-13T19:12:25.7442860Z tardis/visualization/widgets/tests/test_shell_info.py ..............EEEE [ 99%]
2025-01-13T19:12:33.0357890Z EEE...                                                                   [100%]
2025-01-13T19:12:33.0359050Z 
2025-01-13T19:12:33.0359470Z ==================================== ERRORS ====================================
2025-01-13T19:12:33.0360170Z _____________ ERROR at setup of TestHDFShellInfo.test_shells_data ______________
2025-01-13T19:12:33.0360990Z 
2025-01-13T19:12:33.0361590Z path_or_buf = '/private/var/folders/ml/x_tvfgn50_s7p67dm1ypcqqm0000gn/T/pytest-of-runner/pytest-0/hdf_buffer0/test.hdf'
2025-01-13T19:12:33.0362250Z path = 'simulation'
2025-01-13T19:12:33.0363000Z elements = {'iterations_electron_densities': array([[2.86954465e+09, 2.18528594e+09, 1.68079721e+09, 1.30480386e+09,
2025-01-13T19:12:33.0363690Z         1.02...      , 0.        , 0.        , 0.        ,
2025-01-13T19:12:33.0364580Z         0.        , 0.        , 0.        , 0.        , 0.        ]]), ...}
2025-01-13T19:12:33.0365380Z overwrite = True, complevel = 9, complib = 'blosc'
2025-01-13T19:12:33.0365920Z 
2025-01-13T19:12:33.0366200Z     @staticmethod
2025-01-13T19:12:33.0367070Z     def to_hdf_util(
2025-01-13T19:12:33.0367690Z         path_or_buf, path, elements, overwrite, complevel=9, complib="blosc"
2025-01-13T19:12:33.0369260Z     ):
2025-01-13T19:12:33.0369900Z         """
2025-01-13T19:12:33.0370300Z         A function to uniformly store TARDIS data to an HDF file.
2025-01-13T19:12:33.0371070Z     
2025-01-13T19:12:33.0371450Z         Scalars will be stored in a Series under path/scalars
2025-01-13T19:12:33.0372190Z         1D arrays will be stored under path/property_name as distinct Series
2025-01-13T19:12:33.0382130Z         2D arrays will be stored under path/property_name as distinct DataFrames
2025-01-13T19:12:33.0382630Z     
2025-01-13T19:12:33.0383440Z         Units will be stored as their CGS value
2025-01-13T19:12:33.0383860Z     
2025-01-13T19:12:33.0384280Z         Parameters
2025-01-13T19:12:33.0384630Z         ----------
2025-01-13T19:12:33.0385060Z         path_or_buf : str or pandas.io.pytables.HDFStore
2025-01-13T19:12:33.0385450Z             Path or buffer to the HDF file
2025-01-13T19:12:33.0386000Z         path : str
2025-01-13T19:12:33.0386330Z             Path inside the HDF file to store the `elements`
2025-01-13T19:12:33.0386720Z         elements : dict
2025-01-13T19:12:33.0386960Z             A dict of property names and their values to be
2025-01-13T19:12:33.0387240Z             stored.
2025-01-13T19:12:33.0387470Z         overwrite : bool
2025-01-13T19:12:33.0387730Z             If the HDF file path already exists, whether to overwrite it or not
2025-01-13T19:12:33.0441110Z     
2025-01-13T19:12:33.0441300Z         Notes
2025-01-13T19:12:33.0441450Z         -----
2025-01-13T19:12:33.0441720Z         `overwrite` option doesn't have any effect when `path_or_buf` is an
2025-01-13T19:12:33.0442110Z         HDFStore because the user decides on the mode in which they have
2025-01-13T19:12:33.0442910Z         opened the HDFStore ('r', 'w' or 'a').
2025-01-13T19:12:33.0443170Z         """
2025-01-13T19:12:33.0443510Z         if (
2025-01-13T19:12:33.0443900Z             isinstance(path_or_buf, str)
2025-01-13T19:12:33.0444270Z             and os.path.exists(path_or_buf)
2025-01-13T19:12:33.0444650Z             and not overwrite
2025-01-13T19:12:33.0444920Z         ):
2025-01-13T19:12:33.0445120Z             raise FileExistsError(
2025-01-13T19:12:33.0445750Z                 "The specified HDF file already exists. If you still want "
2025-01-13T19:12:33.0446240Z                 "to overwrite it, set function parameter overwrite=True"
2025-01-13T19:12:33.0446560Z             )
2025-01-13T19:12:33.0446810Z     
2025-01-13T19:12:33.0447380Z         else:
2025-01-13T19:12:33.0447810Z             try:  # when path_or_buf is a str, the HDFStore should get created
2025-01-13T19:12:33.0448340Z                 buf = pd.HDFStore(
2025-01-13T19:12:33.0449630Z                     path_or_buf, complevel=complevel, complib=complib
2025-01-13T19:12:33.0450100Z                 )
2025-01-13T19:12:33.0450570Z             except TypeError as e:
2025-01-13T19:12:33.0450950Z                 if str(e) == "Expected bytes, got HDFStore":
2025-01-13T19:12:33.0451340Z                     # when path_or_buf is an HDFStore buffer instead
2025-01-13T19:12:33.0451720Z                     logger.debug(
2025-01-13T19:12:33.0452290Z                         "Expected bytes, got HDFStore. Changing path to HDF buffer"
2025-01-13T19:12:33.0452710Z                     )
2025-01-13T19:12:33.0453120Z                     buf = path_or_buf
2025-01-13T19:12:33.0453350Z                 else:
2025-01-13T19:12:33.0453960Z                     raise e
2025-01-13T19:12:33.0454270Z     
2025-01-13T19:12:33.0454780Z         if not buf.is_open:
2025-01-13T19:12:33.0455010Z             buf.open()
2025-01-13T19:12:33.0455330Z     
2025-01-13T19:12:33.0455520Z         scalars = {}
2025-01-13T19:12:33.0455720Z         for key, value in elements.items():
2025-01-13T19:12:33.0456380Z             if value is None:
2025-01-13T19:12:33.0456640Z                 value = "none"
2025-01-13T19:12:33.0456850Z             if hasattr(value, "cgs"):
2025-01-13T19:12:33.0457260Z                 value = value.cgs.value
2025-01-13T19:12:33.0457640Z             if np.isscalar(value):
2025-01-13T19:12:33.0458330Z                 scalars[key] = value
2025-01-13T19:12:33.0458540Z             elif hasattr(value, "shape"):
2025-01-13T19:12:33.0458750Z                 if value.ndim == 1:
2025-01-13T19:12:33.0459220Z                     # This try,except block is only for model.plasma.levels
2025-01-13T19:12:33.0459800Z                     try:
2025-01-13T19:12:33.0460190Z                         pd.Series(value).to_hdf(
2025-01-13T19:12:33.0460420Z                             buf, key=os.path.join(path, key)
2025-01-13T19:12:33.0460630Z                         )
2025-01-13T19:12:33.0460800Z                     except NotImplementedError:
2025-01-13T19:12:33.0464570Z                         logger.debug(
2025-01-13T19:12:33.0464900Z                             "Could not convert SERIES to HDF. Converting DATAFRAME to HDF"
2025-01-13T19:12:33.0468390Z                         )
2025-01-13T19:12:33.0468620Z                         pd.DataFrame(value).to_hdf(
2025-01-13T19:12:33.0473050Z                             buf, key=os.path.join(path, key)
2025-01-13T19:12:33.0474710Z                         )
2025-01-13T19:12:33.0480230Z                 else:
2025-01-13T19:12:33.0481080Z                     pd.DataFrame(value).to_hdf(buf, key=os.path.join(path, key))
2025-01-13T19:12:33.0483100Z             else:  # value is a TARDIS object like model, transport or plasma
2025-01-13T19:12:33.0485540Z                 try:
2025-01-13T19:12:33.0486270Z >                   value.to_hdf(buf, path, name=key, overwrite=overwrite)
2025-01-13T19:12:33.0486570Z 
2025-01-13T19:12:33.0486660Z tardis/io/util.py:283: 
2025-01-13T19:12:33.0488660Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-01-13T19:12:33.0489110Z tardis/io/util.py:335: in to_hdf
2025-01-13T19:12:33.0489300Z     data = self.get_properties()
2025-01-13T19:12:33.0489510Z tardis/io/util.py:298: in get_properties
2025-01-13T19:12:33.0489790Z     data = {name: getattr(self, name) for name in self.full_hdf_properties}
2025-01-13T19:12:33.0490190Z tardis/spectrum/base.py:87: in spectrum_integrated
2025-01-13T19:12:33.0490880Z     self._spectrum_integrated = self.integrator.calculate_spectrum(
2025-01-13T19:12:33.0491280Z tardis/spectrum/formal_integral.py:405: in calculate_spectrum
2025-01-13T19:12:33.0491670Z     luminosity = u.Quantity(self.formal_integral(frequency, N), "erg") * (
2025-01-13T19:12:33.0492010Z tardis/spectrum/formal_integral.py:658: in formal_integral
2025-01-13T19:12:33.0492520Z     res = self.make_source_function()
2025-01-13T19:12:33.0492770Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-01-13T19:12:33.0493560Z 
2025-01-13T19:12:33.0493750Z self = <tardis.spectrum.formal_integral.FormalIntegrator object at 0x1451141d0>
2025-01-13T19:12:33.0493990Z 
2025-01-13T19:12:33.0494050Z     def make_source_function(self):
2025-01-13T19:12:33.0494300Z         """
2025-01-13T19:12:33.0494610Z         Calculates the source function using the line absorption rate estimator `Edotlu_estimator`
2025-01-13T19:12:33.0494960Z     
2025-01-13T19:12:33.0497580Z         Formally it calculates the expression ( 1 - exp(-tau_ul) ) S_ul but this product is what we need later,
2025-01-13T19:12:33.0498010Z         so there is no need to factor out the source function explicitly.
2025-01-13T19:12:33.0498290Z     
2025-01-13T19:12:33.0498700Z         Parameters
2025-01-13T19:12:33.0499020Z         ----------
2025-01-13T19:12:33.0499810Z         model : tardis.model.SimulationState
2025-01-13T19:12:33.0500180Z     
2025-01-13T19:12:33.0500540Z         Returns
2025-01-13T19:12:33.0500730Z         -------
2025-01-13T19:12:33.0501220Z         Numpy array containing ( 1 - exp(-tau_ul) ) S_ul ordered by wavelength of the transition u -> l
2025-01-13T19:12:33.0501650Z         """
2025-01-13T19:12:33.0502830Z     
2025-01-13T19:12:33.0504260Z         simulation_state = self.simulation_state
2025-01-13T19:12:33.0504580Z         # slice for the active shells
2025-01-13T19:12:33.0504970Z         local_slice = slice(
2025-01-13T19:12:33.0506220Z             simulation_state.geometry.v_inner_boundary_index,
2025-01-13T19:12:33.0507940Z             simulation_state.geometry.v_outer_boundary_index,
2025-01-13T19:12:33.0508220Z         )
2025-01-13T19:12:33.0508560Z     
2025-01-13T19:12:33.0509440Z         transport = self.transport
2025-01-13T19:12:33.0510230Z         montecarlo_transport_state = transport.transport_state
2025-01-13T19:12:33.0510850Z         transition_probabilities = (
2025-01-13T19:12:33.0511940Z >           self.original_plasma.transition_probabilities.iloc[:, local_slice]
2025-01-13T19:12:33.0512550Z         )
2025-01-13T19:12:33.0515550Z E       AttributeError: 'FormalIntegrator' object has no attribute 'original_plasma'
2025-01-13T19:12:33.0517350Z 
2025-01-13T19:12:33.0517590Z tardis/spectrum/formal_integral.py:448: AttributeError
2025-01-13T19:12:33.0517810Z 
2025-01-13T19:12:33.0518020Z During handling of the above exception, another exception occurred:
2025-01-13T19:12:33.0518920Z 
2025-01-13T19:12:33.0519300Z hdf_file_path = '/private/var/folders/ml/x_tvfgn50_s7p67dm1ypcqqm0000gn/T/pytest-of-runner/pytest-0/hdf_buffer0/test.hdf'
2025-01-13T19:12:33.0521610Z simulation_verysimple = <tardis.simulation.base.Simulation object at 0x144f42390>
2025-01-13T19:12:33.0522470Z 
2025-01-13T19:12:33.0522580Z     @pytest.fixture(scope="class")
2025-01-13T19:12:33.0523350Z     def hdf_shell_info(hdf_file_path, simulation_verysimple):
2025-01-13T19:12:33.0523810Z >       simulation_verysimple.to_hdf(
2025-01-13T19:12:33.0524520Z             hdf_file_path, overwrite=True
2025-01-13T19:12:33.0525470Z         )  # save sim at hdf_file_path
2025-01-13T19:12:33.0525660Z 
2025-01-13T19:12:33.0525930Z tardis/visualization/widgets/tests/test_shell_info.py:33: 
2025-01-13T19:12:33.0527390Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-01-13T19:12:33.0528290Z tardis/io/util.py:337: in to_hdf
2025-01-13T19:12:33.0529110Z     self.to_hdf_util(file_path_or_buf, buff_path, data, overwrite)
2025-01-13T19:12:33.0529870Z tardis/io/util.py:289: in to_hdf_util
2025-01-13T19:12:33.0530670Z     data.to_hdf(buf, key=os.path.join(path, key))
2025-01-13T19:12:33.0531170Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/pandas/util/_decorators.py:333: in wrapper
2025-01-13T19:12:33.0531690Z     return func(*args, **kwargs)
2025-01-13T19:12:33.0532570Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/pandas/core/generic.py:2855: in to_hdf
2025-01-13T19:12:33.0533020Z     pytables.to_hdf(
2025-01-13T19:12:33.0534050Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/pandas/io/pytables.py:311: in to_hdf
2025-01-13T19:12:33.0534500Z     f(store)
2025-01-13T19:12:33.0534800Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/pandas/io/pytables.py:293: in <lambda>
2025-01-13T19:12:33.0536750Z     f = lambda store: store.put(
2025-01-13T19:12:33.0537140Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/pandas/io/pytables.py:1160: in put
2025-01-13T19:12:33.0537600Z     self._write_to_group(
2025-01-13T19:12:33.0538050Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/pandas/io/pytables.py:1858: in _write_to_group
2025-01-13T19:12:33.0538510Z     s.write(
2025-01-13T19:12:33.0538990Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/pandas/io/pytables.py:3333: in write
2025-01-13T19:12:33.0539530Z     self.write_array(f"block{i}_values", blk.values, items=blk_items)
2025-01-13T19:12:33.0540110Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/pandas/io/pytables.py:3172: in write_array
2025-01-13T19:12:33.0540610Z     vlarr.append(value)
2025-01-13T19:12:33.0541050Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/tables/vlarray.py:510: in append
2025-01-13T19:12:33.0541550Z     sequence = atom.toarray(sequence)
2025-01-13T19:12:33.0541920Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/tables/atom.py:1040: in toarray
2025-01-13T19:12:33.0542260Z     buffer_ = self._tobuffer(object_)
2025-01-13T19:12:33.0542490Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-01-13T19:12:33.0542660Z 
2025-01-13T19:12:33.0542740Z self = ObjectAtom()
2025-01-13T19:12:33.0543160Z object_ = array([[<tardis.spectrum.base.SpectrumSolver object at 0x144f423f0>]],
2025-01-13T19:12:33.0543510Z       dtype=object)
2025-01-13T19:12:33.0543750Z 
2025-01-13T19:12:33.0543870Z     def _tobuffer(self, object_):
2025-01-13T19:12:33.0544160Z >       return pickle.dumps(object_, pickle.HIGHEST_PROTOCOL)
2025-01-13T19:12:33.0545780Z E       TypeError: cannot pickle 'PacketCollection' object
2025-01-13T19:12:33.0546020Z 
2025-01-13T19:12:33.0546230Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/tables/atom.py:1173: TypeError
2025-01-13T19:12:33.0546830Z ________ ERROR at setup of TestHDFShellInfo.test_element_count_data[1] _________
2025-01-13T19:12:33.0547050Z 
2025-01-13T19:12:33.0547380Z path_or_buf = '/private/var/folders/ml/x_tvfgn50_s7p67dm1ypcqqm0000gn/T/pytest-of-runner/pytest-0/hdf_buffer0/test.hdf'
2025-01-13T19:12:33.0547860Z path = 'simulation'
2025-01-13T19:12:33.0548230Z elements = {'iterations_electron_densities': array([[2.86954465e+09, 2.18528594e+09, 1.68079721e+09, 1.30480386e+09,
2025-01-13T19:12:33.0548660Z         1.02...      , 0.        , 0.        , 0.        ,
2025-01-13T19:12:33.0548960Z         0.        , 0.        , 0.        , 0.        , 0.        ]]), ...}
2025-01-13T19:12:33.0549310Z overwrite = True, complevel = 9, complib = 'blosc'
2025-01-13T19:12:33.0549480Z 
2025-01-13T19:12:33.0549580Z     @staticmethod
2025-01-13T19:12:33.0549830Z     def to_hdf_util(
2025-01-13T19:12:33.0550130Z         path_or_buf, path, elements, overwrite, complevel=9, complib="blosc"
2025-01-13T19:12:33.0550500Z     ):
2025-01-13T19:12:33.0550670Z         """
2025-01-13T19:12:33.0550910Z         A function to uniformly store TARDIS data to an HDF file.
2025-01-13T19:12:33.0551200Z     
2025-01-13T19:12:33.0551420Z         Scalars will be stored in a Series under path/scalars
2025-01-13T19:12:33.0551730Z         1D arrays will be stored under path/property_name as distinct Series
2025-01-13T19:12:33.0552090Z         2D arrays will be stored under path/property_name as distinct DataFrames
2025-01-13T19:12:33.0552370Z     
2025-01-13T19:12:33.0552500Z         Units will be stored as their CGS value
2025-01-13T19:12:33.0552690Z     
2025-01-13T19:12:33.0552810Z         Parameters
2025-01-13T19:12:33.0552950Z         ----------
2025-01-13T19:12:33.0553190Z         path_or_buf : str or pandas.io.pytables.HDFStore
2025-01-13T19:12:33.0553510Z             Path or buffer to the HDF file
2025-01-13T19:12:33.0553990Z         path : str
2025-01-13T19:12:33.0554220Z             Path inside the HDF file to store the `elements`
2025-01-13T19:12:33.0554490Z         elements : dict
2025-01-13T19:12:33.0554710Z             A dict of property names and their values to be
2025-01-13T19:12:33.0554940Z             stored.
2025-01-13T19:12:33.0555140Z         overwrite : bool
2025-01-13T19:12:33.0555450Z             If the HDF file path already exists, whether to overwrite it or not
2025-01-13T19:12:33.0555790Z     
2025-01-13T19:12:33.0555900Z         Notes
2025-01-13T19:12:33.0556050Z         -----
2025-01-13T19:12:33.0556270Z         `overwrite` option doesn't have any effect when `path_or_buf` is an
2025-01-13T19:12:33.0556610Z         HDFStore because the user decides on the mode in which they have
2025-01-13T19:12:33.0556880Z         opened the HDFStore ('r', 'w' or 'a').
2025-01-13T19:12:33.0559920Z         """
2025-01-13T19:12:33.0560080Z         if (
2025-01-13T19:12:33.0560250Z             isinstance(path_or_buf, str)
2025-01-13T19:12:33.0561640Z             and os.path.exists(path_or_buf)
2025-01-13T19:12:33.0562570Z             and not overwrite
2025-01-13T19:12:33.0562780Z         ):
2025-01-13T19:12:33.0562930Z             raise FileExistsError(
2025-01-13T19:12:33.0563200Z                 "The specified HDF file already exists. If you still want "
2025-01-13T19:12:33.0564210Z                 "to overwrite it, set function parameter overwrite=True"
2025-01-13T19:12:33.0564860Z             )
2025-01-13T19:12:33.0565260Z     
2025-01-13T19:12:33.0565640Z         else:
2025-01-13T19:12:33.0566450Z             try:  # when path_or_buf is a str, the HDFStore should get created
2025-01-13T19:12:33.0567290Z                 buf = pd.HDFStore(
2025-01-13T19:12:33.0568760Z                     path_or_buf, complevel=complevel, complib=complib
2025-01-13T19:12:33.0569860Z                 )
2025-01-13T19:12:33.0570310Z             except TypeError as e:
2025-01-13T19:12:33.0570960Z                 if str(e) == "Expected bytes, got HDFStore":
2025-01-13T19:12:33.0571700Z                     # when path_or_buf is an HDFStore buffer instead
2025-01-13T19:12:33.0575380Z                     logger.debug(
2025-01-13T19:12:33.0575660Z                         "Expected bytes, got HDFStore. Changing path to HDF buffer"
2025-01-13T19:12:33.0575910Z                     )
2025-01-13T19:12:33.0576070Z                     buf = path_or_buf
2025-01-13T19:12:33.0576250Z                 else:
2025-01-13T19:12:33.0576400Z                     raise e
2025-01-13T19:12:33.0576550Z     
2025-01-13T19:12:33.0576670Z         if not buf.is_open:
2025-01-13T19:12:33.0576850Z             buf.open()
2025-01-13T19:12:33.0577010Z     
2025-01-13T19:12:33.0577120Z         scalars = {}
2025-01-13T19:12:33.0577330Z         for key, value in elements.items():
2025-01-13T19:12:33.0577540Z             if value is None:
2025-01-13T19:12:33.0577710Z                 value = "none"
2025-01-13T19:12:33.0577890Z             if hasattr(value, "cgs"):
2025-01-13T19:12:33.0578110Z                 value = value.cgs.value
2025-01-13T19:12:33.0578300Z             if np.isscalar(value):
2025-01-13T19:12:33.0578500Z                 scalars[key] = value
2025-01-13T19:12:33.0578700Z             elif hasattr(value, "shape"):
2025-01-13T19:12:33.0578890Z                 if value.ndim == 1:
2025-01-13T19:12:33.0579200Z                     # This try,except block is only for model.plasma.levels
2025-01-13T19:12:33.0579460Z                     try:
2025-01-13T19:12:33.0579630Z                         pd.Series(value).to_hdf(
2025-01-13T19:12:33.0579860Z                             buf, key=os.path.join(path, key)
2025-01-13T19:12:33.0580070Z                         )
2025-01-13T19:12:33.0580240Z                     except NotImplementedError:
2025-01-13T19:12:33.0580450Z                         logger.debug(
2025-01-13T19:12:33.0580760Z                             "Could not convert SERIES to HDF. Converting DATAFRAME to HDF"
2025-01-13T19:12:33.0581020Z                         )
2025-01-13T19:12:33.0581890Z                         pd.DataFrame(value).to_hdf(
2025-01-13T19:12:33.0582170Z                             buf, key=os.path.join(path, key)
2025-01-13T19:12:33.0582620Z                         )
2025-01-13T19:12:33.0582850Z                 else:
2025-01-13T19:12:33.0583090Z                     pd.DataFrame(value).to_hdf(buf, key=os.path.join(path, key))
2025-01-13T19:12:33.0583440Z             else:  # value is a TARDIS object like model, transport or plasma
2025-01-13T19:12:33.0583760Z                 try:
2025-01-13T19:12:33.0584260Z >                   value.to_hdf(buf, path, name=key, overwrite=overwrite)
2025-01-13T19:12:33.0584530Z 
2025-01-13T19:12:33.0584590Z tardis/io/util.py:283: 
2025-01-13T19:12:33.0598710Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-01-13T19:12:33.0599580Z tardis/io/util.py:335: in to_hdf
2025-01-13T19:12:33.0600370Z     data = self.get_properties()
2025-01-13T19:12:33.0601200Z tardis/io/util.py:298: in get_properties
2025-01-13T19:12:33.0602460Z     data = {name: getattr(self, name) for name in self.full_hdf_properties}
2025-01-13T19:12:33.0603910Z tardis/spectrum/base.py:87: in spectrum_integrated
2025-01-13T19:12:33.0604880Z     self._spectrum_integrated = self.integrator.calculate_spectrum(
2025-01-13T19:12:33.0606440Z tardis/spectrum/formal_integral.py:405: in calculate_spectrum
2025-01-13T19:12:33.0607680Z     luminosity = u.Quantity(self.formal_integral(frequency, N), "erg") * (
2025-01-13T19:12:33.0608810Z tardis/spectrum/formal_integral.py:658: in formal_integral
2025-01-13T19:12:33.0609950Z     res = self.make_source_function()
2025-01-13T19:12:33.0610750Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-01-13T19:12:33.0612200Z 
2025-01-13T19:12:33.0612700Z self = <tardis.spectrum.formal_integral.FormalIntegrator object at 0x1451141d0>
2025-01-13T19:12:33.0613530Z 
2025-01-13T19:12:33.0613830Z     def make_source_function(self):
2025-01-13T19:12:33.0614370Z         """
2025-01-13T19:12:33.0615140Z         Calculates the source function using the line absorption rate estimator `Edotlu_estimator`
2025-01-13T19:12:33.0616720Z     
2025-01-13T19:12:33.0617520Z         Formally it calculates the expression ( 1 - exp(-tau_ul) ) S_ul but this product is what we need later,
2025-01-13T19:12:33.0618590Z         so there is no need to factor out the source function explicitly.
2025-01-13T19:12:33.0619440Z     
2025-01-13T19:12:33.0619580Z         Parameters
2025-01-13T19:12:33.0619730Z         ----------
2025-01-13T19:12:33.0619900Z         model : tardis.model.SimulationState
2025-01-13T19:12:33.0620090Z     
2025-01-13T19:12:33.0620200Z         Returns
2025-01-13T19:12:33.0620320Z         -------
2025-01-13T19:12:33.0622990Z         Numpy array containing ( 1 - exp(-tau_ul) ) S_ul ordered by wavelength of the transition u -> l
2025-01-13T19:12:33.0624550Z         """
2025-01-13T19:12:33.0624790Z     
2025-01-13T19:12:33.0624950Z         simulation_state = self.simulation_state
2025-01-13T19:12:33.0625370Z         # slice for the active shells
2025-01-13T19:12:33.0625690Z         local_slice = slice(
2025-01-13T19:12:33.0625980Z             simulation_state.geometry.v_inner_boundary_index,
2025-01-13T19:12:33.0626470Z             simulation_state.geometry.v_outer_boundary_index,
2025-01-13T19:12:33.0626710Z         )
2025-01-13T19:12:33.0626880Z     
2025-01-13T19:12:33.0627330Z         transport = self.transport
2025-01-13T19:12:33.0627670Z         montecarlo_transport_state = transport.transport_state
2025-01-13T19:12:33.0627980Z         transition_probabilities = (
2025-01-13T19:12:33.0628380Z >           self.original_plasma.transition_probabilities.iloc[:, local_slice]
2025-01-13T19:12:33.0628700Z         )
2025-01-13T19:12:33.0629050Z E       AttributeError: 'FormalIntegrator' object has no attribute 'original_plasma'
2025-01-13T19:12:33.0629390Z 
2025-01-13T19:12:33.0629650Z tardis/spectrum/formal_integral.py:448: AttributeError
2025-01-13T19:12:33.0629840Z 
2025-01-13T19:12:33.0631290Z During handling of the above exception, another exception occurred:
2025-01-13T19:12:33.0631540Z 
2025-01-13T19:12:33.0632090Z hdf_file_path = '/private/var/folders/ml/x_tvfgn50_s7p67dm1ypcqqm0000gn/T/pytest-of-runner/pytest-0/hdf_buffer0/test.hdf'
2025-01-13T19:12:33.0632830Z simulation_verysimple = <tardis.simulation.base.Simulation object at 0x144f42390>
2025-01-13T19:12:33.0633090Z 
2025-01-13T19:12:33.0633160Z     @pytest.fixture(scope="class")
2025-01-13T19:12:33.0633400Z     def hdf_shell_info(hdf_file_path, simulation_verysimple):
2025-01-13T19:12:33.0633640Z >       simulation_verysimple.to_hdf(
2025-01-13T19:12:33.0634030Z             hdf_file_path, overwrite=True
2025-01-13T19:12:33.0634230Z         )  # save sim at hdf_file_path
2025-01-13T19:12:33.0634370Z 
2025-01-13T19:12:33.0634490Z tardis/visualization/widgets/tests/test_shell_info.py:33: 
2025-01-13T19:12:33.0635250Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-01-13T19:12:33.0635490Z tardis/io/util.py:337: in to_hdf
2025-01-13T19:12:33.0635730Z     self.to_hdf_util(file_path_or_buf, buff_path, data, overwrite)
2025-01-13T19:12:33.0636140Z tardis/io/util.py:289: in to_hdf_util
2025-01-13T19:12:33.0636360Z     data.to_hdf(buf, key=os.path.join(path, key))
2025-01-13T19:12:33.0636850Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/pandas/util/_decorators.py:333: in wrapper
2025-01-13T19:12:33.0637200Z     return func(*args, **kwargs)
2025-01-13T19:12:33.0637540Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/pandas/core/generic.py:2855: in to_hdf
2025-01-13T19:12:33.0637880Z     pytables.to_hdf(
2025-01-13T19:12:33.0638280Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/pandas/io/pytables.py:311: in to_hdf
2025-01-13T19:12:33.0640090Z     f(store)
2025-01-13T19:12:33.0640450Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/pandas/io/pytables.py:293: in <lambda>
2025-01-13T19:12:33.0641860Z     f = lambda store: store.put(
2025-01-13T19:12:33.0643500Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/pandas/io/pytables.py:1160: in put
2025-01-13T19:12:33.0643910Z     self._write_to_group(
2025-01-13T19:12:33.0645450Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/pandas/io/pytables.py:1858: in _write_to_group
2025-01-13T19:12:33.0646570Z     s.write(
2025-01-13T19:12:33.0646920Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/pandas/io/pytables.py:3333: in write
2025-01-13T19:12:33.0647740Z     self.write_array(f"block{i}_values", blk.values, items=blk_items)
2025-01-13T19:12:33.0648240Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/pandas/io/pytables.py:3172: in write_array
2025-01-13T19:12:33.0648770Z     vlarr.append(value)
2025-01-13T19:12:33.0649160Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/tables/vlarray.py:510: in append
2025-01-13T19:12:33.0649540Z     sequence = atom.toarray(sequence)
2025-01-13T19:12:33.0649870Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/tables/atom.py:1040: in toarray
2025-01-13T19:12:33.0650550Z     buffer_ = self._tobuffer(object_)
2025-01-13T19:12:33.0650790Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-01-13T19:12:33.0650950Z 
2025-01-13T19:12:33.0651030Z self = ObjectAtom()
2025-01-13T19:12:33.0651450Z object_ = array([[<tardis.spectrum.base.SpectrumSolver object at 0x144f423f0>]],
2025-01-13T19:12:33.0651880Z       dtype=object)
2025-01-13T19:12:33.0651970Z 
2025-01-13T19:12:33.0652050Z     def _tobuffer(self, object_):
2025-01-13T19:12:33.0652320Z >       return pickle.dumps(object_, pickle.HIGHEST_PROTOCOL)
2025-01-13T19:12:33.0652720Z E       TypeError: cannot pickle 'PacketCollection' object
2025-01-13T19:12:33.0653000Z 
2025-01-13T19:12:33.0653300Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/tables/atom.py:1173: TypeError
2025-01-13T19:12:33.0653970Z ________ ERROR at setup of TestHDFShellInfo.test_element_count_data[20] ________
2025-01-13T19:12:33.0654260Z 
2025-01-13T19:12:33.0655200Z path_or_buf = '/private/var/folders/ml/x_tvfgn50_s7p67dm1ypcqqm0000gn/T/pytest-of-runner/pytest-0/hdf_buffer0/test.hdf'
2025-01-13T19:12:33.0656190Z path = 'simulation'
2025-01-13T19:12:33.0656540Z elements = {'iterations_electron_densities': array([[2.86954465e+09, 2.18528594e+09, 1.68079721e+09, 1.30480386e+09,
2025-01-13T19:12:33.0656920Z         1.02...      , 0.        , 0.        , 0.        ,
2025-01-13T19:12:33.0657180Z         0.        , 0.        , 0.        , 0.        , 0.        ]]), ...}
2025-01-13T19:12:33.0657430Z overwrite = True, complevel = 9, complib = 'blosc'
2025-01-13T19:12:33.0657810Z 
2025-01-13T19:12:33.0657890Z     @staticmethod
2025-01-13T19:12:33.0658040Z     def to_hdf_util(
2025-01-13T19:12:33.0658270Z         path_or_buf, path, elements, overwrite, complevel=9, complib="blosc"
2025-01-13T19:12:33.0658510Z     ):
2025-01-13T19:12:33.0658630Z         """
2025-01-13T19:12:33.0658860Z         A function to uniformly store TARDIS data to an HDF file.
2025-01-13T19:12:33.0659210Z     
2025-01-13T19:12:33.0659380Z         Scalars will be stored in a Series under path/scalars
2025-01-13T19:12:33.0659930Z         1D arrays will be stored under path/property_name as distinct Series
2025-01-13T19:12:33.0660290Z         2D arrays will be stored under path/property_name as distinct DataFrames
2025-01-13T19:12:33.0660630Z     
2025-01-13T19:12:33.0661160Z         Units will be stored as their CGS value
2025-01-13T19:12:33.0661430Z     
2025-01-13T19:12:33.0661590Z         Parameters
2025-01-13T19:12:33.0661730Z         ----------
2025-01-13T19:12:33.0661920Z         path_or_buf : str or pandas.io.pytables.HDFStore
2025-01-13T19:12:33.0662240Z             Path or buffer to the HDF file
2025-01-13T19:12:33.0662490Z         path : str
2025-01-13T19:12:33.0662910Z             Path inside the HDF file to store the `elements`
2025-01-13T19:12:33.0663180Z         elements : dict
2025-01-13T19:12:33.0663430Z             A dict of property names and their values to be
2025-01-13T19:12:33.0663870Z             stored.
2025-01-13T19:12:33.0664040Z         overwrite : bool
2025-01-13T19:12:33.0664260Z             If the HDF file path already exists, whether to overwrite it or not
2025-01-13T19:12:33.0664540Z     
2025-01-13T19:12:33.0664780Z         Notes
2025-01-13T19:12:33.0664950Z         -----
2025-01-13T19:12:33.0665190Z         `overwrite` option doesn't have any effect when `path_or_buf` is an
2025-01-13T19:12:33.0665590Z         HDFStore because the user decides on the mode in which they have
2025-01-13T19:12:33.0665910Z         opened the HDFStore ('r', 'w' or 'a').
2025-01-13T19:12:33.0666130Z         """
2025-01-13T19:12:33.0666270Z         if (
2025-01-13T19:12:33.0666440Z             isinstance(path_or_buf, str)
2025-01-13T19:12:33.0666660Z             and os.path.exists(path_or_buf)
2025-01-13T19:12:33.0666880Z             and not overwrite
2025-01-13T19:12:33.0667050Z         ):
2025-01-13T19:12:33.0667180Z             raise FileExistsError(
2025-01-13T19:12:33.0667460Z                 "The specified HDF file already exists. If you still want "
2025-01-13T19:12:33.0667770Z                 "to overwrite it, set function parameter overwrite=True"
2025-01-13T19:12:33.0668050Z             )
2025-01-13T19:12:33.0668170Z     
2025-01-13T19:12:33.0668310Z         else:
2025-01-13T19:12:33.0668560Z             try:  # when path_or_buf is a str, the HDFStore should get created
2025-01-13T19:12:33.0668830Z                 buf = pd.HDFStore(
2025-01-13T19:12:33.0669050Z                     path_or_buf, complevel=complevel, complib=complib
2025-01-13T19:12:33.0669280Z                 )
2025-01-13T19:12:33.0669440Z             except TypeError as e:
2025-01-13T19:12:33.0669680Z                 if str(e) == "Expected bytes, got HDFStore":
2025-01-13T19:12:33.0669980Z                     # when path_or_buf is an HDFStore buffer instead
2025-01-13T19:12:33.0670240Z                     logger.debug(
2025-01-13T19:12:33.0670520Z                         "Expected bytes, got HDFStore. Changing path to HDF buffer"
2025-01-13T19:12:33.0671020Z                     )
2025-01-13T19:12:33.0671190Z                     buf = path_or_buf
2025-01-13T19:12:33.0671370Z                 else:
2025-01-13T19:12:33.0671510Z                     raise e
2025-01-13T19:12:33.0671650Z     
2025-01-13T19:12:33.0671790Z         if not buf.is_open:
2025-01-13T19:12:33.0671950Z             buf.open()
2025-01-13T19:12:33.0672090Z     
2025-01-13T19:12:33.0672220Z         scalars = {}
2025-01-13T19:12:33.0672390Z         for key, value in elements.items():
2025-01-13T19:12:33.0672590Z             if value is None:
2025-01-13T19:12:33.0672760Z                 value = "none"
2025-01-13T19:12:33.0672930Z             if hasattr(value, "cgs"):
2025-01-13T19:12:33.0673120Z                 value = value.cgs.value
2025-01-13T19:12:33.0673310Z             if np.isscalar(value):
2025-01-13T19:12:33.0673490Z                 scalars[key] = value
2025-01-13T19:12:33.0673710Z             elif hasattr(value, "shape"):
2025-01-13T19:12:33.0673900Z                 if value.ndim == 1:
2025-01-13T19:12:33.0674170Z                     # This try,except block is only for model.plasma.levels
2025-01-13T19:12:33.0674760Z                     try:
2025-01-13T19:12:33.0674940Z                         pd.Series(value).to_hdf(
2025-01-13T19:12:33.0675630Z                             buf, key=os.path.join(path, key)
2025-01-13T19:12:33.0675850Z                         )
2025-01-13T19:12:33.0676030Z                     except NotImplementedError:
2025-01-13T19:12:33.0676240Z                         logger.debug(
2025-01-13T19:12:33.0676520Z                             "Could not convert SERIES to HDF. Converting DATAFRAME to HDF"
2025-01-13T19:12:33.0676780Z                         )
2025-01-13T19:12:33.0677120Z                         pd.DataFrame(value).to_hdf(
2025-01-13T19:12:33.0677360Z                             buf, key=os.path.join(path, key)
2025-01-13T19:12:33.0677580Z                         )
2025-01-13T19:12:33.0677720Z                 else:
2025-01-13T19:12:33.0677940Z                     pd.DataFrame(value).to_hdf(buf, key=os.path.join(path, key))
2025-01-13T19:12:33.0678350Z             else:  # value is a TARDIS object like model, transport or plasma
2025-01-13T19:12:33.0678600Z                 try:
2025-01-13T19:12:33.0678800Z >                   value.to_hdf(buf, path, name=key, overwrite=overwrite)
2025-01-13T19:12:33.0678970Z 
2025-01-13T19:12:33.0679030Z tardis/io/util.py:283: 
2025-01-13T19:12:33.0679230Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-01-13T19:12:33.0679460Z tardis/io/util.py:335: in to_hdf
2025-01-13T19:12:33.0679640Z     data = self.get_properties()
2025-01-13T19:12:33.0679830Z tardis/io/util.py:298: in get_properties
2025-01-13T19:12:33.0680130Z     data = {name: getattr(self, name) for name in self.full_hdf_properties}
2025-01-13T19:12:33.0680450Z tardis/spectrum/base.py:87: in spectrum_integrated
2025-01-13T19:12:33.0680790Z     self._spectrum_integrated = self.integrator.calculate_spectrum(
2025-01-13T19:12:33.0681130Z tardis/spectrum/formal_integral.py:405: in calculate_spectrum
2025-01-13T19:12:33.0681480Z     luminosity = u.Quantity(self.formal_integral(frequency, N), "erg") * (
2025-01-13T19:12:33.0681830Z tardis/spectrum/formal_integral.py:658: in formal_integral
2025-01-13T19:12:33.0682080Z     res = self.make_source_function()
2025-01-13T19:12:33.0682310Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-01-13T19:12:33.0682470Z 
2025-01-13T19:12:33.0682650Z self = <tardis.spectrum.formal_integral.FormalIntegrator object at 0x1451141d0>
2025-01-13T19:12:33.0682880Z 
2025-01-13T19:12:33.0682950Z     def make_source_function(self):
2025-01-13T19:12:33.0683150Z         """
2025-01-13T19:12:33.0683430Z         Calculates the source function using the line absorption rate estimator `Edotlu_estimator`
2025-01-13T19:12:33.0683750Z     
2025-01-13T19:12:33.0684220Z         Formally it calculates the expression ( 1 - exp(-tau_ul) ) S_ul but this product is what we need later,
2025-01-13T19:12:33.0684720Z         so there is no need to factor out the source function explicitly.
2025-01-13T19:12:33.0685010Z     
2025-01-13T19:12:33.0685150Z         Parameters
2025-01-13T19:12:33.0685300Z         ----------
2025-01-13T19:12:33.0685490Z         model : tardis.model.SimulationState
2025-01-13T19:12:33.0685740Z     
2025-01-13T19:12:33.0685860Z         Returns
2025-01-13T19:12:33.0686010Z         -------
2025-01-13T19:12:33.0686330Z         Numpy array containing ( 1 - exp(-tau_ul) ) S_ul ordered by wavelength of the transition u -> l
2025-01-13T19:12:33.0686690Z         """
2025-01-13T19:12:33.0686850Z     
2025-01-13T19:12:33.0687010Z         simulation_state = self.simulation_state
2025-01-13T19:12:33.0687270Z         # slice for the active shells
2025-01-13T19:12:33.0687470Z         local_slice = slice(
2025-01-13T19:12:33.0687680Z             simulation_state.geometry.v_inner_boundary_index,
2025-01-13T19:12:33.0687950Z             simulation_state.geometry.v_outer_boundary_index,
2025-01-13T19:12:33.0688180Z         )
2025-01-13T19:12:33.0688290Z     
2025-01-13T19:12:33.0688420Z         transport = self.transport
2025-01-13T19:12:33.0688660Z         montecarlo_transport_state = transport.transport_state
2025-01-13T19:12:33.0688900Z         transition_probabilities = (
2025-01-13T19:12:33.0689180Z >           self.original_plasma.transition_probabilities.iloc[:, local_slice]
2025-01-13T19:12:33.0689440Z         )
2025-01-13T19:12:33.0689680Z E       AttributeError: 'FormalIntegrator' object has no attribute 'original_plasma'
2025-01-13T19:12:33.0689920Z 
2025-01-13T19:12:33.0690050Z tardis/spectrum/formal_integral.py:448: AttributeError
2025-01-13T19:12:33.0690290Z 
2025-01-13T19:12:33.0690420Z During handling of the above exception, another exception occurred:
2025-01-13T19:12:33.0690710Z 
2025-01-13T19:12:33.0691010Z hdf_file_path = '/private/var/folders/ml/x_tvfgn50_s7p67dm1ypcqqm0000gn/T/pytest-of-runner/pytest-0/hdf_buffer0/test.hdf'
2025-01-13T19:12:33.0691570Z simulation_verysimple = <tardis.simulation.base.Simulation object at 0x144f42390>
2025-01-13T19:12:33.0691830Z 
2025-01-13T19:12:33.0691900Z     @pytest.fixture(scope="class")
2025-01-13T19:12:33.0692140Z     def hdf_shell_info(hdf_file_path, simulation_verysimple):
2025-01-13T19:12:33.0692390Z >       simulation_verysimple.to_hdf(
2025-01-13T19:12:33.0692600Z             hdf_file_path, overwrite=True
2025-01-13T19:12:33.0692790Z         )  # save sim at hdf_file_path
2025-01-13T19:12:33.0692920Z 
2025-01-13T19:12:33.0693040Z tardis/visualization/widgets/tests/test_shell_info.py:33: 
2025-01-13T19:12:33.0693320Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-01-13T19:12:33.0693540Z tardis/io/util.py:337: in to_hdf
2025-01-13T19:12:33.0693790Z     self.to_hdf_util(file_path_or_buf, buff_path, data, overwrite)
2025-01-13T19:12:33.0694040Z tardis/io/util.py:289: in to_hdf_util
2025-01-13T19:12:33.0694290Z     data.to_hdf(buf, key=os.path.join(path, key))
2025-01-13T19:12:33.0694750Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/pandas/util/_decorators.py:333: in wrapper
2025-01-13T19:12:33.0695130Z     return func(*args, **kwargs)
2025-01-13T19:12:33.0695630Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/pandas/core/generic.py:2855: in to_hdf
2025-01-13T19:12:33.0696040Z     pytables.to_hdf(
2025-01-13T19:12:33.0696400Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/pandas/io/pytables.py:311: in to_hdf
2025-01-13T19:12:33.0696770Z     f(store)
2025-01-13T19:12:33.0697150Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/pandas/io/pytables.py:293: in <lambda>
2025-01-13T19:12:33.0697550Z     f = lambda store: store.put(
2025-01-13T19:12:33.0697960Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/pandas/io/pytables.py:1160: in put
2025-01-13T19:12:33.0698620Z     self._write_to_group(
2025-01-13T19:12:33.0699080Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/pandas/io/pytables.py:1858: in _write_to_group
2025-01-13T19:12:33.0700230Z     s.write(
2025-01-13T19:12:33.0701510Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/pandas/io/pytables.py:3333: in write
2025-01-13T19:12:33.0702140Z     self.write_array(f"block{i}_values", blk.values, items=blk_items)
2025-01-13T19:12:33.0702720Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/pandas/io/pytables.py:3172: in write_array
2025-01-13T19:12:33.0727580Z     vlarr.append(value)
2025-01-13T19:12:33.0727900Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/tables/vlarray.py:510: in append
2025-01-13T19:12:33.0728260Z     sequence = atom.toarray(sequence)
2025-01-13T19:12:33.0728600Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/tables/atom.py:1040: in toarray
2025-01-13T19:12:33.0728950Z     buffer_ = self._tobuffer(object_)
2025-01-13T19:12:33.0729160Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-01-13T19:12:33.0729320Z 
2025-01-13T19:12:33.0729370Z self = ObjectAtom()
2025-01-13T19:12:33.0729620Z object_ = array([[<tardis.spectrum.base.SpectrumSolver object at 0x144f423f0>]],
2025-01-13T19:12:33.0729890Z       dtype=object)
2025-01-13T19:12:33.0729970Z 
2025-01-13T19:12:33.0730040Z     def _tobuffer(self, object_):
2025-01-13T19:12:33.0730260Z >       return pickle.dumps(object_, pickle.HIGHEST_PROTOCOL)
2025-01-13T19:12:33.0730560Z E       TypeError: cannot pickle 'PacketCollection' object
2025-01-13T19:12:33.0730740Z 
2025-01-13T19:12:33.0730930Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/tables/atom.py:1173: TypeError
2025-01-13T19:12:33.0731340Z _________ ERROR at setup of TestHDFShellInfo.test_ion_count_data[12-1] _________
2025-01-13T19:12:33.0731570Z 
2025-01-13T19:12:33.0732190Z path_or_buf = '/private/var/folders/ml/x_tvfgn50_s7p67dm1ypcqqm0000gn/T/pytest-of-runner/pytest-0/hdf_buffer0/test.hdf'
2025-01-13T19:12:33.0732590Z path = 'simulation'
2025-01-13T19:12:33.0732910Z elements = {'iterations_electron_densities': array([[2.86954465e+09, 2.18528594e+09, 1.68079721e+09, 1.30480386e+09,
2025-01-13T19:12:33.0733290Z         1.02...      , 0.        , 0.        , 0.        ,
2025-01-13T19:12:33.0733540Z         0.        , 0.        , 0.        , 0.        , 0.        ]]), ...}
2025-01-13T19:12:33.0733830Z overwrite = True, complevel = 9, complib = 'blosc'
2025-01-13T19:12:33.0734020Z 
2025-01-13T19:12:33.0734100Z     @staticmethod
2025-01-13T19:12:33.0734290Z     def to_hdf_util(
2025-01-13T19:12:33.0734580Z         path_or_buf, path, elements, overwrite, complevel=9, complib="blosc"
2025-01-13T19:12:33.0734850Z     ):
2025-01-13T19:12:33.0734990Z         """
2025-01-13T19:12:33.0735170Z         A function to uniformly store TARDIS data to an HDF file.
2025-01-13T19:12:33.0735420Z     
2025-01-13T19:12:33.0735620Z         Scalars will be stored in a Series under path/scalars
2025-01-13T19:12:33.0735990Z         1D arrays will be stored under path/property_name as distinct Series
2025-01-13T19:12:33.0736400Z         2D arrays will be stored under path/property_name as distinct DataFrames
2025-01-13T19:12:33.0736670Z     
2025-01-13T19:12:33.0736810Z         Units will be stored as their CGS value
2025-01-13T19:12:33.0736990Z     
2025-01-13T19:12:33.0737100Z         Parameters
2025-01-13T19:12:33.0737240Z         ----------
2025-01-13T19:12:33.0737410Z         path_or_buf : str or pandas.io.pytables.HDFStore
2025-01-13T19:12:33.0737630Z             Path or buffer to the HDF file
2025-01-13T19:12:33.0737800Z         path : str
2025-01-13T19:12:33.0737980Z             Path inside the HDF file to store the `elements`
2025-01-13T19:12:33.0738180Z         elements : dict
2025-01-13T19:12:33.0738360Z             A dict of property names and their values to be
2025-01-13T19:12:33.0738550Z             stored.
2025-01-13T19:12:33.0738690Z         overwrite : bool
2025-01-13T19:12:33.0738900Z             If the HDF file path already exists, whether to overwrite it or not
2025-01-13T19:12:33.0739130Z     
2025-01-13T19:12:33.0739240Z         Notes
2025-01-13T19:12:33.0739530Z         -----
2025-01-13T19:12:33.0739740Z         `overwrite` option doesn't have any effect when `path_or_buf` is an
2025-01-13T19:12:33.0740150Z         HDFStore because the user decides on the mode in which they have
2025-01-13T19:12:33.0740410Z         opened the HDFStore ('r', 'w' or 'a').
2025-01-13T19:12:33.0740620Z         """
2025-01-13T19:12:33.0740760Z         if (
2025-01-13T19:12:33.0740900Z             isinstance(path_or_buf, str)
2025-01-13T19:12:33.0741120Z             and os.path.exists(path_or_buf)
2025-01-13T19:12:33.0741320Z             and not overwrite
2025-01-13T19:12:33.0741520Z         ):
2025-01-13T19:12:33.0741710Z             raise FileExistsError(
2025-01-13T19:12:33.0742010Z                 "The specified HDF file already exists. If you still want "
2025-01-13T19:12:33.0742320Z                 "to overwrite it, set function parameter overwrite=True"
2025-01-13T19:12:33.0742540Z             )
2025-01-13T19:12:33.0742670Z     
2025-01-13T19:12:33.0742770Z         else:
2025-01-13T19:12:33.0742950Z             try:  # when path_or_buf is a str, the HDFStore should get created
2025-01-13T19:12:33.0743190Z                 buf = pd.HDFStore(
2025-01-13T19:12:33.0743400Z                     path_or_buf, complevel=complevel, complib=complib
2025-01-13T19:12:33.0743620Z                 )
2025-01-13T19:12:33.0743750Z             except TypeError as e:
2025-01-13T19:12:33.0743950Z                 if str(e) == "Expected bytes, got HDFStore":
2025-01-13T19:12:33.0744190Z                     # when path_or_buf is an HDFStore buffer instead
2025-01-13T19:12:33.0744400Z                     logger.debug(
2025-01-13T19:12:33.0744630Z                         "Expected bytes, got HDFStore. Changing path to HDF buffer"
2025-01-13T19:12:33.0744950Z                     )
2025-01-13T19:12:33.0745090Z                     buf = path_or_buf
2025-01-13T19:12:33.0745260Z                 else:
2025-01-13T19:12:33.0745390Z                     raise e
2025-01-13T19:12:33.0745530Z     
2025-01-13T19:12:33.0745640Z         if not buf.is_open:
2025-01-13T19:12:33.0745790Z             buf.open()
2025-01-13T19:12:33.0745940Z     
2025-01-13T19:12:33.0746050Z         scalars = {}
2025-01-13T19:12:33.0746200Z         for key, value in elements.items():
2025-01-13T19:12:33.0746420Z             if value is None:
2025-01-13T19:12:33.0746610Z                 value = "none"
2025-01-13T19:12:33.0746790Z             if hasattr(value, "cgs"):
2025-01-13T19:12:33.0746980Z                 value = value.cgs.value
2025-01-13T19:12:33.0747170Z             if np.isscalar(value):
2025-01-13T19:12:33.0747350Z                 scalars[key] = value
2025-01-13T19:12:33.0747530Z             elif hasattr(value, "shape"):
2025-01-13T19:12:33.0747720Z                 if value.ndim == 1:
2025-01-13T19:12:33.0747950Z                     # This try,except block is only for model.plasma.levels
2025-01-13T19:12:33.0748170Z                     try:
2025-01-13T19:12:33.0748330Z                         pd.Series(value).to_hdf(
2025-01-13T19:12:33.0748540Z                             buf, key=os.path.join(path, key)
2025-01-13T19:12:33.0748730Z                         )
2025-01-13T19:12:33.0748900Z                     except NotImplementedError:
2025-01-13T19:12:33.0749090Z                         logger.debug(
2025-01-13T19:12:33.0749340Z                             "Could not convert SERIES to HDF. Converting DATAFRAME to HDF"
2025-01-13T19:12:33.0749580Z                         )
2025-01-13T19:12:33.0749740Z                         pd.DataFrame(value).to_hdf(
2025-01-13T19:12:33.0749960Z                             buf, key=os.path.join(path, key)
2025-01-13T19:12:33.0750150Z                         )
2025-01-13T19:12:33.0750300Z                 else:
2025-01-13T19:12:33.0750520Z                     pd.DataFrame(value).to_hdf(buf, key=os.path.join(path, key))
2025-01-13T19:12:33.0750830Z             else:  # value is a TARDIS object like model, transport or plasma
2025-01-13T19:12:33.0751060Z                 try:
2025-01-13T19:12:33.0751410Z >                   value.to_hdf(buf, path, name=key, overwrite=overwrite)
2025-01-13T19:12:33.0751590Z 
2025-01-13T19:12:33.0751650Z tardis/io/util.py:283: 
2025-01-13T19:12:33.0751840Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-01-13T19:12:33.0752050Z tardis/io/util.py:335: in to_hdf
2025-01-13T19:12:33.0752230Z     data = self.get_properties()
2025-01-13T19:12:33.0752410Z tardis/io/util.py:298: in get_properties
2025-01-13T19:12:33.0752680Z     data = {name: getattr(self, name) for name in self.full_hdf_properties}
2025-01-13T19:12:33.0752990Z tardis/spectrum/base.py:87: in spectrum_integrated
2025-01-13T19:12:33.0753290Z     self._spectrum_integrated = self.integrator.calculate_spectrum(
2025-01-13T19:12:33.0753670Z tardis/spectrum/formal_integral.py:405: in calculate_spectrum
2025-01-13T19:12:33.0754050Z     luminosity = u.Quantity(self.formal_integral(frequency, N), "erg") * (
2025-01-13T19:12:33.0754450Z tardis/spectrum/formal_integral.py:658: in formal_integral
2025-01-13T19:12:33.0754750Z     res = self.make_source_function()
2025-01-13T19:12:33.0755030Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-01-13T19:12:33.0755220Z 
2025-01-13T19:12:33.0755410Z self = <tardis.spectrum.formal_integral.FormalIntegrator object at 0x1451141d0>
2025-01-13T19:12:33.0755670Z 
2025-01-13T19:12:33.0755730Z     def make_source_function(self):
2025-01-13T19:12:33.0755900Z         """
2025-01-13T19:12:33.0756160Z         Calculates the source function using the line absorption rate estimator `Edotlu_estimator`
2025-01-13T19:12:33.0756500Z     
2025-01-13T19:12:33.0756800Z         Formally it calculates the expression ( 1 - exp(-tau_ul) ) S_ul but this product is what we need later,
2025-01-13T19:12:33.0757330Z         so there is no need to factor out the source function explicitly.
2025-01-13T19:12:33.0757590Z     
2025-01-13T19:12:33.0757720Z         Parameters
2025-01-13T19:12:33.0757870Z         ----------
2025-01-13T19:12:33.0758040Z         model : tardis.model.SimulationState
2025-01-13T19:12:33.0758230Z     
2025-01-13T19:12:33.0758350Z         Returns
2025-01-13T19:12:33.0758500Z         -------
2025-01-13T19:12:33.0758760Z         Numpy array containing ( 1 - exp(-tau_ul) ) S_ul ordered by wavelength of the transition u -> l
2025-01-13T19:12:33.0759100Z         """
2025-01-13T19:12:33.0759210Z     
2025-01-13T19:12:33.0759350Z         simulation_state = self.simulation_state
2025-01-13T19:12:33.0759590Z         # slice for the active shells
2025-01-13T19:12:33.0759790Z         local_slice = slice(
2025-01-13T19:12:33.0760010Z             simulation_state.geometry.v_inner_boundary_index,
2025-01-13T19:12:33.0760310Z             simulation_state.geometry.v_outer_boundary_index,
2025-01-13T19:12:33.0760520Z         )
2025-01-13T19:12:33.0760630Z     
2025-01-13T19:12:33.0760750Z         transport = self.transport
2025-01-13T19:12:33.0761000Z         montecarlo_transport_state = transport.transport_state
2025-01-13T19:12:33.0761260Z         transition_probabilities = (
2025-01-13T19:12:33.0761560Z >           self.original_plasma.transition_probabilities.iloc[:, local_slice]
2025-01-13T19:12:33.0762570Z         )
2025-01-13T19:12:33.0762910Z E       AttributeError: 'FormalIntegrator' object has no attribute 'original_plasma'
2025-01-13T19:12:33.0763220Z 
2025-01-13T19:12:33.0763350Z tardis/spectrum/formal_integral.py:448: AttributeError
2025-01-13T19:12:33.0763530Z 
2025-01-13T19:12:33.0763660Z During handling of the above exception, another exception occurred:
2025-01-13T19:12:33.0763870Z 
2025-01-13T19:12:33.0764170Z hdf_file_path = '/private/var/folders/ml/x_tvfgn50_s7p67dm1ypcqqm0000gn/T/pytest-of-runner/pytest-0/hdf_buffer0/test.hdf'
2025-01-13T19:12:33.0764730Z simulation_verysimple = <tardis.simulation.base.Simulation object at 0x144f42390>
2025-01-13T19:12:33.0765010Z 
2025-01-13T19:12:33.0765070Z     @pytest.fixture(scope="class")
2025-01-13T19:12:33.0765330Z     def hdf_shell_info(hdf_file_path, simulation_verysimple):
2025-01-13T19:12:33.0765760Z >       simulation_verysimple.to_hdf(
2025-01-13T19:12:33.0765990Z             hdf_file_path, overwrite=True
2025-01-13T19:12:33.0766180Z         )  # save sim at hdf_file_path
2025-01-13T19:12:33.0766310Z 
2025-01-13T19:12:33.0766440Z tardis/visualization/widgets/tests/test_shell_info.py:33: 
2025-01-13T19:12:33.0766730Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-01-13T19:12:33.0766970Z tardis/io/util.py:337: in to_hdf
2025-01-13T19:12:33.0767230Z     self.to_hdf_util(file_path_or_buf, buff_path, data, overwrite)
2025-01-13T19:12:33.0767470Z tardis/io/util.py:289: in to_hdf_util
2025-01-13T19:12:33.0767690Z     data.to_hdf(buf, key=os.path.join(path, key))
2025-01-13T19:12:33.0768080Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/pandas/util/_decorators.py:333: in wrapper
2025-01-13T19:12:33.0768460Z     return func(*args, **kwargs)
2025-01-13T19:12:33.0768810Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/pandas/core/generic.py:2855: in to_hdf
2025-01-13T19:12:33.0769130Z     pytables.to_hdf(
2025-01-13T19:12:33.0769430Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/pandas/io/pytables.py:311: in to_hdf
2025-01-13T19:12:33.0769770Z     f(store)
2025-01-13T19:12:33.0770070Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/pandas/io/pytables.py:293: in <lambda>
2025-01-13T19:12:33.0770440Z     f = lambda store: store.put(
2025-01-13T19:12:33.0770810Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/pandas/io/pytables.py:1160: in put
2025-01-13T19:12:33.0771200Z     self._write_to_group(
2025-01-13T19:12:33.0771580Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/pandas/io/pytables.py:1858: in _write_to_group
2025-01-13T19:12:33.0772060Z     s.write(
2025-01-13T19:12:33.0772370Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/pandas/io/pytables.py:3333: in write
2025-01-13T19:12:33.0772850Z     self.write_array(f"block{i}_values", blk.values, items=blk_items)
2025-01-13T19:12:33.0773340Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/pandas/io/pytables.py:3172: in write_array
2025-01-13T19:12:33.0773690Z     vlarr.append(value)
2025-01-13T19:12:33.0773980Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/tables/vlarray.py:510: in append
2025-01-13T19:12:33.0774320Z     sequence = atom.toarray(sequence)
2025-01-13T19:12:33.0774640Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/tables/atom.py:1040: in toarray
2025-01-13T19:12:33.0774960Z     buffer_ = self._tobuffer(object_)
2025-01-13T19:12:33.0775180Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-01-13T19:12:33.0775360Z 
2025-01-13T19:12:33.0775410Z self = ObjectAtom()
2025-01-13T19:12:33.0775700Z object_ = array([[<tardis.spectrum.base.SpectrumSolver object at 0x144f423f0>]],
2025-01-13T19:12:33.0775980Z       dtype=object)
2025-01-13T19:12:33.0776070Z 
2025-01-13T19:12:33.0776130Z     def _tobuffer(self, object_):
2025-01-13T19:12:33.0776360Z >       return pickle.dumps(object_, pickle.HIGHEST_PROTOCOL)
2025-01-13T19:12:33.0776630Z E       TypeError: cannot pickle 'PacketCollection' object
2025-01-13T19:12:33.0776810Z 
2025-01-13T19:12:33.0776990Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/tables/atom.py:1173: TypeError
2025-01-13T19:12:33.0777420Z ________ ERROR at setup of TestHDFShellInfo.test_ion_count_data[20-20] _________
2025-01-13T19:12:33.0777640Z 
2025-01-13T19:12:33.0777910Z path_or_buf = '/private/var/folders/ml/x_tvfgn50_s7p67dm1ypcqqm0000gn/T/pytest-of-runner/pytest-0/hdf_buffer0/test.hdf'
2025-01-13T19:12:33.0778290Z path = 'simulation'
2025-01-13T19:12:33.0778610Z elements = {'iterations_electron_densities': array([[2.86954465e+09, 2.18528594e+09, 1.68079721e+09, 1.30480386e+09,
2025-01-13T19:12:33.0778970Z         1.02...      , 0.        , 0.        , 0.        ,
2025-01-13T19:12:33.0779200Z         0.        , 0.        , 0.        , 0.        , 0.        ]]), ...}
2025-01-13T19:12:33.0779680Z overwrite = True, complevel = 9, complib = 'blosc'
2025-01-13T19:12:33.0779870Z 
2025-01-13T19:12:33.0779920Z     @staticmethod
2025-01-13T19:12:33.0780060Z     def to_hdf_util(
2025-01-13T19:12:33.0780280Z         path_or_buf, path, elements, overwrite, complevel=9, complib="blosc"
2025-01-13T19:12:33.0780530Z     ):
2025-01-13T19:12:33.0780640Z         """
2025-01-13T19:12:33.0780840Z         A function to uniformly store TARDIS data to an HDF file.
2025-01-13T19:12:33.0781060Z     
2025-01-13T19:12:33.0781220Z         Scalars will be stored in a Series under path/scalars
2025-01-13T19:12:33.0781520Z         1D arrays will be stored under path/property_name as distinct Series
2025-01-13T19:12:33.0781860Z         2D arrays will be stored under path/property_name as distinct DataFrames
2025-01-13T19:12:33.0782120Z     
2025-01-13T19:12:33.0782280Z         Units will be stored as their CGS value
2025-01-13T19:12:33.0782470Z     
2025-01-13T19:12:33.0782570Z         Parameters
2025-01-13T19:12:33.0782710Z         ----------
2025-01-13T19:12:33.0782890Z         path_or_buf : str or pandas.io.pytables.HDFStore
2025-01-13T19:12:33.0783120Z             Path or buffer to the HDF file
2025-01-13T19:12:33.0783300Z         path : str
2025-01-13T19:12:33.0783480Z             Path inside the HDF file to store the `elements`
2025-01-13T19:12:33.0783690Z         elements : dict
2025-01-13T19:12:33.0783870Z             A dict of property names and their values to be
2025-01-13T19:12:33.0784080Z             stored.
2025-01-13T19:12:33.0784220Z         overwrite : bool
2025-01-13T19:12:33.0784440Z             If the HDF file path already exists, whether to overwrite it or not
2025-01-13T19:12:33.0784680Z     
2025-01-13T19:12:33.0784790Z         Notes
2025-01-13T19:12:33.0785210Z         -----
2025-01-13T19:12:33.0785460Z         `overwrite` option doesn't have any effect when `path_or_buf` is an
2025-01-13T19:12:33.0785800Z         HDFStore because the user decides on the mode in which they have
2025-01-13T19:12:33.0786090Z         opened the HDFStore ('r', 'w' or 'a').
2025-01-13T19:12:33.0786280Z         """
2025-01-13T19:12:33.0786390Z         if (
2025-01-13T19:12:33.0786530Z             isinstance(path_or_buf, str)
2025-01-13T19:12:33.0786720Z             and os.path.exists(path_or_buf)
2025-01-13T19:12:33.0786910Z             and not overwrite
2025-01-13T19:12:33.0787060Z         ):
2025-01-13T19:12:33.0787200Z             raise FileExistsError(
2025-01-13T19:12:33.0787440Z                 "The specified HDF file already exists. If you still want "
2025-01-13T19:12:33.0787730Z                 "to overwrite it, set function parameter overwrite=True"
2025-01-13T19:12:33.0787970Z             )
2025-01-13T19:12:33.0788090Z     
2025-01-13T19:12:33.0788200Z         else:
2025-01-13T19:12:33.0788400Z             try:  # when path_or_buf is a str, the HDFStore should get created
2025-01-13T19:12:33.0788640Z                 buf = pd.HDFStore(
2025-01-13T19:12:33.0788920Z                     path_or_buf, complevel=complevel, complib=complib
2025-01-13T19:12:33.0789150Z                 )
2025-01-13T19:12:33.0789290Z             except TypeError as e:
2025-01-13T19:12:33.0789500Z                 if str(e) == "Expected bytes, got HDFStore":
2025-01-13T19:12:33.0789770Z                     # when path_or_buf is an HDFStore buffer instead
2025-01-13T19:12:33.0790010Z                     logger.debug(
2025-01-13T19:12:33.0790250Z                         "Expected bytes, got HDFStore. Changing path to HDF buffer"
2025-01-13T19:12:33.0798330Z                     )
2025-01-13T19:12:33.0798550Z                     buf = path_or_buf
2025-01-13T19:12:33.0798730Z                 else:
2025-01-13T19:12:33.0798870Z                     raise e
2025-01-13T19:12:33.0799010Z     
2025-01-13T19:12:33.0799140Z         if not buf.is_open:
2025-01-13T19:12:33.0799290Z             buf.open()
2025-01-13T19:12:33.0799430Z     
2025-01-13T19:12:33.0799540Z         scalars = {}
2025-01-13T19:12:33.0799710Z         for key, value in elements.items():
2025-01-13T19:12:33.0800220Z             if value is None:
2025-01-13T19:12:33.0800400Z                 value = "none"
2025-01-13T19:12:33.0800580Z             if hasattr(value, "cgs"):
2025-01-13T19:12:33.0800770Z                 value = value.cgs.value
2025-01-13T19:12:33.0800950Z             if np.isscalar(value):
2025-01-13T19:12:33.0801130Z                 scalars[key] = value
2025-01-13T19:12:33.0801320Z             elif hasattr(value, "shape"):
2025-01-13T19:12:33.0801510Z                 if value.ndim == 1:
2025-01-13T19:12:33.0801740Z                     # This try,except block is only for model.plasma.levels
2025-01-13T19:12:33.0801970Z                     try:
2025-01-13T19:12:33.0802140Z                         pd.Series(value).to_hdf(
2025-01-13T19:12:33.0802360Z                             buf, key=os.path.join(path, key)
2025-01-13T19:12:33.0802660Z                         )
2025-01-13T19:12:33.0802830Z                     except NotImplementedError:
2025-01-13T19:12:33.0803030Z                         logger.debug(
2025-01-13T19:12:33.0803280Z                             "Could not convert SERIES to HDF. Converting DATAFRAME to HDF"
2025-01-13T19:12:33.0803540Z                         )
2025-01-13T19:12:33.0803710Z                         pd.DataFrame(value).to_hdf(
2025-01-13T19:12:33.0803960Z                             buf, key=os.path.join(path, key)
2025-01-13T19:12:33.0804160Z                         )
2025-01-13T19:12:33.0804300Z                 else:
2025-01-13T19:12:33.0804510Z                     pd.DataFrame(value).to_hdf(buf, key=os.path.join(path, key))
2025-01-13T19:12:33.0804830Z             else:  # value is a TARDIS object like model, transport or plasma
2025-01-13T19:12:33.0805070Z                 try:
2025-01-13T19:12:33.0805290Z >                   value.to_hdf(buf, path, name=key, overwrite=overwrite)
2025-01-13T19:12:33.0805620Z 
2025-01-13T19:12:33.0805680Z tardis/io/util.py:283: 
2025-01-13T19:12:33.0805870Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-01-13T19:12:33.0806110Z tardis/io/util.py:335: in to_hdf
2025-01-13T19:12:33.0806310Z     data = self.get_properties()
2025-01-13T19:12:33.0806490Z tardis/io/util.py:298: in get_properties
2025-01-13T19:12:33.0806760Z     data = {name: getattr(self, name) for name in self.full_hdf_properties}
2025-01-13T19:12:33.0807060Z tardis/spectrum/base.py:87: in spectrum_integrated
2025-01-13T19:12:33.0807350Z     self._spectrum_integrated = self.integrator.calculate_spectrum(
2025-01-13T19:12:33.0807670Z tardis/spectrum/formal_integral.py:405: in calculate_spectrum
2025-01-13T19:12:33.0808010Z     luminosity = u.Quantity(self.formal_integral(frequency, N), "erg") * (
2025-01-13T19:12:33.0808330Z tardis/spectrum/formal_integral.py:658: in formal_integral
2025-01-13T19:12:33.0808580Z     res = self.make_source_function()
2025-01-13T19:12:33.0808790Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-01-13T19:12:33.0808960Z 
2025-01-13T19:12:33.0809130Z self = <tardis.spectrum.formal_integral.FormalIntegrator object at 0x1451141d0>
2025-01-13T19:12:33.0809360Z 
2025-01-13T19:12:33.0809430Z     def make_source_function(self):
2025-01-13T19:12:33.0809600Z         """
2025-01-13T19:12:33.0809860Z         Calculates the source function using the line absorption rate estimator `Edotlu_estimator`
2025-01-13T19:12:33.0810170Z     
2025-01-13T19:12:33.0810450Z         Formally it calculates the expression ( 1 - exp(-tau_ul) ) S_ul but this product is what we need later,
2025-01-13T19:12:33.0810840Z         so there is no need to factor out the source function explicitly.
2025-01-13T19:12:33.0811080Z     
2025-01-13T19:12:33.0811190Z         Parameters
2025-01-13T19:12:33.0811320Z         ----------
2025-01-13T19:12:33.0811500Z         model : tardis.model.SimulationState
2025-01-13T19:12:33.0811700Z     
2025-01-13T19:12:33.0811810Z         Returns
2025-01-13T19:12:33.0811930Z         -------
2025-01-13T19:12:33.0812190Z         Numpy array containing ( 1 - exp(-tau_ul) ) S_ul ordered by wavelength of the transition u -> l
2025-01-13T19:12:33.0812610Z         """
2025-01-13T19:12:33.0812730Z     
2025-01-13T19:12:33.0812870Z         simulation_state = self.simulation_state
2025-01-13T19:12:33.0813100Z         # slice for the active shells
2025-01-13T19:12:33.0813290Z         local_slice = slice(
2025-01-13T19:12:33.0813490Z             simulation_state.geometry.v_inner_boundary_index,
2025-01-13T19:12:33.0813760Z             simulation_state.geometry.v_outer_boundary_index,
2025-01-13T19:12:33.0813960Z         )
2025-01-13T19:12:33.0814080Z     
2025-01-13T19:12:33.0814200Z         transport = self.transport
2025-01-13T19:12:33.0814430Z         montecarlo_transport_state = transport.transport_state
2025-01-13T19:12:33.0814670Z         transition_probabilities = (
2025-01-13T19:12:33.0814960Z >           self.original_plasma.transition_probabilities.iloc[:, local_slice]
2025-01-13T19:12:33.0815220Z         )
2025-01-13T19:12:33.0815460Z E       AttributeError: 'FormalIntegrator' object has no attribute 'original_plasma'
2025-01-13T19:12:33.0815700Z 
2025-01-13T19:12:33.0815820Z tardis/spectrum/formal_integral.py:448: AttributeError
2025-01-13T19:12:33.0815990Z 
2025-01-13T19:12:33.0816130Z During handling of the above exception, another exception occurred:
2025-01-13T19:12:33.0816330Z 
2025-01-13T19:12:33.0816610Z hdf_file_path = '/private/var/folders/ml/x_tvfgn50_s7p67dm1ypcqqm0000gn/T/pytest-of-runner/pytest-0/hdf_buffer0/test.hdf'
2025-01-13T19:12:33.0817130Z simulation_verysimple = <tardis.simulation.base.Simulation object at 0x144f42390>
2025-01-13T19:12:33.0817370Z 
2025-01-13T19:12:33.0817440Z     @pytest.fixture(scope="class")
2025-01-13T19:12:33.0817680Z     def hdf_shell_info(hdf_file_path, simulation_verysimple):
2025-01-13T19:12:33.0817940Z >       simulation_verysimple.to_hdf(
2025-01-13T19:12:33.0818260Z             hdf_file_path, overwrite=True
2025-01-13T19:12:33.0818460Z         )  # save sim at hdf_file_path
2025-01-13T19:12:33.0818610Z 
2025-01-13T19:12:33.0818740Z tardis/visualization/widgets/tests/test_shell_info.py:33: 
2025-01-13T19:12:33.0819020Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-01-13T19:12:33.0819240Z tardis/io/util.py:337: in to_hdf
2025-01-13T19:12:33.0819480Z     self.to_hdf_util(file_path_or_buf, buff_path, data, overwrite)
2025-01-13T19:12:33.0819730Z tardis/io/util.py:289: in to_hdf_util
2025-01-13T19:12:33.0819940Z     data.to_hdf(buf, key=os.path.join(path, key))
2025-01-13T19:12:33.0820320Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/pandas/util/_decorators.py:333: in wrapper
2025-01-13T19:12:33.0820670Z     return func(*args, **kwargs)
2025-01-13T19:12:33.0821000Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/pandas/core/generic.py:2855: in to_hdf
2025-01-13T19:12:33.0821330Z     pytables.to_hdf(
2025-01-13T19:12:33.0821640Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/pandas/io/pytables.py:311: in to_hdf
2025-01-13T19:12:33.0821980Z     f(store)
2025-01-13T19:12:33.0822280Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/pandas/io/pytables.py:293: in <lambda>
2025-01-13T19:12:33.0822620Z     f = lambda store: store.put(
2025-01-13T19:12:33.0822930Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/pandas/io/pytables.py:1160: in put
2025-01-13T19:12:33.0823280Z     self._write_to_group(
2025-01-13T19:12:33.0823610Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/pandas/io/pytables.py:1858: in _write_to_group
2025-01-13T19:12:33.0823960Z     s.write(
2025-01-13T19:12:33.0824240Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/pandas/io/pytables.py:3333: in write
2025-01-13T19:12:33.0824640Z     self.write_array(f"block{i}_values", blk.values, items=blk_items)
2025-01-13T19:12:33.0825050Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/pandas/io/pytables.py:3172: in write_array
2025-01-13T19:12:33.0825400Z     vlarr.append(value)
2025-01-13T19:12:33.0825840Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/tables/vlarray.py:510: in append
2025-01-13T19:12:33.0826200Z     sequence = atom.toarray(sequence)
2025-01-13T19:12:33.0826520Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/tables/atom.py:1040: in toarray
2025-01-13T19:12:33.0826900Z     buffer_ = self._tobuffer(object_)
2025-01-13T19:12:33.0827150Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-01-13T19:12:33.0827310Z 
2025-01-13T19:12:33.0827370Z self = ObjectAtom()
2025-01-13T19:12:33.0827630Z object_ = array([[<tardis.spectrum.base.SpectrumSolver object at 0x144f423f0>]],
2025-01-13T19:12:33.0827910Z       dtype=object)
2025-01-13T19:12:33.0827990Z 
2025-01-13T19:12:33.0828060Z     def _tobuffer(self, object_):
2025-01-13T19:12:33.0828300Z >       return pickle.dumps(object_, pickle.HIGHEST_PROTOCOL)
2025-01-13T19:12:33.0828620Z E       TypeError: cannot pickle 'PacketCollection' object
2025-01-13T19:12:33.0828790Z 
2025-01-13T19:12:33.0828980Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/tables/atom.py:1173: TypeError
2025-01-13T19:12:33.0829400Z _______ ERROR at setup of TestHDFShellInfo.test_level_count_data[2-12-1] _______
2025-01-13T19:12:33.0829620Z 
2025-01-13T19:12:33.0829880Z path_or_buf = '/private/var/folders/ml/x_tvfgn50_s7p67dm1ypcqqm0000gn/T/pytest-of-runner/pytest-0/hdf_buffer0/test.hdf'
2025-01-13T19:12:33.0830270Z path = 'simulation'
2025-01-13T19:12:33.0830590Z elements = {'iterations_electron_densities': array([[2.86954465e+09, 2.18528594e+09, 1.68079721e+09, 1.30480386e+09,
2025-01-13T19:12:33.0830960Z         1.02...      , 0.        , 0.        , 0.        ,
2025-01-13T19:12:33.0831230Z         0.        , 0.        , 0.        , 0.        , 0.        ]]), ...}
2025-01-13T19:12:33.0831480Z overwrite = True, complevel = 9, complib = 'blosc'
2025-01-13T19:12:33.0831780Z 
2025-01-13T19:12:33.0831830Z     @staticmethod
2025-01-13T19:12:33.0831970Z     def to_hdf_util(
2025-01-13T19:12:33.0832220Z         path_or_buf, path, elements, overwrite, complevel=9, complib="blosc"
2025-01-13T19:12:33.0832500Z     ):
2025-01-13T19:12:33.0832620Z         """
2025-01-13T19:12:33.0832850Z         A function to uniformly store TARDIS data to an HDF file.
2025-01-13T19:12:33.0833140Z     
2025-01-13T19:12:33.0833310Z         Scalars will be stored in a Series under path/scalars
2025-01-13T19:12:33.0833640Z         1D arrays will be stored under path/property_name as distinct Series
2025-01-13T19:12:33.0833990Z         2D arrays will be stored under path/property_name as distinct DataFrames
2025-01-13T19:12:33.0834240Z     
2025-01-13T19:12:33.0834380Z         Units will be stored as their CGS value
2025-01-13T19:12:33.0834560Z     
2025-01-13T19:12:33.0834670Z         Parameters
2025-01-13T19:12:33.0834800Z         ----------
2025-01-13T19:12:33.0834990Z         path_or_buf : str or pandas.io.pytables.HDFStore
2025-01-13T19:12:33.0835240Z             Path or buffer to the HDF file
2025-01-13T19:12:33.0835430Z         path : str
2025-01-13T19:12:33.0835630Z             Path inside the HDF file to store the `elements`
2025-01-13T19:12:33.0835840Z         elements : dict
2025-01-13T19:12:33.0836030Z             A dict of property names and their values to be
2025-01-13T19:12:33.0836240Z             stored.
2025-01-13T19:12:33.0836380Z         overwrite : bool
2025-01-13T19:12:33.0836600Z             If the HDF file path already exists, whether to overwrite it or not
2025-01-13T19:12:33.0836850Z     
2025-01-13T19:12:33.0836960Z         Notes
2025-01-13T19:12:33.0837090Z         -----
2025-01-13T19:12:33.0837290Z         `overwrite` option doesn't have any effect when `path_or_buf` is an
2025-01-13T19:12:33.0837630Z         HDFStore because the user decides on the mode in which they have
2025-01-13T19:12:33.0837890Z         opened the HDFStore ('r', 'w' or 'a').
2025-01-13T19:12:33.0838080Z         """
2025-01-13T19:12:33.0838200Z         if (
2025-01-13T19:12:33.0838340Z             isinstance(path_or_buf, str)
2025-01-13T19:12:33.0838540Z             and os.path.exists(path_or_buf)
2025-01-13T19:12:33.0839100Z             and not overwrite
2025-01-13T19:12:33.0839320Z         ):
2025-01-13T19:12:33.0839450Z             raise FileExistsError(
2025-01-13T19:12:33.0839680Z                 "The specified HDF file already exists. If you still want "
2025-01-13T19:12:33.0840250Z                 "to overwrite it, set function parameter overwrite=True"
2025-01-13T19:12:33.0840510Z             )
2025-01-13T19:12:33.0840620Z     
2025-01-13T19:12:33.0840760Z         else:
2025-01-13T19:12:33.0840980Z             try:  # when path_or_buf is a str, the HDFStore should get created
2025-01-13T19:12:33.0841250Z                 buf = pd.HDFStore(
2025-01-13T19:12:33.0841470Z                     path_or_buf, complevel=complevel, complib=complib
2025-01-13T19:12:33.0841700Z                 )
2025-01-13T19:12:33.0841840Z             except TypeError as e:
2025-01-13T19:12:33.0842070Z                 if str(e) == "Expected bytes, got HDFStore":
2025-01-13T19:12:33.0842320Z                     # when path_or_buf is an HDFStore buffer instead
2025-01-13T19:12:33.0842680Z                     logger.debug(
2025-01-13T19:12:33.0842920Z                         "Expected bytes, got HDFStore. Changing path to HDF buffer"
2025-01-13T19:12:33.0843180Z                     )
2025-01-13T19:12:33.0843340Z                     buf = path_or_buf
2025-01-13T19:12:33.0843520Z                 else:
2025-01-13T19:12:33.0843680Z                     raise e
2025-01-13T19:12:33.0843820Z     
2025-01-13T19:12:33.0843950Z         if not buf.is_open:
2025-01-13T19:12:33.0844100Z             buf.open()
2025-01-13T19:12:33.0844240Z     
2025-01-13T19:12:33.0844350Z         scalars = {}
2025-01-13T19:12:33.0844510Z         for key, value in elements.items():
2025-01-13T19:12:33.0844730Z             if value is None:
2025-01-13T19:12:33.0845450Z                 value = "none"
2025-01-13T19:12:33.0845640Z             if hasattr(value, "cgs"):
2025-01-13T19:12:33.0845850Z                 value = value.cgs.value
2025-01-13T19:12:33.0846070Z             if np.isscalar(value):
2025-01-13T19:12:33.0846280Z                 scalars[key] = value
2025-01-13T19:12:33.0846470Z             elif hasattr(value, "shape"):
2025-01-13T19:12:33.0846660Z                 if value.ndim == 1:
2025-01-13T19:12:33.0846900Z                     # This try,except block is only for model.plasma.levels
2025-01-13T19:12:33.0847140Z                     try:
2025-01-13T19:12:33.0847300Z                         pd.Series(value).to_hdf(
2025-01-13T19:12:33.0847520Z                             buf, key=os.path.join(path, key)
2025-01-13T19:12:33.0847720Z                         )
2025-01-13T19:12:33.0847880Z                     except NotImplementedError:
2025-01-13T19:12:33.0848090Z                         logger.debug(
2025-01-13T19:12:33.0848340Z                             "Could not convert SERIES to HDF. Converting DATAFRAME to HDF"
2025-01-13T19:12:33.0848590Z                         )
2025-01-13T19:12:33.0848780Z                         pd.DataFrame(value).to_hdf(
2025-01-13T19:12:33.0849030Z                             buf, key=os.path.join(path, key)
2025-01-13T19:12:33.0849220Z                         )
2025-01-13T19:12:33.0849370Z                 else:
2025-01-13T19:12:33.0849580Z                     pd.DataFrame(value).to_hdf(buf, key=os.path.join(path, key))
2025-01-13T19:12:33.0849900Z             else:  # value is a TARDIS object like model, transport or plasma
2025-01-13T19:12:33.0850160Z                 try:
2025-01-13T19:12:33.0850360Z >                   value.to_hdf(buf, path, name=key, overwrite=overwrite)
2025-01-13T19:12:33.0850540Z 
2025-01-13T19:12:33.0850600Z tardis/io/util.py:283: 
2025-01-13T19:12:33.0850780Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-01-13T19:12:33.0851000Z tardis/io/util.py:335: in to_hdf
2025-01-13T19:12:33.0851190Z     data = self.get_properties()
2025-01-13T19:12:33.0851380Z tardis/io/util.py:298: in get_properties
2025-01-13T19:12:33.0851650Z     data = {name: getattr(self, name) for name in self.full_hdf_properties}
2025-01-13T19:12:33.0852060Z tardis/spectrum/base.py:87: in spectrum_integrated
2025-01-13T19:12:33.0852360Z     self._spectrum_integrated = self.integrator.calculate_spectrum(
2025-01-13T19:12:33.0852690Z tardis/spectrum/formal_integral.py:405: in calculate_spectrum
2025-01-13T19:12:33.0853020Z     luminosity = u.Quantity(self.formal_integral(frequency, N), "erg") * (
2025-01-13T19:12:33.0853340Z tardis/spectrum/formal_integral.py:658: in formal_integral
2025-01-13T19:12:33.0853590Z     res = self.make_source_function()
2025-01-13T19:12:33.0853810Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-01-13T19:12:33.0853980Z 
2025-01-13T19:12:33.0854160Z self = <tardis.spectrum.formal_integral.FormalIntegrator object at 0x1451141d0>
2025-01-13T19:12:33.0854420Z 
2025-01-13T19:12:33.0854480Z     def make_source_function(self):
2025-01-13T19:12:33.0854660Z         """
2025-01-13T19:12:33.0854920Z         Calculates the source function using the line absorption rate estimator `Edotlu_estimator`
2025-01-13T19:12:33.0855230Z     
2025-01-13T19:12:33.0855510Z         Formally it calculates the expression ( 1 - exp(-tau_ul) ) S_ul but this product is what we need later,
2025-01-13T19:12:33.0855950Z         so there is no need to factor out the source function explicitly.
2025-01-13T19:12:33.0856190Z     
2025-01-13T19:12:33.0856300Z         Parameters
2025-01-13T19:12:33.0856440Z         ----------
2025-01-13T19:12:33.0856620Z         model : tardis.model.SimulationState
2025-01-13T19:12:33.0856830Z     
2025-01-13T19:12:33.0856940Z         Returns
2025-01-13T19:12:33.0857060Z         -------
2025-01-13T19:12:33.0857320Z         Numpy array containing ( 1 - exp(-tau_ul) ) S_ul ordered by wavelength of the transition u -> l
2025-01-13T19:12:33.0857750Z         """
2025-01-13T19:12:33.0857870Z     
2025-01-13T19:12:33.0858020Z         simulation_state = self.simulation_state
2025-01-13T19:12:33.0858220Z         # slice for the active shells
2025-01-13T19:12:33.0858410Z         local_slice = slice(
2025-01-13T19:12:33.0858610Z             simulation_state.geometry.v_inner_boundary_index,
2025-01-13T19:12:33.0858890Z             simulation_state.geometry.v_outer_boundary_index,
2025-01-13T19:12:33.0858930Z         )
2025-01-13T19:12:33.0859000Z     
2025-01-13T19:12:33.0859070Z         transport = self.transport
2025-01-13T19:12:33.0859180Z         montecarlo_transport_state = transport.transport_state
2025-01-13T19:12:33.0859480Z         transition_probabilities = (
2025-01-13T19:12:33.0859780Z >           self.original_plasma.transition_probabilities.iloc[:, local_slice]
2025-01-13T19:12:33.0870830Z         )
2025-01-13T19:12:33.0871090Z E       AttributeError: 'FormalIntegrator' object has no attribute 'original_plasma'
2025-01-13T19:12:33.0871110Z 
2025-01-13T19:12:33.0871240Z tardis/spectrum/formal_integral.py:448: AttributeError
2025-01-13T19:12:33.0871250Z 
2025-01-13T19:12:33.0871390Z During handling of the above exception, another exception occurred:
2025-01-13T19:12:33.0871390Z 
2025-01-13T19:12:33.0871690Z hdf_file_path = '/private/var/folders/ml/x_tvfgn50_s7p67dm1ypcqqm0000gn/T/pytest-of-runner/pytest-0/hdf_buffer0/test.hdf'
2025-01-13T19:12:33.0871870Z simulation_verysimple = <tardis.simulation.base.Simulation object at 0x144f42390>
2025-01-13T19:12:33.0871880Z 
2025-01-13T19:12:33.0871950Z     @pytest.fixture(scope="class")
2025-01-13T19:12:33.0872070Z     def hdf_shell_info(hdf_file_path, simulation_verysimple):
2025-01-13T19:12:33.0872140Z >       simulation_verysimple.to_hdf(
2025-01-13T19:12:33.0872210Z             hdf_file_path, overwrite=True
2025-01-13T19:12:33.0872650Z /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages/tables/file.py:113: UnclosedFileWarning:
2025-01-13T19:12:33.0872660Z 
2025-01-13T19:12:33.0872990Z Closing remaining open file: /private/var/folders/ml/x_tvfgn50_s7p67dm1ypcqqm0000gn/T/pytest-of-runner/pytest-0/hdf_buffer0/test.hdf
2025-01-13T19:12:33.0872990Z 
2025-01-13T19:12:33.0873050Z         )  # save sim at hdf_file_path
2025-01-13T19:12:33.0873060Z 
2025-01-13T19:12:33.0873520Z tardis/visualization/widgets/tests/test_shell_info.py:33: 
2025-01-13T19:12:33.0873620Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-01-13T19:12:33.0873690Z tardis/io/util.py:337: in to_hdf
2025-01-13T19:12:33.0873810Z     self.to_hdf_util(file_path_or_buf, buff_path, data, overwrite)
2025-01-13T19:12:33.0873890Z tardis/io/util.py:289: in to_hdf_util
2025-01-13T19:12:33.0873990Z     data.to_hdf(buf, key=os.path.join(path, key))
2025-01-13T19:12:33.0874240Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/pandas/util/_decorators.py:333: in wrapper
2025-01-13T19:12:33.0874310Z     return func(*args, **kwargs)
2025-01-13T19:12:33.0874540Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/pandas/core/generic.py:2855: in to_hdf
2025-01-13T19:12:33.0874610Z     pytables.to_hdf(
2025-01-13T19:12:33.0874840Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/pandas/io/pytables.py:311: in to_hdf
2025-01-13T19:12:33.0874900Z     f(store)
2025-01-13T19:12:33.0875120Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/pandas/io/pytables.py:293: in <lambda>
2025-01-13T19:12:33.0875180Z     f = lambda store: store.put(
2025-01-13T19:12:33.0875380Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/pandas/io/pytables.py:1160: in put
2025-01-13T19:12:33.0875440Z     self._write_to_group(
2025-01-13T19:12:33.0875670Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/pandas/io/pytables.py:1858: in _write_to_group
2025-01-13T19:12:33.0875730Z     s.write(
2025-01-13T19:12:33.0875950Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/pandas/io/pytables.py:3333: in write
2025-01-13T19:12:33.0876100Z     self.write_array(f"block{i}_values", blk.values, items=blk_items)
2025-01-13T19:12:33.0876460Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/pandas/io/pytables.py:3172: in write_array
2025-01-13T19:12:33.0876520Z     vlarr.append(value)
2025-01-13T19:12:33.0876720Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/tables/vlarray.py:510: in append
2025-01-13T19:12:33.0876800Z     sequence = atom.toarray(sequence)
2025-01-13T19:12:33.0876990Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/tables/atom.py:1040: in toarray
2025-01-13T19:12:33.0877090Z     buffer_ = self._tobuffer(object_)
2025-01-13T19:12:33.0877190Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-01-13T19:12:33.0877190Z 
2025-01-13T19:12:33.0877250Z self = ObjectAtom()
2025-01-13T19:12:33.0877410Z object_ = array([[<tardis.spectrum.base.SpectrumSolver object at 0x144f423f0>]],
2025-01-13T19:12:33.0877480Z       dtype=object)
2025-01-13T19:12:33.0877490Z 
2025-01-13T19:12:33.0877570Z     def _tobuffer(self, object_):
2025-01-13T19:12:33.0877700Z >       return pickle.dumps(object_, pickle.HIGHEST_PROTOCOL)
2025-01-13T19:12:33.0877800Z E       TypeError: cannot pickle 'PacketCollection' object
2025-01-13T19:12:33.0877810Z 
2025-01-13T19:12:33.0878000Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/tables/atom.py:1173: TypeError
2025-01-13T19:12:33.0878160Z ______ ERROR at setup of TestHDFShellInfo.test_level_count_data[3-20-20] _______
2025-01-13T19:12:33.0878160Z 
2025-01-13T19:12:33.0878460Z path_or_buf = '/private/var/folders/ml/x_tvfgn50_s7p67dm1ypcqqm0000gn/T/pytest-of-runner/pytest-0/hdf_buffer0/test.hdf'
2025-01-13T19:12:33.0878520Z path = 'simulation'
2025-01-13T19:12:33.0878750Z elements = {'iterations_electron_densities': array([[2.86954465e+09, 2.18528594e+09, 1.68079721e+09, 1.30480386e+09,
2025-01-13T19:12:33.0878840Z         1.02...      , 0.        , 0.        , 0.        ,
2025-01-13T19:12:33.0878940Z         0.        , 0.        , 0.        , 0.        , 0.        ]]), ...}
2025-01-13T19:12:33.0879040Z overwrite = True, complevel = 9, complib = 'blosc'
2025-01-13T19:12:33.0879040Z 
2025-01-13T19:12:33.0879100Z     @staticmethod
2025-01-13T19:12:33.0879150Z     def to_hdf_util(
2025-01-13T19:12:33.0879390Z         path_or_buf, path, elements, overwrite, complevel=9, complib="blosc"
2025-01-13T19:12:33.0879470Z     ):
2025-01-13T19:12:33.0879530Z         """
2025-01-13T19:12:33.0879640Z         A function to uniformly store TARDIS data to an HDF file.
2025-01-13T19:12:33.0879690Z     
2025-01-13T19:12:33.0879790Z         Scalars will be stored in a Series under path/scalars
2025-01-13T19:12:33.0879930Z         1D arrays will be stored under path/property_name as distinct Series
2025-01-13T19:12:33.0880070Z         2D arrays will be stored under path/property_name as distinct DataFrames
2025-01-13T19:12:33.0880120Z     
2025-01-13T19:12:33.0880190Z         Units will be stored as their CGS value
2025-01-13T19:12:33.0880240Z     
2025-01-13T19:12:33.0880290Z         Parameters
2025-01-13T19:12:33.0880350Z         ----------
2025-01-13T19:12:33.0880460Z         path_or_buf : str or pandas.io.pytables.HDFStore
2025-01-13T19:12:33.0880530Z             Path or buffer to the HDF file
2025-01-13T19:12:33.0880580Z         path : str
2025-01-13T19:12:33.0880680Z             Path inside the HDF file to store the `elements`
2025-01-13T19:12:33.0880750Z         elements : dict
2025-01-13T19:12:33.0880850Z             A dict of property names and their values to be
2025-01-13T19:12:33.0880900Z             stored.
2025-01-13T19:12:33.0880960Z         overwrite : bool
2025-01-13T19:12:33.0881090Z             If the HDF file path already exists, whether to overwrite it or not
2025-01-13T19:12:33.0881140Z     
2025-01-13T19:12:33.0881190Z         Notes
2025-01-13T19:12:33.0881240Z         -----
2025-01-13T19:12:33.0881410Z         `overwrite` option doesn't have any effect when `path_or_buf` is an
2025-01-13T19:12:33.0881550Z         HDFStore because the user decides on the mode in which they have
2025-01-13T19:12:33.0881710Z         opened the HDFStore ('r', 'w' or 'a').
2025-01-13T19:12:33.0881760Z         """
2025-01-13T19:12:33.0881810Z         if (
2025-01-13T19:12:33.0881900Z             isinstance(path_or_buf, str)
2025-01-13T19:12:33.0881980Z             and os.path.exists(path_or_buf)
2025-01-13T19:12:33.0970830Z             and not overwrite
2025-01-13T19:12:33.0971250Z         ):
2025-01-13T19:12:33.0971520Z             raise FileExistsError(
2025-01-13T19:12:33.0971870Z                 "The specified HDF file already exists. If you still want "
2025-01-13T19:12:33.0972180Z                 "to overwrite it, set function parameter overwrite=True"
2025-01-13T19:12:33.0972350Z             )
2025-01-13T19:12:33.0972510Z     
2025-01-13T19:12:33.0972680Z         else:
2025-01-13T19:12:33.0973080Z             try:  # when path_or_buf is a str, the HDFStore should get created
2025-01-13T19:12:33.0973280Z                 buf = pd.HDFStore(
2025-01-13T19:12:33.0973560Z                     path_or_buf, complevel=complevel, complib=complib
2025-01-13T19:12:33.0973760Z                 )
2025-01-13T19:12:33.0973940Z             except TypeError as e:
2025-01-13T19:12:33.0974190Z                 if str(e) == "Expected bytes, got HDFStore":
2025-01-13T19:12:33.0974520Z                     # when path_or_buf is an HDFStore buffer instead
2025-01-13T19:12:33.0974730Z                     logger.debug(
2025-01-13T19:12:33.0975100Z                         "Expected bytes, got HDFStore. Changing path to HDF buffer"
2025-01-13T19:12:33.0975420Z                     )
2025-01-13T19:12:33.0975580Z                     buf = path_or_buf
2025-01-13T19:12:33.0975630Z                 else:
2025-01-13T19:12:33.0975690Z                     raise e
2025-01-13T19:12:33.0975740Z     
2025-01-13T19:12:33.0975790Z         if not buf.is_open:
2025-01-13T19:12:33.0975840Z             buf.open()
2025-01-13T19:12:33.0975890Z     
2025-01-13T19:12:33.0975940Z         scalars = {}
2025-01-13T19:12:33.0976040Z         for key, value in elements.items():
2025-01-13T19:12:33.0976120Z             if value is None:
2025-01-13T19:12:33.0976210Z                 value = "none"
2025-01-13T19:12:33.0976280Z             if hasattr(value, "cgs"):
2025-01-13T19:12:33.0976880Z                 value = value.cgs.value
2025-01-13T19:12:33.0976960Z             if np.isscalar(value):
2025-01-13T19:12:33.0977020Z                 scalars[key] = value
2025-01-13T19:12:33.0977080Z             elif hasattr(value, "shape"):
2025-01-13T19:12:33.0977140Z                 if value.ndim == 1:
2025-01-13T19:12:33.0977270Z                     # This try,except block is only for model.plasma.levels
2025-01-13T19:12:33.0977320Z                     try:
2025-01-13T19:12:33.0977390Z                         pd.Series(value).to_hdf(
2025-01-13T19:12:33.0977480Z                             buf, key=os.path.join(path, key)
2025-01-13T19:12:33.0977530Z                         )
2025-01-13T19:12:33.0977610Z                     except NotImplementedError:
2025-01-13T19:12:33.0977670Z                         logger.debug(
2025-01-13T19:12:33.0977810Z                             "Could not convert SERIES to HDF. Converting DATAFRAME to HDF"
2025-01-13T19:12:33.0977860Z                         )
2025-01-13T19:12:33.0977940Z                         pd.DataFrame(value).to_hdf(
2025-01-13T19:12:33.0978020Z                             buf, key=os.path.join(path, key)
2025-01-13T19:12:33.0978080Z                         )
2025-01-13T19:12:33.0978120Z                 else:
2025-01-13T19:12:33.0978250Z                     pd.DataFrame(value).to_hdf(buf, key=os.path.join(path, key))
2025-01-13T19:12:33.0978380Z             else:  # value is a TARDIS object like model, transport or plasma
2025-01-13T19:12:33.0978430Z                 try:
2025-01-13T19:12:33.0978540Z >                   value.to_hdf(buf, path, name=key, overwrite=overwrite)
2025-01-13T19:12:33.0978540Z 
2025-01-13T19:12:33.0978600Z tardis/io/util.py:283: 
2025-01-13T19:12:33.0978690Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-01-13T19:12:33.0979320Z tardis/io/util.py:335: in to_hdf
2025-01-13T19:12:33.0979380Z     data = self.get_properties()
2025-01-13T19:12:33.0979450Z tardis/io/util.py:298: in get_properties
2025-01-13T19:12:33.0979590Z     data = {name: getattr(self, name) for name in self.full_hdf_properties}
2025-01-13T19:12:33.0979690Z tardis/spectrum/base.py:87: in spectrum_integrated
2025-01-13T19:12:33.0979830Z     self._spectrum_integrated = self.integrator.calculate_spectrum(
2025-01-13T19:12:33.0979950Z tardis/spectrum/formal_integral.py:405: in calculate_spectrum
2025-01-13T19:12:33.0980090Z     luminosity = u.Quantity(self.formal_integral(frequency, N), "erg") * (
2025-01-13T19:12:33.0980210Z tardis/spectrum/formal_integral.py:658: in formal_integral
2025-01-13T19:12:33.0980270Z     res = self.make_source_function()
2025-01-13T19:12:33.0980360Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-01-13T19:12:33.0980370Z 
2025-01-13T19:12:33.0980540Z self = <tardis.spectrum.formal_integral.FormalIntegrator object at 0x1451141d0>
2025-01-13T19:12:33.0980550Z 
2025-01-13T19:12:33.0980610Z     def make_source_function(self):
2025-01-13T19:12:33.0980660Z         """
2025-01-13T19:12:33.0980860Z         Calculates the source function using the line absorption rate estimator `Edotlu_estimator`
2025-01-13T19:12:33.0980910Z     
2025-01-13T19:12:33.0981120Z         Formally it calculates the expression ( 1 - exp(-tau_ul) ) S_ul but this product is what we need later,
2025-01-13T19:12:33.0981240Z         so there is no need to factor out the source function explicitly.
2025-01-13T19:12:33.0981290Z     
2025-01-13T19:12:33.0981350Z         Parameters
2025-01-13T19:12:33.0981400Z         ----------
2025-01-13T19:12:33.0981480Z         model : tardis.model.SimulationState
2025-01-13T19:12:33.0981530Z     
2025-01-13T19:12:33.0981570Z         Returns
2025-01-13T19:12:33.0981620Z         -------
2025-01-13T19:12:33.0981810Z         Numpy array containing ( 1 - exp(-tau_ul) ) S_ul ordered by wavelength of the transition u -> l
2025-01-13T19:12:33.0981860Z         """
2025-01-13T19:12:33.0981900Z     
2025-01-13T19:12:33.0981980Z         simulation_state = self.simulation_state
2025-01-13T19:12:33.0982110Z         # slice for the active shells
2025-01-13T19:12:33.0982170Z         local_slice = slice(
2025-01-13T19:12:33.0982270Z             simulation_state.geometry.v_inner_boundary_index,
2025-01-13T19:12:33.0982370Z             simulation_state.geometry.v_outer_boundary_index,
2025-01-13T19:12:33.0982420Z         )
2025-01-13T19:12:33.0982460Z     
2025-01-13T19:12:33.0982530Z         transport = self.transport
2025-01-13T19:12:33.0982630Z         montecarlo_transport_state = transport.transport_state
2025-01-13T19:12:33.0982700Z         transition_probabilities = (
2025-01-13T19:12:33.0982840Z >           self.original_plasma.transition_probabilities.iloc[:, local_slice]
2025-01-13T19:12:33.0982890Z         )
2025-01-13T19:12:33.0983060Z E       AttributeError: 'FormalIntegrator' object has no attribute 'original_plasma'
2025-01-13T19:12:33.0983060Z 
2025-01-13T19:12:33.0983170Z tardis/spectrum/formal_integral.py:448: AttributeError
2025-01-13T19:12:33.0983170Z 
2025-01-13T19:12:33.0983310Z During handling of the above exception, another exception occurred:
2025-01-13T19:12:33.0983320Z 
2025-01-13T19:12:33.0983600Z hdf_file_path = '/private/var/folders/ml/x_tvfgn50_s7p67dm1ypcqqm0000gn/T/pytest-of-runner/pytest-0/hdf_buffer0/test.hdf'
2025-01-13T19:12:33.0983780Z simulation_verysimple = <tardis.simulation.base.Simulation object at 0x144f42390>
2025-01-13T19:12:33.0983780Z 
2025-01-13T19:12:33.0983850Z     @pytest.fixture(scope="class")
2025-01-13T19:12:33.0983960Z     def hdf_shell_info(hdf_file_path, simulation_verysimple):
2025-01-13T19:12:33.0984020Z >       simulation_verysimple.to_hdf(
2025-01-13T19:12:33.0984100Z             hdf_file_path, overwrite=True
2025-01-13T19:12:33.0984160Z         )  # save sim at hdf_file_path
2025-01-13T19:12:33.0984160Z 
2025-01-13T19:12:33.0984330Z tardis/visualization/widgets/tests/test_shell_info.py:33: 
2025-01-13T19:12:33.0984430Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-01-13T19:12:33.0984490Z tardis/io/util.py:337: in to_hdf
2025-01-13T19:12:33.0984610Z     self.to_hdf_util(file_path_or_buf, buff_path, data, overwrite)
2025-01-13T19:12:33.0984680Z tardis/io/util.py:289: in to_hdf_util
2025-01-13T19:12:33.0984770Z     data.to_hdf(buf, key=os.path.join(path, key))
2025-01-13T19:12:33.0984990Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/pandas/util/_decorators.py:333: in wrapper
2025-01-13T19:12:33.0985080Z     return func(*args, **kwargs)
2025-01-13T19:12:33.0985290Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/pandas/core/generic.py:2855: in to_hdf
2025-01-13T19:12:33.0985350Z     pytables.to_hdf(
2025-01-13T19:12:33.0985590Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/pandas/io/pytables.py:311: in to_hdf
2025-01-13T19:12:33.0985640Z     f(store)
2025-01-13T19:12:33.0985870Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/pandas/io/pytables.py:293: in <lambda>
2025-01-13T19:12:33.0985930Z     f = lambda store: store.put(
2025-01-13T19:12:33.0986130Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/pandas/io/pytables.py:1160: in put
2025-01-13T19:12:33.0986190Z     self._write_to_group(
2025-01-13T19:12:33.0986430Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/pandas/io/pytables.py:1858: in _write_to_group
2025-01-13T19:12:33.0986470Z     s.write(
2025-01-13T19:12:33.0986680Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/pandas/io/pytables.py:3333: in write
2025-01-13T19:12:33.0986810Z     self.write_array(f"block{i}_values", blk.values, items=blk_items)
2025-01-13T19:12:33.0987020Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/pandas/io/pytables.py:3172: in write_array
2025-01-13T19:12:33.0987080Z     vlarr.append(value)
2025-01-13T19:12:33.0987270Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/tables/vlarray.py:510: in append
2025-01-13T19:12:33.0987340Z     sequence = atom.toarray(sequence)
2025-01-13T19:12:33.0987530Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/tables/atom.py:1040: in toarray
2025-01-13T19:12:33.0987690Z     buffer_ = self._tobuffer(object_)
2025-01-13T19:12:33.0987790Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-01-13T19:12:33.0987790Z 
2025-01-13T19:12:33.0987840Z self = ObjectAtom()
2025-01-13T19:12:33.0988010Z object_ = array([[<tardis.spectrum.base.SpectrumSolver object at 0x144f423f0>]],
2025-01-13T19:12:33.0988060Z       dtype=object)
2025-01-13T19:12:33.0988060Z 
2025-01-13T19:12:33.0988120Z     def _tobuffer(self, object_):
2025-01-13T19:12:33.0988230Z >       return pickle.dumps(object_, pickle.HIGHEST_PROTOCOL)
2025-01-13T19:12:33.0988330Z E       TypeError: cannot pickle 'PacketCollection' object
2025-01-13T19:12:33.0988330Z 
2025-01-13T19:12:33.0988520Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/tables/atom.py:1173: TypeError
2025-01-13T19:12:33.0988610Z =================================== FAILURES ===================================
2025-01-13T19:12:33.0988740Z _____________________ test_calculate_sobolev_line_opacity ______________________
2025-01-13T19:12:33.0988740Z 
2025-01-13T19:12:33.0988920Z nb_simulation_verysimple = <tardis.simulation.base.Simulation object at 0x3114e5fd0>
2025-01-13T19:12:33.0989130Z regression_data = <tardis.tests.fixtures.regression_data.RegressionData object at 0x320b5e7e0>
2025-01-13T19:12:33.0989130Z 
2025-01-13T19:12:33.0989210Z     def test_calculate_sobolev_line_opacity(
2025-01-13T19:12:33.0989280Z         nb_simulation_verysimple, regression_data
2025-01-13T19:12:33.0989330Z     ):
2025-01-13T19:12:33.0989430Z         legacy_plasma = nb_simulation_verysimple.plasma
2025-01-13T19:12:33.0989470Z     
2025-01-13T19:12:33.0989550Z         actual = calculate_sobolev_line_opacity(
2025-01-13T19:12:33.0989610Z             legacy_plasma.lines,
2025-01-13T19:12:33.0989740Z             legacy_plasma.level_number_density,
2025-01-13T19:12:33.0989810Z             legacy_plasma.time_explosion,
2025-01-13T19:12:33.0989910Z             legacy_plasma.stimulated_emission_factor,
2025-01-13T19:12:33.0989960Z         )
2025-01-13T19:12:33.0990060Z >       expected = regression_data.sync_dataframe(actual)
2025-01-13T19:12:33.0990070Z 
2025-01-13T19:12:33.0990150Z tardis/opacities/tests/test_tau_sobolev.py:21: 
2025-01-13T19:12:33.0990240Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-01-13T19:12:33.0990360Z tardis/tests/fixtures/regression_data.py:88: in sync_dataframe
2025-01-13T19:12:33.0990440Z     return pd.read_hdf(self.fpath, key=key)
2025-01-13T19:12:33.0990530Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-01-13T19:12:33.0990530Z 
2025-01-13T19:12:33.0990830Z path_or_buf = '/Users/runner/work/tardis/tardis/tardis-regression-data/test_tau_sobolev/test_calculate_sobolev_line_opacity.h5'
2025-01-13T19:12:33.0990960Z key = 'data', mode = 'r', errors = 'strict', where = None, start = None
2025-01-13T19:12:33.0991100Z stop = None, columns = None, iterator = False, chunksize = None, kwargs = {}
2025-01-13T19:12:33.0991150Z exists = False
2025-01-13T19:12:33.0991160Z 
2025-01-13T19:12:33.0991210Z     def read_hdf(
2025-01-13T19:12:33.0991290Z         path_or_buf: FilePath | HDFStore,
2025-01-13T19:12:33.0991340Z         key=None,
2025-01-13T19:12:33.0991400Z         mode: str = "r",
2025-01-13T19:12:33.0991450Z         errors: str = "strict",
2025-01-13T19:12:33.0991520Z         where: str | list | None = None,
2025-01-13T19:12:33.0991580Z         start: int | None = None,
2025-01-13T19:12:33.0991630Z         stop: int | None = None,
2025-01-13T19:12:33.0991700Z         columns: list[str] | None = None,
2025-01-13T19:12:33.0991750Z         iterator: bool = False,
2025-01-13T19:12:33.0991810Z         chunksize: int | None = None,
2025-01-13T19:12:33.0991860Z         **kwargs,
2025-01-13T19:12:33.0991910Z     ):
2025-01-13T19:12:33.0991960Z         """
2025-01-13T19:12:33.0992050Z         Read from the store, close it if we opened it.
2025-01-13T19:12:33.0992090Z     
2025-01-13T19:12:33.0992300Z         Retrieve pandas object stored in file, optionally based on where
2025-01-13T19:12:33.0992350Z         criteria.
2025-01-13T19:12:33.0992400Z     
2025-01-13T19:12:33.1000730Z         .. warning::
2025-01-13T19:12:33.1000780Z     
2025-01-13T19:12:33.1000920Z            Pandas uses PyTables for reading and writing HDF5 files, which allows
2025-01-13T19:12:33.1001090Z            serializing object-dtype data with pickle when using the "fixed" format.
2025-01-13T19:12:33.1001230Z            Loading pickled data received from untrusted sources can be unsafe.
2025-01-13T19:12:33.1001270Z     
2025-01-13T19:12:33.1001490Z            See: https://docs.python.org/3/library/pickle.html for more.
2025-01-13T19:12:33.1001540Z     
2025-01-13T19:12:33.1001590Z         Parameters
2025-01-13T19:12:33.1001650Z         ----------
2025-01-13T19:12:33.1001750Z         path_or_buf : str, path object, pandas.HDFStore
2025-01-13T19:12:33.1001900Z             Any valid string path is acceptable. Only supports the local file system,
2025-01-13T19:12:33.1002010Z             remote URLs and file-like objects are not supported.
2025-01-13T19:12:33.1002060Z     
2025-01-13T19:12:33.1002170Z             If you want to pass in a path object, pandas accepts any
2025-01-13T19:12:33.1002230Z             ``os.PathLike``.
2025-01-13T19:12:33.1002270Z     
2025-01-13T19:12:33.1002420Z             Alternatively, pandas accepts an open :class:`pandas.HDFStore` object.
2025-01-13T19:12:33.1002470Z     
2025-01-13T19:12:33.1002530Z         key : object, optional
2025-01-13T19:12:33.1002650Z             The group identifier in the store. Can be omitted if the HDF file
2025-01-13T19:12:33.1002730Z             contains a single pandas object.
2025-01-13T19:12:33.1002790Z         mode : {'r', 'r+', 'a'}, default 'r'
2025-01-13T19:12:33.1003170Z             Mode to use when opening the file. Ignored if path_or_buf is a
2025-01-13T19:12:33.1003250Z             :class:`pandas.HDFStore`. Default is 'r'.
2025-01-13T19:12:33.1003320Z         errors : str, default 'strict'
2025-01-13T19:12:33.1003440Z             Specifies how encoding and decoding errors are to be handled.
2025-01-13T19:12:33.1003560Z             See the errors argument for :func:`open` for a full list
2025-01-13T19:12:33.1003610Z             of options.
2025-01-13T19:12:33.1003670Z         where : list, optional
2025-01-13T19:12:33.1003750Z             A list of Term (or convertible) objects.
2025-01-13T19:12:33.1003810Z         start : int, optional
2025-01-13T19:12:33.1003870Z             Row number to start selection.
2025-01-13T19:12:33.1003930Z         stop  : int, optional
2025-01-13T19:12:33.1004000Z             Row number to stop selection.
2025-01-13T19:12:33.1004060Z         columns : list, optional
2025-01-13T19:12:33.1004130Z             A list of columns names to return.
2025-01-13T19:12:33.1004190Z         iterator : bool, optional
2025-01-13T19:12:33.1004250Z             Return an iterator object.
2025-01-13T19:12:33.1004310Z         chunksize : int, optional
2025-01-13T19:12:33.1004440Z             Number of rows to include in an iteration when using an iterator.
2025-01-13T19:12:33.1004480Z         **kwargs
2025-01-13T19:12:33.1004590Z             Additional keyword arguments passed to HDFStore.
2025-01-13T19:12:33.1004630Z     
2025-01-13T19:12:33.1004680Z         Returns
2025-01-13T19:12:33.1004720Z         -------
2025-01-13T19:12:33.1004770Z         object
2025-01-13T19:12:33.1004890Z             The selected object. Return type depends on the object stored.
2025-01-13T19:12:33.1004940Z     
2025-01-13T19:12:33.1004980Z         See Also
2025-01-13T19:12:33.1005030Z         --------
2025-01-13T19:12:33.1005140Z         DataFrame.to_hdf : Write a HDF file from a DataFrame.
2025-01-13T19:12:33.1005210Z         HDFStore : Low-level access to HDF files.
2025-01-13T19:12:33.1005270Z     
2025-01-13T19:12:33.1005310Z         Examples
2025-01-13T19:12:33.1005360Z         --------
2025-01-13T19:12:33.1005500Z         >>> df = pd.DataFrame([[1, 1.0, 'a']], columns=['x', 'y', 'z'])  # doctest: +SKIP
2025-01-13T19:12:33.1005830Z         >>> df.to_hdf('./store.h5', 'data')  # doctest: +SKIP
2025-01-13T19:12:33.1005950Z         >>> reread = pd.read_hdf('./store.h5')  # doctest: +SKIP
2025-01-13T19:12:33.1005990Z         """
2025-01-13T19:12:33.1006060Z         if mode not in ["r", "r+", "a"]:
2025-01-13T19:12:33.1006110Z             raise ValueError(
2025-01-13T19:12:33.1006220Z                 f"mode {mode} is not allowed while performing a read. "
2025-01-13T19:12:33.1006290Z                 f"Allowed modes are r, r+ and a."
2025-01-13T19:12:33.1006340Z             )
2025-01-13T19:12:33.1006390Z         # grab the scope
2025-01-13T19:12:33.1006450Z         if where is not None:
2025-01-13T19:12:33.1006530Z             where = _ensure_term(where, scope_level=1)
2025-01-13T19:12:33.1006580Z     
2025-01-13T19:12:33.1006650Z         if isinstance(path_or_buf, HDFStore):
2025-01-13T19:12:33.1006710Z             if not path_or_buf.is_open:
2025-01-13T19:12:33.1006830Z                 raise OSError("The HDFStore must be open for reading.")
2025-01-13T19:12:33.1006900Z     
2025-01-13T19:12:33.1006960Z             store = path_or_buf
2025-01-13T19:12:33.1007020Z             auto_close = False
2025-01-13T19:12:33.1007070Z         else:
2025-01-13T19:12:33.1007150Z             path_or_buf = stringify_path(path_or_buf)
2025-01-13T19:12:33.1007230Z             if not isinstance(path_or_buf, str):
2025-01-13T19:12:33.1007300Z                 raise NotImplementedError(
2025-01-13T19:12:33.1007410Z                     "Support for generic buffers has not been implemented."
2025-01-13T19:12:33.1007460Z                 )
2025-01-13T19:12:33.1007500Z             try:
2025-01-13T19:12:33.1007580Z                 exists = os.path.exists(path_or_buf)
2025-01-13T19:12:33.1007850Z     
2025-01-13T19:12:33.1007920Z             # if filepath is too long
2025-01-13T19:12:33.1007990Z             except (TypeError, ValueError):
2025-01-13T19:12:33.1008040Z                 exists = False
2025-01-13T19:12:33.1008090Z     
2025-01-13T19:12:33.1008150Z             if not exists:
2025-01-13T19:12:33.1008310Z >               raise FileNotFoundError(f"File {path_or_buf} does not exist")
2025-01-13T19:12:33.1008720Z E               FileNotFoundError: File /Users/runner/work/tardis/tardis/tardis-regression-data/test_tau_sobolev/test_calculate_sobolev_line_opacity.h5 does not exist
2025-01-13T19:12:33.1008720Z 
2025-01-13T19:12:33.1008960Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/pandas/io/pytables.py:424: FileNotFoundError
2025-01-13T19:12:33.1009110Z ---------------------------- Captured stdout setup -----------------------------
2025-01-13T19:12:33.1014160Z [[1mtardis.io.model.parse_density_configuration[0m][[1;33mWARNING[0m]  
2025-01-13T19:12:33.1014530Z 	Number of density points larger than number of shells. Assuming inner point irrelevant ([1mparse_density_configuration.py[0m:114)
2025-01-13T19:12:33.1014670Z ---------------------------- Captured stderr setup -----------------------------
2025-01-13T19:12:33.1014670Z 
2025-01-13T19:12:33.1015350Z Iterations:â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ                4/5 [00:09<00:02,  2.13s/it]
2025-01-13T19:12:33.1015350Z 
2025-01-13T19:12:33.1015530Z Packets:                                                                                   4030/? [00:09<00:00, 24279.50it/s][A
2025-01-13T19:12:33.1015660Z ------------------------------ Captured log setup ------------------------------
2025-01-13T19:12:33.1016070Z WARNING  tardis.io.model.parse_density_configuration:parse_density_configuration.py:114 Number of density points larger than number of shells. Assuming inner point irrelevant
2025-01-13T19:12:33.1016190Z _________________________ test_calculate_beta_sobolevs _________________________
2025-01-13T19:12:33.1016200Z 
2025-01-13T19:12:33.1016380Z nb_simulation_verysimple = <tardis.simulation.base.Simulation object at 0x3114e5fd0>
2025-01-13T19:12:33.1016590Z regression_data = <tardis.tests.fixtures.regression_data.RegressionData object at 0x31154eae0>
2025-01-13T19:12:33.1016740Z 
2025-01-13T19:12:33.1016900Z     def test_calculate_beta_sobolevs(nb_simulation_verysimple, regression_data):
2025-01-13T19:12:33.1017000Z         legacy_plasma = nb_simulation_verysimple.plasma
2025-01-13T19:12:33.1017050Z     
2025-01-13T19:12:33.1017130Z         tau_sobolevs = calculate_sobolev_line_opacity(
2025-01-13T19:12:33.1017190Z             legacy_plasma.lines,
2025-01-13T19:12:33.1017270Z             legacy_plasma.level_number_density,
2025-01-13T19:12:33.1017340Z             legacy_plasma.time_explosion,
2025-01-13T19:12:33.1017420Z             legacy_plasma.stimulated_emission_factor,
2025-01-13T19:12:33.1017470Z         )
2025-01-13T19:12:33.1017550Z         actual = calculate_beta_sobolev(tau_sobolevs)
2025-01-13T19:12:33.1017650Z >       expected = regression_data.sync_ndarray(actual)
2025-01-13T19:12:33.1017650Z 
2025-01-13T19:12:33.1017740Z tardis/opacities/tests/test_tau_sobolev.py:35: 
2025-01-13T19:12:33.1017830Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-01-13T19:12:33.1017950Z tardis/tests/fixtures/regression_data.py:111: in sync_ndarray
2025-01-13T19:12:33.1018010Z     return np.load(self.fpath)
2025-01-13T19:12:33.1018100Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-01-13T19:12:33.1018100Z 
2025-01-13T19:12:33.1018400Z file = PosixPath('/Users/runner/work/tardis/tardis/tardis-regression-data/test_tau_sobolev/test_calculate_beta_sobolevs.npy')
2025-01-13T19:12:33.1018570Z mmap_mode = None, allow_pickle = False, fix_imports = True, encoding = 'ASCII'
2025-01-13T19:12:33.1018570Z 
2025-01-13T19:12:33.1018640Z     @set_module('numpy')
2025-01-13T19:12:33.1018770Z     def load(file, mmap_mode=None, allow_pickle=False, fix_imports=True,
2025-01-13T19:12:33.1019000Z              encoding='ASCII', *, max_header_size=format._MAX_HEADER_SIZE):
2025-01-13T19:12:33.1019050Z         """
2025-01-13T19:12:33.1019190Z         Load arrays or pickled objects from ``.npy``, ``.npz`` or pickled files.
2025-01-13T19:12:33.1019240Z     
2025-01-13T19:12:33.1019400Z         .. warning:: Loading files that contain object arrays uses the ``pickle``
2025-01-13T19:12:33.1019530Z                      module, which is not secure against erroneous or maliciously
2025-01-13T19:12:33.1019650Z                      constructed data. Consider passing ``allow_pickle=False`` to
2025-01-13T19:12:33.1019770Z                      load data that is known not to contain object arrays for the
2025-01-13T19:12:33.1019850Z                      safer handling of untrusted sources.
2025-01-13T19:12:33.1019900Z     
2025-01-13T19:12:33.1019940Z         Parameters
2025-01-13T19:12:33.1019990Z         ----------
2025-01-13T19:12:33.1020080Z         file : file-like object, string, or pathlib.Path
2025-01-13T19:12:33.1020200Z             The file to read. File-like objects must support the
2025-01-13T19:12:33.1020280Z             ``seek()`` and ``read()`` methods and must always
2025-01-13T19:12:33.1020400Z             be opened in binary mode.  Pickled files require that the
2025-01-13T19:12:33.1020510Z             file-like object support the ``readline()`` method as well.
2025-01-13T19:12:33.1020610Z         mmap_mode : {None, 'r+', 'r', 'w+', 'c'}, optional
2025-01-13T19:12:33.1020920Z             If not None, then memory-map the file, using the given mode (see
2025-01-13T19:12:33.1021040Z             `numpy.memmap` for a detailed description of the modes).  A
2025-01-13T19:12:33.1021180Z             memory-mapped array is kept on disk. However, it can be accessed
2025-01-13T19:12:33.1021310Z             and sliced like any ndarray.  Memory mapping is especially useful
2025-01-13T19:12:33.1021440Z             for accessing small fragments of large files without reading the
2025-01-13T19:12:33.1021510Z             entire file into memory.
2025-01-13T19:12:33.1021580Z         allow_pickle : bool, optional
2025-01-13T19:12:33.1021710Z             Allow loading pickled object arrays stored in npy files. Reasons for
2025-01-13T19:12:33.1021920Z             disallowing pickles include security, as loading pickled data can
2025-01-13T19:12:33.1022060Z             execute arbitrary code. If pickles are disallowed, loading object
2025-01-13T19:12:33.1022130Z             arrays will fail. Default: False
2025-01-13T19:12:33.1022180Z     
2025-01-13T19:12:33.1022240Z             .. versionchanged:: 1.16.3
2025-01-13T19:12:33.1022340Z                 Made default False in response to CVE-2019-6446.
2025-01-13T19:12:33.1022390Z     
2025-01-13T19:12:33.1022450Z         fix_imports : bool, optional
2025-01-13T19:12:33.1022590Z             Only useful when loading Python 2 generated pickled files on Python 3,
2025-01-13T19:12:33.1022740Z             which includes npy/npz files containing object arrays. If `fix_imports`
2025-01-13T19:12:33.1022880Z             is True, pickle will try to map the old Python 2 names to the new names
2025-01-13T19:12:33.1022940Z             used in Python 3.
2025-01-13T19:12:33.1023000Z         encoding : str, optional
2025-01-13T19:12:33.1023140Z             What encoding to use when reading Python 2 strings. Only useful when
2025-01-13T19:12:33.1023270Z             loading Python 2 generated pickled files in Python 3, which includes
2025-01-13T19:12:33.1023410Z             npy/npz files containing object arrays. Values other than 'latin1',
2025-01-13T19:12:33.1023530Z             'ASCII', and 'bytes' are not allowed, as they can corrupt numerical
2025-01-13T19:12:33.1023590Z             data. Default: 'ASCII'
2025-01-13T19:12:33.1023660Z         max_header_size : int, optional
2025-01-13T19:12:33.1023790Z             Maximum allowed size of the header.  Large headers may not be safe
2025-01-13T19:12:33.1023930Z             to load securely and thus require explicitly passing a larger value.
2025-01-13T19:12:33.1024080Z             See :py:func:`ast.literal_eval()` for details.
2025-01-13T19:12:33.1024210Z             This option is ignored when `allow_pickle` is passed.  In that case
2025-01-13T19:12:33.1024330Z             the file is by definition trusted and the limit is unnecessary.
2025-01-13T19:12:33.1024380Z     
2025-01-13T19:12:33.1024420Z         Returns
2025-01-13T19:12:33.1024470Z         -------
2025-01-13T19:12:33.1024540Z         result : array, tuple, dict, etc.
2025-01-13T19:12:33.1024660Z             Data stored in the file. For ``.npz`` files, the returned instance
2025-01-13T19:12:33.1024790Z             of NpzFile class must be closed to avoid leaking file descriptors.
2025-01-13T19:12:33.1024840Z     
2025-01-13T19:12:33.1024890Z         Raises
2025-01-13T19:12:33.1024930Z         ------
2025-01-13T19:12:33.1024980Z         OSError
2025-01-13T19:12:33.1025070Z             If the input file does not exist or cannot be read.
2025-01-13T19:12:33.1025130Z         UnpicklingError
2025-01-13T19:12:33.1025260Z             If ``allow_pickle=True``, but the file cannot be loaded as a pickle.
2025-01-13T19:12:33.1025310Z         ValueError
2025-01-13T19:12:33.1025440Z             The file contains an object array, but ``allow_pickle=False`` given.
2025-01-13T19:12:33.1025490Z         EOFError
2025-01-13T19:12:33.1025610Z             When calling ``np.load`` multiple times on the same file handle,
2025-01-13T19:12:33.1025680Z             if all data has already been read
2025-01-13T19:12:33.1025730Z     
2025-01-13T19:12:33.1025770Z         See Also
2025-01-13T19:12:33.1025820Z         --------
2025-01-13T19:12:33.1025890Z         save, savez, savez_compressed, loadtxt
2025-01-13T19:12:33.1026020Z         memmap : Create a memory-map to an array stored in a file on disk.
2025-01-13T19:12:33.1026160Z         lib.format.open_memmap : Create or load a memory-mapped ``.npy`` file.
2025-01-13T19:12:33.1026240Z     
2025-01-13T19:12:33.1026290Z         Notes
2025-01-13T19:12:33.1026340Z         -----
2025-01-13T19:12:33.1026480Z         - If the file contains pickle data, then whatever object is stored
2025-01-13T19:12:33.1026550Z           in the pickle is returned.
2025-01-13T19:12:33.1026710Z         - If the file is a ``.npy`` file, then a single array is returned.
2025-01-13T19:12:33.1026830Z         - If the file is a ``.npz`` file, then a dictionary-like object is
2025-01-13T19:12:33.1026960Z           returned, containing ``{filename: array}`` key-value pairs, one for
2025-01-13T19:12:33.1027030Z           each file in the archive.
2025-01-13T19:12:33.1027140Z         - If the file is a ``.npz`` file, the returned value supports the
2025-01-13T19:12:33.1027280Z           context manager protocol in a similar fashion to the open function::
2025-01-13T19:12:33.1027330Z     
2025-01-13T19:12:33.1027400Z             with load('foo.npz') as data:
2025-01-13T19:12:33.1027450Z                 a = data['a']
2025-01-13T19:12:33.1027490Z     
2025-01-13T19:12:33.1027620Z           The underlying file descriptor is closed when exiting the 'with'
2025-01-13T19:12:33.1027670Z           block.
2025-01-13T19:12:33.1027720Z     
2025-01-13T19:12:33.1027770Z         Examples
2025-01-13T19:12:33.1027820Z         --------
2025-01-13T19:12:33.1027890Z         Store data to disk, and load it again:
2025-01-13T19:12:33.1027940Z     
2025-01-13T19:12:33.1028030Z         >>> np.save('/tmp/123', np.array([[1, 2, 3], [4, 5, 6]]))
2025-01-13T19:12:33.1028100Z         >>> np.load('/tmp/123.npy')
2025-01-13T19:12:33.1028150Z         array([[1, 2, 3],
2025-01-13T19:12:33.1028200Z                [4, 5, 6]])
2025-01-13T19:12:33.1028240Z     
2025-01-13T19:12:33.1039450Z         Store compressed data to disk, and load it again:
2025-01-13T19:12:33.1039610Z     
2025-01-13T19:12:33.1039680Z         >>> a=np.array([[1, 2, 3], [4, 5, 6]])
2025-01-13T19:12:33.1039780Z         >>> b=np.array([1, 2])
2025-01-13T19:12:33.1039860Z         >>> np.savez('/tmp/123.npz', a=a, b=b)
2025-01-13T19:12:33.1039940Z         >>> data = np.load('/tmp/123.npz')
2025-01-13T19:12:33.1040300Z         >>> data['a']
2025-01-13T19:12:33.1040390Z         array([[1, 2, 3],
2025-01-13T19:12:33.1040450Z                [4, 5, 6]])
2025-01-13T19:12:33.1040490Z         >>> data['b']
2025-01-13T19:12:33.1040550Z         array([1, 2])
2025-01-13T19:12:33.1040600Z         >>> data.close()
2025-01-13T19:12:33.1040640Z     
2025-01-13T19:12:33.1040760Z         Mem-map the stored array, and then access the second row
2025-01-13T19:12:33.1040810Z         directly from disk:
2025-01-13T19:12:33.1040880Z     
2025-01-13T19:12:33.1040960Z         >>> X = np.load('/tmp/123.npy', mmap_mode='r')
2025-01-13T19:12:33.1041050Z         >>> X[1, :]
2025-01-13T19:12:33.1041100Z         memmap([4, 5, 6])
2025-01-13T19:12:33.1041150Z     
2025-01-13T19:12:33.1041200Z         """
2025-01-13T19:12:33.1041290Z         if encoding not in ('ASCII', 'latin1', 'bytes'):
2025-01-13T19:12:33.1041400Z             # The 'encoding' value for pickle also affects what encoding
2025-01-13T19:12:33.1041520Z             # the serialized binary data of NumPy arrays is loaded
2025-01-13T19:12:33.1041630Z             # in. Pickle does not pass on the encoding information to
2025-01-13T19:12:33.1041740Z             # NumPy. The unpickling code in numpy.core.multiarray is
2025-01-13T19:12:33.1041860Z             # written to assume that unicode data appearing where binary
2025-01-13T19:12:33.1041980Z             # should be is in 'latin1'. 'bytes' is also safe, as is 'ASCII'.
2025-01-13T19:12:33.1042020Z             #
2025-01-13T19:12:33.1042130Z             # Other encoding values can corrupt binary data, and we
2025-01-13T19:12:33.1042250Z             # purposefully disallow them. For the same reason, the errors=
2025-01-13T19:12:33.1042360Z             # argument is not exposed, as values other than 'strict'
2025-01-13T19:12:33.1042460Z             # result can similarly silently corrupt numerical data.
2025-01-13T19:12:33.1042600Z             raise ValueError("encoding must be 'ASCII', 'latin1', or 'bytes'")
2025-01-13T19:12:33.1042650Z     
2025-01-13T19:12:33.1042770Z         pickle_kwargs = dict(encoding=encoding, fix_imports=fix_imports)
2025-01-13T19:12:33.1042820Z     
2025-01-13T19:12:33.1042900Z         with contextlib.ExitStack() as stack:
2025-01-13T19:12:33.1043540Z             if hasattr(file, 'read'):
2025-01-13T19:12:33.1043600Z                 fid = file
2025-01-13T19:12:33.1043660Z                 own_fid = False
2025-01-13T19:12:33.1043710Z             else:
2025-01-13T19:12:33.1043820Z >               fid = stack.enter_context(open(os_fspath(file), "rb"))
2025-01-13T19:12:33.1044230Z E               FileNotFoundError: [Errno 2] No such file or directory: '/Users/runner/work/tardis/tardis/tardis-regression-data/test_tau_sobolev/test_calculate_beta_sobolevs.npy'
2025-01-13T19:12:33.1044230Z 
2025-01-13T19:12:33.1044450Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/numpy/lib/npyio.py:427: FileNotFoundError
2025-01-13T19:12:33.1044710Z __ TestTransportSimpleFormalIntegral.test_spectrum_integrated[-1-downbranch] ___
2025-01-13T19:12:33.1044720Z 
2025-01-13T19:12:33.1044970Z self = <tardis.tests.test_tardis_full_formal_integral.TestTransportSimpleFormalIntegral object at 0x143b39b20>
2025-01-13T19:12:33.1045120Z simulation = <tardis.simulation.base.Simulation object at 0x154d3f020>
2025-01-13T19:12:33.1045290Z request = <FixtureRequest for <Function test_spectrum_integrated[-1-downbranch]>>
2025-01-13T19:12:33.1045290Z 
2025-01-13T19:12:33.1045400Z     def test_spectrum_integrated(self, simulation, request):
2025-01-13T19:12:33.1045480Z         regression_data = RegressionData(request)
2025-01-13T19:12:33.1045630Z >       luminosity = simulation.spectrum_solver.spectrum_integrated.luminosity
2025-01-13T19:12:33.1045640Z 
2025-01-13T19:12:33.1045740Z tardis/tests/test_tardis_full_formal_integral.py:96: 
2025-01-13T19:12:33.1045830Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-01-13T19:12:33.1045920Z tardis/spectrum/base.py:87: in spectrum_integrated
2025-01-13T19:12:33.1046280Z     self._spectrum_integrated = self.integrator.calculate_spectrum(
2025-01-13T19:12:33.1046440Z tardis/spectrum/formal_integral.py:405: in calculate_spectrum
2025-01-13T19:12:33.1046610Z     luminosity = u.Quantity(self.formal_integral(frequency, N), "erg") * (
2025-01-13T19:12:33.1046720Z tardis/spectrum/formal_integral.py:658: in formal_integral
2025-01-13T19:12:33.1046790Z     res = self.make_source_function()
2025-01-13T19:12:33.1046880Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-01-13T19:12:33.1046880Z 
2025-01-13T19:12:33.1047050Z self = <tardis.spectrum.formal_integral.FormalIntegrator object at 0x15ba3a480>
2025-01-13T19:12:33.1047060Z 
2025-01-13T19:12:33.1047120Z     def make_source_function(self):
2025-01-13T19:12:33.1047180Z         """
2025-01-13T19:12:33.1047400Z         Calculates the source function using the line absorption rate estimator `Edotlu_estimator`
2025-01-13T19:12:33.1047450Z     
2025-01-13T19:12:33.1047660Z         Formally it calculates the expression ( 1 - exp(-tau_ul) ) S_ul but this product is what we need later,
2025-01-13T19:12:33.1047780Z         so there is no need to factor out the source function explicitly.
2025-01-13T19:12:33.1047830Z     
2025-01-13T19:12:33.1047900Z         Parameters
2025-01-13T19:12:33.1047960Z         ----------
2025-01-13T19:12:33.1048030Z         model : tardis.model.SimulationState
2025-01-13T19:12:33.1048080Z     
2025-01-13T19:12:33.1048120Z         Returns
2025-01-13T19:12:33.1048170Z         -------
2025-01-13T19:12:33.1048360Z         Numpy array containing ( 1 - exp(-tau_ul) ) S_ul ordered by wavelength of the transition u -> l
2025-01-13T19:12:33.1048410Z         """
2025-01-13T19:12:33.1048450Z     
2025-01-13T19:12:33.1048530Z         simulation_state = self.simulation_state
2025-01-13T19:12:33.1048590Z         # slice for the active shells
2025-01-13T19:12:33.1048650Z         local_slice = slice(
2025-01-13T19:12:33.1048750Z             simulation_state.geometry.v_inner_boundary_index,
2025-01-13T19:12:33.1048860Z             simulation_state.geometry.v_outer_boundary_index,
2025-01-13T19:12:33.1048920Z         )
2025-01-13T19:12:33.1048960Z     
2025-01-13T19:12:33.1049030Z         transport = self.transport
2025-01-13T19:12:33.1049220Z         montecarlo_transport_state = transport.transport_state
2025-01-13T19:12:33.1049300Z         transition_probabilities = (
2025-01-13T19:12:33.1049440Z >           self.original_plasma.transition_probabilities.iloc[:, local_slice]
2025-01-13T19:12:33.1049510Z         )
2025-01-13T19:12:33.1049680Z E       AttributeError: 'FormalIntegrator' object has no attribute 'original_plasma'
2025-01-13T19:12:33.1049680Z 
2025-01-13T19:12:33.1049790Z tardis/spectrum/formal_integral.py:448: AttributeError
2025-01-13T19:12:33.1049970Z ___ TestTransportSimpleFormalIntegral.test_spectrum_integrated[-1-macroatom] ___
2025-01-13T19:12:33.1049970Z 
2025-01-13T19:12:33.1050220Z self = <tardis.tests.test_tardis_full_formal_integral.TestTransportSimpleFormalIntegral object at 0x143b3a300>
2025-01-13T19:12:33.1050380Z simulation = <tardis.simulation.base.Simulation object at 0x16554d3d0>
2025-01-13T19:12:33.1050540Z request = <FixtureRequest for <Function test_spectrum_integrated[-1-macroatom]>>
2025-01-13T19:12:33.1050550Z 
2025-01-13T19:12:33.1050650Z     def test_spectrum_integrated(self, simulation, request):
2025-01-13T19:12:33.1050830Z         regression_data = RegressionData(request)
2025-01-13T19:12:33.1050990Z >       luminosity = simulation.spectrum_solver.spectrum_integrated.luminosity
2025-01-13T19:12:33.1050990Z 
2025-01-13T19:12:33.1051090Z tardis/tests/test_tardis_full_formal_integral.py:96: 
2025-01-13T19:12:33.1051190Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-01-13T19:12:33.1051280Z tardis/spectrum/base.py:87: in spectrum_integrated
2025-01-13T19:12:33.1051420Z     self._spectrum_integrated = self.integrator.calculate_spectrum(
2025-01-13T19:12:33.1051540Z tardis/spectrum/formal_integral.py:405: in calculate_spectrum
2025-01-13T19:12:33.1051770Z     luminosity = u.Quantity(self.formal_integral(frequency, N), "erg") * (
2025-01-13T19:12:33.1051880Z tardis/spectrum/formal_integral.py:658: in formal_integral
2025-01-13T19:12:33.1051950Z     res = self.make_source_function()
2025-01-13T19:12:33.1052040Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-01-13T19:12:33.1052040Z 
2025-01-13T19:12:33.1052200Z self = <tardis.spectrum.formal_integral.FormalIntegrator object at 0x313c50770>
2025-01-13T19:12:33.1052200Z 
2025-01-13T19:12:33.1052270Z     def make_source_function(self):
2025-01-13T19:12:33.1052320Z         """
2025-01-13T19:12:33.1052510Z         Calculates the source function using the line absorption rate estimator `Edotlu_estimator`
2025-01-13T19:12:33.1052560Z     
2025-01-13T19:12:33.1052760Z         Formally it calculates the expression ( 1 - exp(-tau_ul) ) S_ul but this product is what we need later,
2025-01-13T19:12:33.1052890Z         so there is no need to factor out the source function explicitly.
2025-01-13T19:12:33.1052930Z     
2025-01-13T19:12:33.1052980Z         Parameters
2025-01-13T19:12:33.1053030Z         ----------
2025-01-13T19:12:33.1053100Z         model : tardis.model.SimulationState
2025-01-13T19:12:33.1053150Z     
2025-01-13T19:12:33.1053190Z         Returns
2025-01-13T19:12:33.1053240Z         -------
2025-01-13T19:12:33.1053440Z         Numpy array containing ( 1 - exp(-tau_ul) ) S_ul ordered by wavelength of the transition u -> l
2025-01-13T19:12:33.1053490Z         """
2025-01-13T19:12:33.1053540Z     
2025-01-13T19:12:33.1053610Z         simulation_state = self.simulation_state
2025-01-13T19:12:33.1053680Z         # slice for the active shells
2025-01-13T19:12:33.1053730Z         local_slice = slice(
2025-01-13T19:12:33.1053830Z             simulation_state.geometry.v_inner_boundary_index,
2025-01-13T19:12:33.1053930Z             simulation_state.geometry.v_outer_boundary_index,
2025-01-13T19:12:33.1053970Z         )
2025-01-13T19:12:33.1054020Z     
2025-01-13T19:12:33.1054100Z         transport = self.transport
2025-01-13T19:12:33.1054230Z         montecarlo_transport_state = transport.transport_state
2025-01-13T19:12:33.1054300Z         transition_probabilities = (
2025-01-13T19:12:33.1054560Z >           self.original_plasma.transition_probabilities.iloc[:, local_slice]
2025-01-13T19:12:33.1054620Z         )
2025-01-13T19:12:33.1054790Z E       AttributeError: 'FormalIntegrator' object has no attribute 'original_plasma'
2025-01-13T19:12:33.1054790Z 
2025-01-13T19:12:33.1054900Z tardis/spectrum/formal_integral.py:448: AttributeError
2025-01-13T19:12:33.1055080Z ___ TestTransportSimpleFormalIntegral.test_spectrum_integrated[30-macroatom] ___
2025-01-13T19:12:33.1055080Z 
2025-01-13T19:12:33.1055330Z self = <tardis.tests.test_tardis_full_formal_integral.TestTransportSimpleFormalIntegral object at 0x143b3a510>
2025-01-13T19:12:33.1055480Z simulation = <tardis.simulation.base.Simulation object at 0x313c53920>
2025-01-13T19:12:33.1055650Z request = <FixtureRequest for <Function test_spectrum_integrated[30-macroatom]>>
2025-01-13T19:12:33.1055650Z 
2025-01-13T19:12:33.1055750Z     def test_spectrum_integrated(self, simulation, request):
2025-01-13T19:12:33.1055840Z         regression_data = RegressionData(request)
2025-01-13T19:12:33.1055990Z >       luminosity = simulation.spectrum_solver.spectrum_integrated.luminosity
2025-01-13T19:12:33.1055990Z 
2025-01-13T19:12:33.1056090Z tardis/tests/test_tardis_full_formal_integral.py:96: 
2025-01-13T19:12:33.1056180Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-01-13T19:12:33.1056290Z tardis/spectrum/base.py:87: in spectrum_integrated
2025-01-13T19:12:33.1056430Z     self._spectrum_integrated = self.integrator.calculate_spectrum(
2025-01-13T19:12:33.1056550Z tardis/spectrum/formal_integral.py:405: in calculate_spectrum
2025-01-13T19:12:33.1056700Z     luminosity = u.Quantity(self.formal_integral(frequency, N), "erg") * (
2025-01-13T19:12:33.1056900Z tardis/spectrum/formal_integral.py:658: in formal_integral
2025-01-13T19:12:33.1056960Z     res = self.make_source_function()
2025-01-13T19:12:33.1057050Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-01-13T19:12:33.1057060Z 
2025-01-13T19:12:33.1057230Z self = <tardis.spectrum.formal_integral.FormalIntegrator object at 0x177ae8da0>
2025-01-13T19:12:33.1057230Z 
2025-01-13T19:12:33.1057290Z     def make_source_function(self):
2025-01-13T19:12:33.1057340Z         """
2025-01-13T19:12:33.1057530Z         Calculates the source function using the line absorption rate estimator `Edotlu_estimator`
2025-01-13T19:12:33.1057580Z     
2025-01-13T19:12:33.1057780Z         Formally it calculates the expression ( 1 - exp(-tau_ul) ) S_ul but this product is what we need later,
2025-01-13T19:12:33.1057890Z         so there is no need to factor out the source function explicitly.
2025-01-13T19:12:33.1057940Z     
2025-01-13T19:12:33.1057990Z         Parameters
2025-01-13T19:12:33.1058040Z         ----------
2025-01-13T19:12:33.1058120Z         model : tardis.model.SimulationState
2025-01-13T19:12:33.1058160Z     
2025-01-13T19:12:33.1058210Z         Returns
2025-01-13T19:12:33.1058260Z         -------
2025-01-13T19:12:33.1058440Z         Numpy array containing ( 1 - exp(-tau_ul) ) S_ul ordered by wavelength of the transition u -> l
2025-01-13T19:12:33.1058490Z         """
2025-01-13T19:12:33.1058540Z     
2025-01-13T19:12:33.1058610Z         simulation_state = self.simulation_state
2025-01-13T19:12:33.1058670Z         # slice for the active shells
2025-01-13T19:12:33.1058730Z         local_slice = slice(
2025-01-13T19:12:33.1058830Z             simulation_state.geometry.v_inner_boundary_index,
2025-01-13T19:12:33.1058930Z             simulation_state.geometry.v_outer_boundary_index,
2025-01-13T19:12:33.1058980Z         )
2025-01-13T19:12:33.1059020Z     
2025-01-13T19:12:33.1059090Z         transport = self.transport
2025-01-13T19:12:33.1059190Z         montecarlo_transport_state = transport.transport_state
2025-01-13T19:12:33.1059260Z         transition_probabilities = (
2025-01-13T19:12:33.1059400Z >           self.original_plasma.transition_probabilities.iloc[:, local_slice]
2025-01-13T19:12:33.1059450Z         )
2025-01-13T19:12:33.1059680Z E       AttributeError: 'FormalIntegrator' object has no attribute 'original_plasma'
2025-01-13T19:12:33.1059680Z 
2025-01-13T19:12:33.1059790Z tardis/spectrum/formal_integral.py:448: AttributeError
2025-01-13T19:12:33.1059970Z __ TestTransportSimpleFormalIntegral.test_spectrum_integrated[30-downbranch] ___
2025-01-13T19:12:33.1059980Z 
2025-01-13T19:12:33.1060220Z self = <tardis.tests.test_tardis_full_formal_integral.TestTransportSimpleFormalIntegral object at 0x143b3a450>
2025-01-13T19:12:33.1060370Z simulation = <tardis.simulation.base.Simulation object at 0x154b05a00>
2025-01-13T19:12:33.1060530Z request = <FixtureRequest for <Function test_spectrum_integrated[30-downbranch]>>
2025-01-13T19:12:33.1060530Z 
2025-01-13T19:12:33.1060650Z     def test_spectrum_integrated(self, simulation, request):
2025-01-13T19:12:33.1060730Z         regression_data = RegressionData(request)
2025-01-13T19:12:33.1060880Z >       luminosity = simulation.spectrum_solver.spectrum_integrated.luminosity
2025-01-13T19:12:33.1060880Z 
2025-01-13T19:12:33.1060990Z tardis/tests/test_tardis_full_formal_integral.py:96: 
2025-01-13T19:12:33.1061070Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-01-13T19:12:33.1061170Z tardis/spectrum/base.py:87: in spectrum_integrated
2025-01-13T19:12:33.1061300Z     self._spectrum_integrated = self.integrator.calculate_spectrum(
2025-01-13T19:12:33.1061420Z tardis/spectrum/formal_integral.py:405: in calculate_spectrum
2025-01-13T19:12:33.1061560Z     luminosity = u.Quantity(self.formal_integral(frequency, N), "erg") * (
2025-01-13T19:12:33.1061670Z tardis/spectrum/formal_integral.py:658: in formal_integral
2025-01-13T19:12:33.1061730Z     res = self.make_source_function()
2025-01-13T19:12:33.1061870Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-01-13T19:12:33.1061870Z 
2025-01-13T19:12:33.1062030Z self = <tardis.spectrum.formal_integral.FormalIntegrator object at 0x1662c6120>
2025-01-13T19:12:33.1062030Z 
2025-01-13T19:12:33.1062110Z     def make_source_function(self):
2025-01-13T19:12:33.1062150Z         """
2025-01-13T19:12:33.1062340Z         Calculates the source function using the line absorption rate estimator `Edotlu_estimator`
2025-01-13T19:12:33.1062390Z     
2025-01-13T19:12:33.1062590Z         Formally it calculates the expression ( 1 - exp(-tau_ul) ) S_ul but this product is what we need later,
2025-01-13T19:12:33.1062710Z         so there is no need to factor out the source function explicitly.
2025-01-13T19:12:33.1062760Z     
2025-01-13T19:12:33.1062810Z         Parameters
2025-01-13T19:12:33.1062850Z         ----------
2025-01-13T19:12:33.1062950Z         model : tardis.model.SimulationState
2025-01-13T19:12:33.1063000Z     
2025-01-13T19:12:33.1063050Z         Returns
2025-01-13T19:12:33.1063100Z         -------
2025-01-13T19:12:33.1063280Z         Numpy array containing ( 1 - exp(-tau_ul) ) S_ul ordered by wavelength of the transition u -> l
2025-01-13T19:12:33.1063330Z         """
2025-01-13T19:12:33.1063370Z     
2025-01-13T19:12:33.1063450Z         simulation_state = self.simulation_state
2025-01-13T19:12:33.1063520Z         # slice for the active shells
2025-01-13T19:12:33.1063570Z         local_slice = slice(
2025-01-13T19:12:33.1063670Z             simulation_state.geometry.v_inner_boundary_index,
2025-01-13T19:12:33.1063770Z             simulation_state.geometry.v_outer_boundary_index,
2025-01-13T19:12:33.1063810Z         )
2025-01-13T19:12:33.1063860Z     
2025-01-13T19:12:33.1063920Z         transport = self.transport
2025-01-13T19:12:33.1064020Z         montecarlo_transport_state = transport.transport_state
2025-01-13T19:12:33.1064090Z         transition_probabilities = (
2025-01-13T19:12:33.1064260Z >           self.original_plasma.transition_probabilities.iloc[:, local_slice]
2025-01-13T19:12:33.1064310Z         )
2025-01-13T19:12:33.1064480Z E       AttributeError: 'FormalIntegrator' object has no attribute 'original_plasma'
2025-01-13T19:12:33.1064490Z 
2025-01-13T19:12:33.1064980Z tardis/spectrum/formal_integral.py:448: AttributeError
2025-01-13T19:12:33.1065090Z =============================== warnings summary ===============================
2025-01-13T19:12:33.1065190Z tardis/io/configuration/config_validator.py:6
2025-01-13T19:12:33.1065270Z tardis/io/configuration/config_validator.py:6
2025-01-13T19:12:33.1065520Z   /Users/runner/work/tardis/tardis/tardis/io/configuration/config_validator.py:6: DeprecationWarning:
2025-01-13T19:12:33.1065630Z   
2025-01-13T19:12:33.1066560Z   jsonschema.RefResolver is deprecated as of v4.18.0, in favor of the https://github.com/python-jsonschema/referencing library, which provides more compliant referencing behavior as well as more flexible APIs for customization. A future release will remove RefResolver. Please file a feature request (on referencing) if you are missing an API for the kind of customization you need.
2025-01-13T19:12:33.1066570Z 
2025-01-13T19:12:33.1066760Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/jupyter_client/connect.py:22
2025-01-13T19:12:33.1067050Z   /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages/jupyter_client/connect.py:22: DeprecationWarning:
2025-01-13T19:12:33.1067100Z   
2025-01-13T19:12:33.1067220Z   Jupyter is migrating its paths to use standard platformdirs
2025-01-13T19:12:33.1067330Z   given by the platformdirs library.  To remove this warning and
2025-01-13T19:12:33.1067460Z   see the appropriate new directories, set the environment variable
2025-01-13T19:12:33.1067570Z   `JUPYTER_PLATFORM_DIRS=1` and then run `jupyter --paths`.
2025-01-13T19:12:33.1067690Z   The use of platformdirs will be the default in `jupyter_core` v6
2025-01-13T19:12:33.1067690Z 
2025-01-13T19:12:33.1067870Z tardis/io/tests/test_HDFWriter.py::test_multi_index_write
2025-01-13T19:12:33.1068520Z tardis/visualization/widgets/tests/test_shell_info.py::TestHDFShellInfo::test_shells_data
2025-01-13T19:12:33.1068690Z   /Users/runner/work/tardis/tardis/tardis/io/util.py:276: PerformanceWarning:
2025-01-13T19:12:33.1068730Z   
2025-01-13T19:12:33.1068780Z   
2025-01-13T19:12:33.1068950Z   your performance may suffer as PyTables will pickle object types that it cannot
2025-01-13T19:12:33.1069150Z   map directly to c-types [inferred_type->mixed,key->block0_values] [items->Index([0], dtype='int64')]
2025-01-13T19:12:33.1069160Z 
2025-01-13T19:12:33.1069310Z tardis/io/tests/test_model_reader.py::test_read_cmfgen_isotope_abundances
2025-01-13T19:12:33.1069480Z tardis/plasma/tests/test_tardis_model_density_config.py::test_electron_densities
2025-01-13T19:12:33.1069660Z tardis/plasma/tests/test_tardis_model_density_config.py::test_isotope_number_densities
2025-01-13T19:12:33.1069810Z tardis/plasma/tests/test_tardis_model_density_config.py::test_t_rad
2025-01-13T19:12:33.1070060Z   /Users/runner/work/tardis/tardis/tardis/io/model/readers/cmfgen_deprecated.py:82: DeprecationWarning:
2025-01-13T19:12:33.1070110Z   
2025-01-13T19:12:33.1070190Z   The current CMFGEN model parser is deprecated
2025-01-13T19:12:33.1070190Z 
2025-01-13T19:12:33.1070280Z tardis/io/tests/test_model_reader.py: 1 warning
2025-01-13T19:12:33.1070420Z tardis/plasma/tests/test_tardis_model_density_config.py: 9 warnings
2025-01-13T19:12:33.1070710Z   /Users/runner/work/tardis/tardis/tardis/io/model/readers/cmfgen_deprecated.py:40: DeprecationWarning:
2025-01-13T19:12:33.1070760Z   
2025-01-13T19:12:33.1070850Z   The current CMFGEN model parser is deprecated
2025-01-13T19:12:33.1070850Z 
2025-01-13T19:12:33.1071010Z tardis/model/tests/test_base.py::TestModelFromPaper1Config::test_abundances
2025-01-13T19:12:33.1071310Z   /Users/runner/work/tardis/tardis/tardis/transport/montecarlo/montecarlo_main_loop.py:123: NumbaTypeSafetyWarning:
2025-01-13T19:12:33.1071350Z   
2025-01-13T19:12:33.1071780Z   [1m[1m[1munsafe cast from uint64 to int64. Precision may be lost.[0m[0m[0m
2025-01-13T19:12:33.1071780Z 
2025-01-13T19:12:33.1071870Z tardis/model/tests/test_base.py: 6 warnings
2025-01-13T19:12:33.1071950Z tardis/model/tests/test_csvy_model.py: 2 warnings
2025-01-13T19:12:33.1072260Z tardis/plasma/tests/test_tardis_model_density_config.py: 3 warnings
2025-01-13T19:12:33.1072480Z   /Users/runner/work/tardis/tardis/tardis/model/geometry/radial1d.py:50: DeprecationWarning:
2025-01-13T19:12:33.1072530Z   
2025-01-13T19:12:33.1072600Z   v_inner_boundary < 0, assuming default value
2025-01-13T19:12:33.1072600Z 
2025-01-13T19:12:33.1072680Z tardis/model/tests/test_base.py: 6 warnings
2025-01-13T19:12:33.1072770Z tardis/model/tests/test_csvy_model.py: 2 warnings
2025-01-13T19:12:33.1072900Z tardis/plasma/tests/test_tardis_model_density_config.py: 3 warnings
2025-01-13T19:12:33.1073110Z   /Users/runner/work/tardis/tardis/tardis/model/geometry/radial1d.py:61: DeprecationWarning:
2025-01-13T19:12:33.1073160Z   
2025-01-13T19:12:33.1073240Z   v_outer_boundary < 0, assuming default value
2025-01-13T19:12:33.1073240Z 
2025-01-13T19:12:33.1073610Z tardis/plasma/equilibrium/tests/test_level_populations.py::TestLevelPopulationSolver::test_solve[collisional_rate_solver0-radiative_transitions0]
2025-01-13T19:12:33.1073850Z   /Users/runner/work/tardis/tardis/tardis/plasma/equilibrium/level_populations.py:65: FutureWarning:
2025-01-13T19:12:33.1073900Z   
2025-01-13T19:12:33.1074130Z   A value is trying to be set on a copy of a DataFrame or Series through chained assignment using an inplace method.
2025-01-13T19:12:33.1074480Z   The behavior will change in pandas 3.0. This inplace method will never work because the intermediate object on which we are setting values always behaves as a copy.
2025-01-13T19:12:33.1074530Z   
2025-01-13T19:12:33.1074950Z   For example, when doing 'df[col].method(value, inplace=True)', try using 'df.method({col: value}, inplace=True)' or df[col] = df[col].method(value) instead, to perform the operation inplace on the original object.
2025-01-13T19:12:33.1075030Z 
2025-01-13T19:12:33.1075140Z tardis/plasma/tests/test_complete_plasmas.py: 20 warnings
2025-01-13T19:12:33.1075370Z   /Users/runner/work/tardis/tardis/tardis/plasma/tests/test_complete_plasmas.py:197: UserWarning:
2025-01-13T19:12:33.1075420Z   
2025-01-13T19:12:33.1075490Z   Property "atomic_mass" not found
2025-01-13T19:12:33.1075490Z 
2025-01-13T19:12:33.1075850Z tardis/plasma/tests/test_complete_plasmas.py::TestPlasma::test_plasma_properties[radiative_rates_type:detailed-w_epsilon:1e-10-j_blues_norm_factor]
2025-01-13T19:12:33.1076170Z tardis/plasma/tests/test_complete_plasmas.py::TestPlasma::test_plasma_properties[radiative_rates_type:detailed-j_blues_norm_factor]
2025-01-13T19:12:33.1076390Z   /Users/runner/work/tardis/tardis/tardis/plasma/tests/test_complete_plasmas.py:197: UserWarning:
2025-01-13T19:12:33.1076440Z   
2025-01-13T19:12:33.1076510Z   Property "j_blues_norm_factor" not found
2025-01-13T19:12:33.1076510Z 
2025-01-13T19:12:33.1076840Z tardis/plasma/tests/test_complete_plasmas.py::TestPlasma::test_plasma_properties[radiative_rates_type:detailed-w_epsilon:1e-10-j_blue_estimator]
2025-01-13T19:12:33.1077180Z tardis/plasma/tests/test_complete_plasmas.py::TestPlasma::test_plasma_properties[radiative_rates_type:detailed-j_blue_estimator]
2025-01-13T19:12:33.1077400Z   /Users/runner/work/tardis/tardis/tardis/plasma/tests/test_complete_plasmas.py:197: UserWarning:
2025-01-13T19:12:33.1077460Z   
2025-01-13T19:12:33.1077520Z   Property "j_blue_estimator" not found
2025-01-13T19:12:33.1077520Z 
2025-01-13T19:12:33.1077830Z tardis/plasma/tests/test_complete_plasmas.py::TestPlasma::test_plasma_properties[radiative_rates_type:detailed-w_epsilon:1e-10-volume]
2025-01-13T19:12:33.1078100Z tardis/plasma/tests/test_complete_plasmas.py::TestPlasma::test_plasma_properties[radiative_rates_type:detailed-volume]
2025-01-13T19:12:33.1078320Z   /Users/runner/work/tardis/tardis/tardis/plasma/tests/test_complete_plasmas.py:197: UserWarning:
2025-01-13T19:12:33.1078370Z   
2025-01-13T19:12:33.1078430Z   Property "volume" not found
2025-01-13T19:12:33.1078440Z 
2025-01-13T19:12:33.1078750Z tardis/plasma/tests/test_complete_plasmas.py::TestPlasma::test_plasma_properties[radiative_rates_type:detailed-w_epsilon:1e-10-r_inner]
2025-01-13T19:12:33.1079080Z tardis/plasma/tests/test_complete_plasmas.py::TestPlasma::test_plasma_properties[radiative_rates_type:detailed-r_inner]
2025-01-13T19:12:33.1079320Z   /Users/runner/work/tardis/tardis/tardis/plasma/tests/test_complete_plasmas.py:197: UserWarning:
2025-01-13T19:12:33.1079360Z   
2025-01-13T19:12:33.1079420Z   Property "r_inner" not found
2025-01-13T19:12:33.1079420Z 
2025-01-13T19:12:33.1079590Z tardis/plasma/tests/test_plasma_vboundary.py::test_plasma_vboundary[2900-3750]
2025-01-13T19:12:33.1079750Z tardis/plasma/tests/test_plasma_vboundary.py::test_plasma_vboundary[2900-3850]
2025-01-13T19:12:33.1079920Z tardis/plasma/tests/test_plasma_vboundary.py::test_plasma_vboundary[2900-3900]
2025-01-13T19:12:33.1080100Z   /Users/runner/work/tardis/tardis/tardis/model/geometry/radial1d.py:71: UserWarning:
2025-01-13T19:12:33.1080160Z   
2025-01-13T19:12:33.1080310Z   Requesting inner boundary below inner shell. Extrapolating the inner cell
2025-01-13T19:12:33.1080310Z 
2025-01-13T19:12:33.1080480Z tardis/spectrum/tests/test_spectrum_solver.py::TestSpectrumSolver::test_solve
2025-01-13T19:12:33.1080640Z   /Users/runner/work/tardis/tardis/tardis/spectrum/base.py:70: UserWarning:
2025-01-13T19:12:33.1080690Z   
2025-01-13T19:12:33.1080940Z   SpectrumSolver.spectrum_virtual_packets is zero. Please run the montecarlo simulation with no_of_virtual_packets > 0
2025-01-13T19:12:33.1080950Z 
2025-01-13T19:12:33.1081120Z tardis/spectrum/tests/test_spectrum_solver.py::TestSpectrumSolver::test_solve
2025-01-13T19:12:33.1081290Z   /Users/runner/work/tardis/tardis/tardis/spectrum/base.py:111: UserWarning:
2025-01-13T19:12:33.1081330Z   
2025-01-13T19:12:33.1081620Z   SpectrumSolver.integrator: The FormalIntegrator is not yet available.Please run the montecarlo simulation at least once.
2025-01-13T19:12:33.1081680Z 
2025-01-13T19:12:33.1081850Z tardis/transport/montecarlo/tests/test_vpacket.py::test_trace_vpacket_volley
2025-01-13T19:12:33.1081940Z   <string>:3: NumbaPendingDeprecationWarning:
2025-01-13T19:12:33.1081990Z   
2025-01-13T19:12:33.1082810Z   [1m[1mCode using Numba extension API maybe depending on 'old_style' error-capturing, which is deprecated and will be replaced by 'new_style' in a future release. See details at https://numba.readthedocs.io/en/latest/reference/deprecation.html#deprecation-of-old-style-numba-captured-errors
2025-01-13T19:12:33.1082860Z   Exception origin:
2025-01-13T19:12:33.1083070Z     File "/Users/runner/micromamba/envs/tardis/lib/python3.12/inspect.py", line 3180, in _bind
2025-01-13T19:12:33.1083130Z       raise TypeError(msg) from None
2025-01-13T19:12:33.1083190Z   [0m[0m
2025-01-13T19:12:33.1083190Z 
2025-01-13T19:12:33.1083460Z tardis/visualization/tools/tests/test_sdec_plot.py::TestSDECPlotter::test_mpl_image[plotter_generate_plot_mpl4]
2025-01-13T19:12:33.1083690Z   /Users/runner/work/tardis/tardis/tardis/visualization/tools/sdec_plot.py:1225: RuntimeWarning:
2025-01-13T19:12:33.1083740Z   
2025-01-13T19:12:33.1084420Z   More than 20 figures have been opened. Figures created through the pyplot interface (`matplotlib.pyplot.figure`) are retained until explicitly closed and may consume too much memory. (To control this warning, see the rcParam `figure.max_open_warning`). Consider using `matplotlib.pyplot.close()`.
2025-01-13T19:12:33.1084430Z 
2025-01-13T19:12:33.1084720Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-01-13T19:12:33.1084990Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-01-13T19:12:33.1085260Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-01-13T19:12:33.1085540Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-01-13T19:12:33.1085810Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-01-13T19:12:33.1086170Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-01-13T19:12:33.1086450Z   /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages/traitlets/traitlets.py:1385: DeprecationWarning:
2025-01-13T19:12:33.1086500Z   
2025-01-13T19:12:33.1086650Z   Passing unrecognized arguments to super(Checkbox).__init__(icon='lock').
2025-01-13T19:12:33.1086790Z   object.__init__() takes exactly one argument (the instance to initialize)
2025-01-13T19:12:33.1086990Z   This is deprecated in traitlets 4.2.This error will be raised in a future release of traitlets.
2025-01-13T19:12:33.1086990Z 
2025-01-13T19:12:33.1087260Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-01-13T19:12:33.1087540Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-01-13T19:12:33.1087820Z   /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages/traitlets/traitlets.py:1385: DeprecationWarning:
2025-01-13T19:12:33.1087870Z   
2025-01-13T19:12:33.1088010Z   Passing unrecognized arguments to super(FloatText).__init__(min=0).
2025-01-13T19:12:33.1088150Z   object.__init__() takes exactly one argument (the instance to initialize)
2025-01-13T19:12:33.1088350Z   This is deprecated in traitlets 4.2.This error will be raised in a future release of traitlets.
2025-01-13T19:12:33.1088350Z 
2025-01-13T19:12:33.1088620Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-01-13T19:12:33.1088900Z   /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages/traitlets/traitlets.py:1385: DeprecationWarning:
2025-01-13T19:12:33.1088990Z   
2025-01-13T19:12:33.1089140Z   Passing unrecognized arguments to super(HTML).__init__(indent=True).
2025-01-13T19:12:33.1089270Z   object.__init__() takes exactly one argument (the instance to initialize)
2025-01-13T19:12:33.1089470Z   This is deprecated in traitlets 4.2.This error will be raised in a future release of traitlets.
2025-01-13T19:12:33.1089470Z 
2025-01-13T19:12:33.1089810Z tardis/visualization/widgets/tests/test_line_info.py::TestLineInfoWidgetData::test_get_species_interactions[wavelength_range0-packet_out_nu]
2025-01-13T19:12:33.1090070Z   /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages/qgridnext/grid.py:825: DeprecationWarning:
2025-01-13T19:12:33.1090120Z   
2025-01-13T19:12:33.1090360Z   QgridWidget._grid_options_changed is deprecated in traitlets 4.1: use @observe and @unobserve instead.
2025-01-13T19:12:33.1090360Z 
2025-01-13T19:12:33.1090570Z tardis/visualization/widgets/tests/test_shell_info.py::TestHDFShellInfo::test_shells_data
2025-01-13T19:12:33.1090770Z tardis/visualization/widgets/tests/test_shell_info.py::TestHDFShellInfo::test_shells_data
2025-01-13T19:12:33.1091080Z   /Users/runner/work/tardis/tardis/tardis/io/util.py:289: PerformanceWarning:
2025-01-13T19:12:33.1091120Z   
2025-01-13T19:12:33.1091170Z   
2025-01-13T19:12:33.1091330Z   your performance may suffer as PyTables will pickle object types that it cannot
2025-01-13T19:12:33.1091530Z   map directly to c-types [inferred_type->mixed,key->block0_values] [items->Index([0], dtype='int64')]
2025-01-13T19:12:33.1091540Z 
2025-01-13T19:12:33.1091740Z tardis/visualization/widgets/tests/test_shell_info.py::TestHDFShellInfo::test_shells_data
2025-01-13T19:12:33.1091900Z   /Users/runner/work/tardis/tardis/tardis/io/util.py:292: PerformanceWarning:
2025-01-13T19:12:33.1091950Z   
2025-01-13T19:12:33.1091990Z   
2025-01-13T19:12:33.1092150Z   your performance may suffer as PyTables will pickle object types that it cannot
2025-01-13T19:12:33.1092290Z   map directly to c-types [inferred_type->mixed,key->values] [items->None]
2025-01-13T19:12:33.1092290Z 
2025-01-13T19:12:33.1092500Z tardis/visualization/widgets/tests/test_shell_info.py::TestHDFShellInfo::test_shells_data
2025-01-13T19:12:33.1092970Z   /Users/runner/work/tardis/tardis/tardis/spectrum/formal_integral.py:398: UserWarning:
2025-01-13T19:12:33.1093040Z   
2025-01-13T19:12:33.1093200Z   The number of interpolate_shells was not specified. The value was set to 80.
2025-01-13T19:12:33.1093200Z 
2025-01-13T19:12:33.1093370Z -- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
2025-01-13T19:12:33.1093370Z 
2025-01-13T19:12:33.1093500Z ---------- coverage: platform darwin, python 3.12.4-final-0 ----------
2025-01-13T19:12:33.1093590Z Coverage HTML written to dir coverage_html_report
2025-01-13T19:12:33.1093670Z Coverage XML written to file coverage.xml
2025-01-13T19:12:33.1093670Z 
2025-01-13T19:12:33.1093770Z =========================== short test summary info ============================
2025-01-13T19:12:33.1094380Z FAILED tardis/opacities/tests/test_tau_sobolev.py::test_calculate_sobolev_line_opacity - FileNotFoundError: File /Users/runner/work/tardis/tardis/tardis-regression-data/test_tau_sobolev/test_calculate_sobolev_line_opacity.h5 does not exist
2025-01-13T19:12:33.1094970Z FAILED tardis/opacities/tests/test_tau_sobolev.py::test_calculate_beta_sobolevs - FileNotFoundError: [Errno 2] No such file or directory: '/Users/runner/work/tardis/tardis/tardis-regression-data/test_tau_sobolev/test_calculate_beta_sobolevs.npy'
2025-01-13T19:12:33.1095480Z FAILED tardis/tests/test_tardis_full_formal_integral.py::TestTransportSimpleFormalIntegral::test_spectrum_integrated[-1-downbranch] - AttributeError: 'FormalIntegrator' object has no attribute 'original_plasma'
2025-01-13T19:12:33.1095980Z FAILED tardis/tests/test_tardis_full_formal_integral.py::TestTransportSimpleFormalIntegral::test_spectrum_integrated[-1-macroatom] - AttributeError: 'FormalIntegrator' object has no attribute 'original_plasma'
2025-01-13T19:12:33.1097030Z FAILED tardis/tests/test_tardis_full_formal_integral.py::TestTransportSimpleFormalIntegral::test_spectrum_integrated[30-macroatom] - AttributeError: 'FormalIntegrator' object has no attribute 'original_plasma'
2025-01-13T19:12:33.1097530Z FAILED tardis/tests/test_tardis_full_formal_integral.py::TestTransportSimpleFormalIntegral::test_spectrum_integrated[30-downbranch] - AttributeError: 'FormalIntegrator' object has no attribute 'original_plasma'
2025-01-13T19:12:33.1097890Z ERROR tardis/visualization/widgets/tests/test_shell_info.py::TestHDFShellInfo::test_shells_data - TypeError: cannot pickle 'PacketCollection' object
2025-01-13T19:12:33.1098250Z ERROR tardis/visualization/widgets/tests/test_shell_info.py::TestHDFShellInfo::test_element_count_data[1] - TypeError: cannot pickle 'PacketCollection' object
2025-01-13T19:12:33.1098630Z ERROR tardis/visualization/widgets/tests/test_shell_info.py::TestHDFShellInfo::test_element_count_data[20] - TypeError: cannot pickle 'PacketCollection' object
2025-01-13T19:12:33.1098990Z ERROR tardis/visualization/widgets/tests/test_shell_info.py::TestHDFShellInfo::test_ion_count_data[12-1] - TypeError: cannot pickle 'PacketCollection' object
2025-01-13T19:12:33.1099350Z ERROR tardis/visualization/widgets/tests/test_shell_info.py::TestHDFShellInfo::test_ion_count_data[20-20] - TypeError: cannot pickle 'PacketCollection' object
2025-01-13T19:12:33.1099740Z ERROR tardis/visualization/widgets/tests/test_shell_info.py::TestHDFShellInfo::test_level_count_data[2-12-1] - TypeError: cannot pickle 'PacketCollection' object
2025-01-13T19:12:33.1100120Z ERROR tardis/visualization/widgets/tests/test_shell_info.py::TestHDFShellInfo::test_level_count_data[3-20-20] - TypeError: cannot pickle 'PacketCollection' object
2025-01-13T19:12:33.1100360Z = 6 failed, 1425 passed, 329 skipped, 2 deselected, 19 xfailed, 8 xpassed, 92 warnings, 7 errors in 486.62s (0:08:06) =
2025-01-13T19:12:34.8305130Z ##[error]Process completed with exit code 1.
2025-01-13T19:12:34.8728490Z Post job cleanup.
2025-01-13T19:12:34.9110870Z Post job cleanup.
2025-01-13T19:12:35.2458770Z Will use pre-installed micromamba at /Users/runner/micromamba-bin/micromamba
2025-01-13T19:12:35.2465480Z Removing micromamba run shell ...
2025-01-13T19:12:35.2471130Z ##[group]Deinitialize micromamba for bash
2025-01-13T19:12:35.2492140Z [command]/Users/runner/micromamba-bin/micromamba shell deinit -s bash -r /Users/runner/micromamba --log-level warning --rc-file /Users/runner/work/_temp/setup-micromamba/.condarc
2025-01-13T19:12:35.3039420Z Resetting RC file "/Users/runner/.bash_profile"
2025-01-13T19:12:35.3039840Z Deleting config for root prefix 
2025-01-13T19:12:35.3040110Z Clearing mamba executable environment variable
2025-01-13T19:12:35.3064800Z Removing the following in your "/Users/runner/.bash_profile" file
2025-01-13T19:12:35.3065280Z # >>> mamba initialize >>>
2025-01-13T19:12:35.3065450Z ...
2025-01-13T19:12:35.3065590Z # <<< mamba initialize <<<
2025-01-13T19:12:35.3114610Z Removing environment tardis from auto-activate bash ...
2025-01-13T19:12:35.3234570Z Post job cleanup.
2025-01-13T19:12:35.3277570Z Post job cleanup.
2025-01-13T19:12:35.5251400Z [command]/opt/homebrew/bin/git version
2025-01-13T19:12:35.5475510Z git version 2.47.1
2025-01-13T19:12:35.5503130Z Copying '/Users/runner/.gitconfig' to '/Users/runner/work/_temp/12e18fa7-3372-49d4-be78-48d4b5ce1868/.gitconfig'
2025-01-13T19:12:35.5510130Z Temporarily overriding HOME='/Users/runner/work/_temp/12e18fa7-3372-49d4-be78-48d4b5ce1868' before making global git config changes
2025-01-13T19:12:35.5510740Z Adding repository directory to the temporary git global config as a safe directory
2025-01-13T19:12:35.5513680Z [command]/opt/homebrew/bin/git config --global --add safe.directory /Users/runner/work/tardis/tardis/tardis-regression-data
2025-01-13T19:12:35.5610740Z [command]/opt/homebrew/bin/git config --local --name-only --get-regexp core\.sshCommand
2025-01-13T19:12:35.5668380Z [command]/opt/homebrew/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'core\.sshCommand' && git config --local --unset-all 'core.sshCommand' || :"
2025-01-13T19:12:35.6849620Z [command]/opt/homebrew/bin/git config --local --name-only --get-regexp http\.https\:\/\/github\.com\/\.extraheader
2025-01-13T19:12:35.6889600Z http.https://github.com/.extraheader
2025-01-13T19:12:35.6898290Z [command]/opt/homebrew/bin/git config --local --unset-all http.https://github.com/.extraheader
2025-01-13T19:12:35.6943590Z [command]/opt/homebrew/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'http\.https\:\/\/github\.com\/\.extraheader' && git config --local --unset-all 'http.https://github.com/.extraheader' || :"
2025-01-13T19:12:35.7791780Z Post job cleanup.
2025-01-13T19:12:36.0269960Z [command]/opt/homebrew/bin/git version
2025-01-13T19:12:36.0290500Z git version 2.47.1
2025-01-13T19:12:36.0293490Z Copying '/Users/runner/.gitconfig' to '/Users/runner/work/_temp/8f911b70-eab2-49e9-a017-4b9cd9838c09/.gitconfig'
2025-01-13T19:12:36.0311180Z Temporarily overriding HOME='/Users/runner/work/_temp/8f911b70-eab2-49e9-a017-4b9cd9838c09' before making global git config changes
2025-01-13T19:12:36.0351290Z Adding repository directory to the temporary git global config as a safe directory
2025-01-13T19:12:36.0355600Z [command]/opt/homebrew/bin/git config --global --add safe.directory /Users/runner/work/tardis/tardis
2025-01-13T19:12:36.0387950Z [command]/opt/homebrew/bin/git config --local --name-only --get-regexp core\.sshCommand
2025-01-13T19:12:36.0436150Z [command]/opt/homebrew/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'core\.sshCommand' && git config --local --unset-all 'core.sshCommand' || :"
2025-01-13T19:12:36.0981460Z [command]/opt/homebrew/bin/git config --local --name-only --get-regexp http\.https\:\/\/github\.com\/\.extraheader
2025-01-13T19:12:36.1014780Z http.https://github.com/.extraheader
2025-01-13T19:12:36.1023340Z [command]/opt/homebrew/bin/git config --local --unset-all http.https://github.com/.extraheader
2025-01-13T19:12:36.1074950Z [command]/opt/homebrew/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'http\.https\:\/\/github\.com\/\.extraheader' && git config --local --unset-all 'http.https://github.com/.extraheader' || :"
2025-01-13T19:12:36.1700350Z Cleaning up orphan processes
