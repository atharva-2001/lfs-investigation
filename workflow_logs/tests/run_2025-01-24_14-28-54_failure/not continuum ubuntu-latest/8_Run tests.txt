2025-01-24T14:33:15.5199588Z ##[group]Run micromamba activate ./micromamba_tardis
2025-01-24T14:33:15.5200229Z [36;1mmicromamba activate ./micromamba_tardis[0m
2025-01-24T14:33:15.5201369Z [36;1mpytest tardis --tardis-regression-data=/home/runner/work/tardis/tardis/tardis-regression-data --cov=tardis --cov-report=xml --cov-report=html --cov-append -m "not continuum"[0m
2025-01-24T14:33:15.5229106Z shell: /usr/bin/bash -l {0}
2025-01-24T14:33:15.5229329Z env:
2025-01-24T14:33:15.5229489Z   CACHE_NUMBER: 0
2025-01-24T14:33:15.5230076Z   PYTEST_FLAGS: --tardis-regression-data=/home/runner/work/tardis/tardis/tardis-regression-data --cov=tardis --cov-report=xml --cov-report=html --cov-append
2025-01-24T14:33:15.5230720Z   CODECOV_TOKEN: 
2025-01-24T14:33:15.5230935Z   MAMBA_ROOT_PREFIX: /home/runner/micromamba
2025-01-24T14:33:15.5231420Z   MAMBA_EXE: /home/runner/micromamba-bin/micromamba
2025-01-24T14:33:15.5231748Z   CONDARC: /home/runner/work/_temp/setup-micromamba/.condarc
2025-01-24T14:33:15.5232034Z ##[endgroup]
2025-01-24T14:33:27.2618534Z ============================= test session starts ==============================
2025-01-24T14:33:27.2619292Z platform linux -- Python 3.12.4, pytest-8.2.2, pluggy-1.5.0
2025-01-24T14:33:27.2619742Z rootdir: /home/runner/work/tardis/tardis
2025-01-24T14:33:27.2620081Z configfile: pyproject.toml
2025-01-24T14:33:27.2620508Z plugins: anyio-4.4.0, doctestplus-1.2.1, html-4.1.1, metadata-3.1.1, cov-5.0.0
2025-01-24T14:33:27.2621246Z collected 1796 items / 2 deselected / 1794 selected
2025-01-24T14:33:27.2621517Z 
2025-01-24T14:33:32.2384425Z tardis/energy_input/tests/test_energy_source.py ..xxx                    [  0%]
2025-01-24T14:33:33.8945012Z tardis/energy_input/tests/test_gamma_ray_channel.py ...........          [  0%]
2025-01-24T14:33:35.4649633Z tardis/energy_input/tests/test_gamma_ray_grid.py xx.                     [  1%]
2025-01-24T14:33:37.4303102Z tardis/energy_input/tests/test_gamma_ray_interactions.py xx....          [  1%]
2025-01-24T14:33:37.4396239Z tardis/energy_input/tests/test_gamma_ray_packet_source.py sssssssss      [  1%]
2025-01-24T14:33:38.7251460Z tardis/energy_input/tests/test_util.py .....xxxx.....                    [  2%]
2025-01-24T14:33:39.0655433Z tardis/grid/tests/test_grid.py .                                         [  2%]
2025-01-24T14:33:39.0671976Z tardis/gui/tests/test_gui.py s                                           [  2%]
2025-01-24T14:33:42.6608020Z tardis/io/configuration/tests/test_config_reader.py ...........          [  3%]
2025-01-24T14:33:42.6737720Z tardis/io/configuration/tests/test_configuration_namespace.py .........  [  3%]
2025-01-24T14:33:42.7033309Z tardis/io/logger/tests/test_logging.py ssssssssssssssssssssssssssss      [  5%]
2025-01-24T14:34:19.5856141Z tardis/io/model/readers/tests/test_arepo_parser.py ..                    [  5%]
2025-01-24T14:34:19.6009348Z tardis/io/model/readers/tests/test_ascii_readers.py ...                  [  5%]
2025-01-24T14:34:19.6123841Z tardis/io/model/readers/tests/test_cmfgen_reader.py ..                   [  5%]
2025-01-24T14:34:19.6424839Z tardis/io/model/readers/tests/test_csvy_reader.py ....                   [  6%]
2025-01-24T14:34:19.6639238Z tardis/io/model/readers/tests/test_stella_reader.py ..                   [  6%]
2025-01-24T14:34:19.9614700Z tardis/io/tests/test_HDFWriter.py ...............                        [  7%]
2025-01-24T14:34:20.2854875Z tardis/io/tests/test_atomic.py .....                                     [  7%]
2025-01-24T14:34:20.3046784Z tardis/io/tests/test_decay.py ..                                         [  7%]
2025-01-24T14:34:20.5002304Z tardis/io/tests/test_model_reader.py ......                              [  7%]
2025-01-24T14:34:20.5072173Z tardis/model/geometry/tests/test_radial1d.py ..                          [  7%]
2025-01-24T14:35:17.9026649Z tardis/model/tests/test_base.py ........................................ [ 10%]
2025-01-24T14:35:18.8945943Z ............                                                             [ 10%]
2025-01-24T14:35:21.9489716Z tardis/model/tests/test_csvy_model.py .........                          [ 11%]
2025-01-24T14:35:21.9959450Z tardis/model/tests/test_density.py ..                                    [ 11%]
2025-01-24T14:35:23.3020024Z tardis/opacities/tests/test_opacity_solver.py .....                      [ 11%]
2025-01-24T14:35:24.6220612Z tardis/opacities/tests/test_opacity_state_numba.py .....                 [ 11%]
2025-01-24T14:35:26.3298070Z tardis/opacities/tests/test_tau_sobolev.py FF                            [ 12%]
2025-01-24T14:35:29.4590269Z tardis/plasma/equilibrium/tests/test_collisional_transitions.py ...      [ 12%]
2025-01-24T14:36:15.9110166Z tardis/plasma/equilibrium/tests/test_level_populations.py ....           [ 12%]
2025-01-24T14:36:27.7060045Z tardis/plasma/equilibrium/tests/test_rate_matrix.py .                    [ 12%]
2025-01-24T14:36:29.1253760Z tardis/plasma/tests/test_complete_plasmas.py ..............s......s..... [ 13%]
2025-01-24T14:36:32.0200101Z s....ssssss............s......s.....ss.....s....ssssss............s..... [ 18%]
2025-01-24T14:36:33.6886796Z .s.....ss.....s....ssssss............s......s.....ss.....s....ssssss.... [ 22%]
2025-01-24T14:36:36.5497379Z ........s......s.....ss.....s....ssssss............s......s.....ss.....s [ 26%]
2025-01-24T14:36:39.4064551Z ....ssssss............s......s.....ss.....s....ssssss............s...... [ 30%]
2025-01-24T14:36:40.1148663Z s.....ss.....s....ssssss............s......s.....ss.....s.ss.ssssss..... [ 34%]
2025-01-24T14:36:43.0642695Z .......s......s.....ss.....s....ssssss............s......s.....ss.....s. [ 38%]
2025-01-24T14:36:45.9374811Z ...ssssss............s......s.....ss.....s....ssssss............s......s [ 42%]
2025-01-24T14:36:49.0118676Z .....ss.....s....ssssss............s......s.....s...........ssssss...... [ 46%]
2025-01-24T14:36:50.8245896Z ......s......s.....s...........ssssss............s......s.....s......... [ 50%]
2025-01-24T14:36:53.7318835Z ..ssssss............s......s.....ss.....s....ssssss............s......s. [ 54%]
2025-01-24T14:36:56.8746710Z ....ss.....s....ssssss...................s......s.....s....ssss......... [ 58%]
2025-01-24T14:36:57.1765339Z ............s......s.....s....ssss.......                                [ 60%]
2025-01-24T14:36:57.2948144Z tardis/plasma/tests/test_hdf_plasma.py ................................. [ 62%]
2025-01-24T14:36:57.3056740Z ......                                                                   [ 62%]
2025-01-24T14:36:57.4353613Z tardis/plasma/tests/test_nlte_excitation.py ...                          [ 62%]
2025-01-24T14:39:13.4552791Z tardis/plasma/tests/test_nlte_solver.py .....X                           [ 63%]
2025-01-24T14:39:13.4577966Z tardis/plasma/tests/test_plasma_continuum.py .                           [ 63%]
2025-01-24T14:39:36.0012018Z tardis/plasma/tests/test_plasma_vboundary.py .............               [ 63%]
2025-01-24T14:39:49.2092593Z tardis/plasma/tests/test_tardis_model_density_config.py ...              [ 64%]
2025-01-24T14:39:49.9532040Z tardis/simulation/tests/test_convergence.py .....                        [ 64%]
2025-01-24T14:39:58.5298572Z tardis/simulation/tests/test_simulation.py .............                 [ 65%]
2025-01-24T14:39:58.5494817Z tardis/spectrum/tests/test_cuda_formal_integral.py sssssssssssssssssssss [ 66%]
2025-01-24T14:39:59.6669961Z ssss...ssssssssssssssssssssss                                            [ 67%]
2025-01-24T14:39:59.6741499Z tardis/spectrum/tests/test_luminosity.py ....                            [ 68%]
2025-01-24T14:40:01.2886784Z tardis/spectrum/tests/test_numba_formal_integral.py .................... [ 69%]
2025-01-24T14:40:01.3077960Z ..........                                                               [ 69%]
2025-01-24T14:40:01.4800058Z tardis/spectrum/tests/test_spectrum.py ................................. [ 71%]
2025-01-24T14:40:01.5126328Z .........                                                                [ 72%]
2025-01-24T14:40:19.9459871Z tardis/spectrum/tests/test_spectrum_solver.py ....                       [ 72%]
2025-01-24T14:41:21.6470607Z tardis/tests/test_tardis_full.py ....                                    [ 72%]
2025-01-24T14:42:45.7693828Z tardis/tests/test_tardis_full_formal_integral.py ................        [ 73%]
2025-01-24T14:42:45.8432857Z tardis/tests/test_util.py .............................................  [ 75%]
2025-01-24T14:42:48.4599590Z tardis/transport/montecarlo/tests/test_base.py x.....................    [ 77%]
2025-01-24T14:42:56.1191750Z tardis/transport/montecarlo/tests/test_interaction.py .......            [ 77%]
2025-01-24T14:42:56.3370793Z tardis/transport/montecarlo/tests/test_macro_atom.py ....                [ 77%]
2025-01-24T14:42:56.3549416Z tardis/transport/montecarlo/tests/test_montecarlo.py sssssssssssssssssss [ 78%]
2025-01-24T14:42:56.3970778Z sssssssssssssssssssssssssssssssssssssssssssss                            [ 81%]
2025-01-24T14:43:05.2284435Z tardis/transport/montecarlo/tests/test_montecarlo_main_loop.py x..       [ 81%]
2025-01-24T14:43:05.2400028Z tardis/transport/montecarlo/tests/test_nonhomologous.py ...              [ 81%]
2025-01-24T14:43:10.9775548Z tardis/transport/montecarlo/tests/test_numba_interface.py .....x.        [ 82%]
2025-01-24T14:43:11.4658445Z tardis/transport/montecarlo/tests/test_opacities.py ...............      [ 82%]
2025-01-24T14:43:12.4944018Z tardis/transport/montecarlo/tests/test_packet.py .................xXXXXX [ 84%]
2025-01-24T14:43:12.6331511Z XX.........                                                              [ 84%]
2025-01-24T14:43:12.6609112Z tardis/transport/montecarlo/tests/test_packet_source.py ........         [ 85%]
2025-01-24T14:43:13.4895180Z tardis/transport/montecarlo/tests/test_rpacket_last_interaction_tracker.py . [ 85%]
2025-01-24T14:43:13.9019417Z .....                                                                    [ 85%]
2025-01-24T14:43:48.6833704Z tardis/transport/montecarlo/tests/test_rpacket_tracker.py ......         [ 85%]
2025-01-24T14:43:48.7119251Z tardis/transport/montecarlo/tests/test_single_packet_loop.py xxx         [ 86%]
2025-01-24T14:43:48.7198839Z tardis/transport/montecarlo/tests/test_tracker_utils.py ..               [ 86%]
2025-01-24T14:43:52.2119678Z tardis/transport/montecarlo/tests/test_vpacket.py ..x.                   [ 86%]
2025-01-24T14:43:52.2305096Z tardis/transport/montecarlo/tests/test_weighted_packet_source.py ....    [ 86%]
2025-01-24T14:43:55.6736683Z tardis/transport/montecarlo/tests/test_weighted_packet_source_integration.py . [ 86%]
2025-01-24T14:43:55.6739212Z                                                                          [ 86%]
2025-01-24T14:43:56.4188997Z tardis/transport/tests/test_doppler_factor.py ..................         [ 87%]
2025-01-24T14:43:57.9630148Z tardis/visualization/tools/tests/test_convergence_plot.py .............. [ 88%]
2025-01-24T14:44:00.1734469Z ......                                                                   [ 88%]
2025-01-24T14:44:04.9100694Z tardis/visualization/tools/tests/test_liv_plot.py ...................... [ 90%]
2025-01-24T14:44:08.3253418Z .............................                                            [ 91%]
2025-01-24T14:44:11.3081322Z tardis/visualization/tools/tests/test_rpacket_plot.py .................. [ 92%]
2025-01-24T14:44:18.4799529Z ....                                                                     [ 92%]
2025-01-24T14:44:24.4375499Z tardis/visualization/tools/tests/test_sdec_plot.py ..................... [ 94%]
2025-01-24T14:44:31.9428811Z ..............................                                           [ 95%]
2025-01-24T14:44:32.3798518Z tardis/visualization/widgets/tests/test_custom_abundance.py ........ss.. [ 96%]
2025-01-24T14:44:32.4537378Z ....                                                                     [ 96%]
2025-01-24T14:44:33.5177615Z tardis/visualization/widgets/tests/test_line_info.py ................... [ 97%]
2025-01-24T14:44:34.1502865Z ..................                                                       [ 98%]
2025-01-24T14:45:37.1570445Z tardis/visualization/widgets/tests/test_shell_info.py .................. [ 99%]
2025-01-24T14:45:45.4398493Z ......                                                                   [100%]
2025-01-24T14:45:45.4398937Z 
2025-01-24T14:45:45.4399119Z =================================== FAILURES ===================================
2025-01-24T14:45:45.4399746Z _____________________ test_calculate_sobolev_line_opacity ______________________
2025-01-24T14:45:45.4400166Z 
2025-01-24T14:45:45.4400631Z nb_simulation_verysimple = <tardis.simulation.base.Simulation object at 0x7eff40423890>
2025-01-24T14:45:45.4401823Z regression_data = <tardis.tests.fixtures.regression_data.RegressionData object at 0x7eff3dc462d0>
2025-01-24T14:45:45.4402520Z 
2025-01-24T14:45:45.4402724Z     def test_calculate_sobolev_line_opacity(
2025-01-24T14:45:45.4403169Z         nb_simulation_verysimple, regression_data
2025-01-24T14:45:45.4403580Z     ):
2025-01-24T14:45:45.4403913Z         legacy_plasma = nb_simulation_verysimple.plasma
2025-01-24T14:45:45.4404334Z     
2025-01-24T14:45:45.4404611Z         actual = calculate_sobolev_line_opacity(
2025-01-24T14:45:45.4405018Z             legacy_plasma.lines,
2025-01-24T14:45:45.4405396Z             legacy_plasma.level_number_density,
2025-01-24T14:45:45.4405813Z             legacy_plasma.time_explosion,
2025-01-24T14:45:45.4406248Z             legacy_plasma.stimulated_emission_factor,
2025-01-24T14:45:45.4406643Z         )
2025-01-24T14:45:45.4406961Z >       expected = regression_data.sync_dataframe(actual)
2025-01-24T14:45:45.4407282Z 
2025-01-24T14:45:45.4407463Z tardis/opacities/tests/test_tau_sobolev.py:21: 
2025-01-24T14:45:45.4407926Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-01-24T14:45:45.4408489Z tardis/tests/fixtures/regression_data.py:88: in sync_dataframe
2025-01-24T14:45:45.4409052Z     return pd.read_hdf(self.fpath, key=key)
2025-01-24T14:45:45.4409489Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-01-24T14:45:45.4409807Z 
2025-01-24T14:45:45.4410563Z path_or_buf = '/home/runner/work/tardis/tardis/tardis-regression-data/tardis/opacities/tests/test_tau_sobolev/test_calculate_sobolev_line_opacity.h5'
2025-01-24T14:45:45.4411946Z key = 'data', mode = 'r', errors = 'strict', where = None, start = None
2025-01-24T14:45:45.4412686Z stop = None, columns = None, iterator = False, chunksize = None, kwargs = {}
2025-01-24T14:45:45.4413273Z exists = False
2025-01-24T14:45:45.4413473Z 
2025-01-24T14:45:45.4413597Z     def read_hdf(
2025-01-24T14:45:45.4413951Z         path_or_buf: FilePath | HDFStore,
2025-01-24T14:45:45.4414378Z         key=None,
2025-01-24T14:45:45.4414706Z         mode: str = "r",
2025-01-24T14:45:45.4415068Z         errors: str = "strict",
2025-01-24T14:45:45.4415465Z         where: str | list | None = None,
2025-01-24T14:45:45.4415903Z         start: int | None = None,
2025-01-24T14:45:45.4416305Z         stop: int | None = None,
2025-01-24T14:45:45.4416713Z         columns: list[str] | None = None,
2025-01-24T14:45:45.4417167Z         iterator: bool = False,
2025-01-24T14:45:45.4417560Z         chunksize: int | None = None,
2025-01-24T14:45:45.4417967Z         **kwargs,
2025-01-24T14:45:45.4418265Z     ):
2025-01-24T14:45:45.4418529Z         """
2025-01-24T14:45:45.4418885Z         Read from the store, close it if we opened it.
2025-01-24T14:45:45.4419354Z     
2025-01-24T14:45:45.4419798Z         Retrieve pandas object stored in file, optionally based on where
2025-01-24T14:45:45.4420371Z         criteria.
2025-01-24T14:45:45.4420725Z     
2025-01-24T14:45:45.4421199Z         .. warning::
2025-01-24T14:45:45.4421531Z     
2025-01-24T14:45:45.4422316Z            Pandas uses PyTables for reading and writing HDF5 files, which allows
2025-01-24T14:45:45.4423151Z            serializing object-dtype data with pickle when using the "fixed" format.
2025-01-24T14:45:45.4423987Z            Loading pickled data received from untrusted sources can be unsafe.
2025-01-24T14:45:45.4424547Z     
2025-01-24T14:45:45.4424982Z            See: https://docs.python.org/3/library/pickle.html for more.
2025-01-24T14:45:45.4425767Z     
2025-01-24T14:45:45.4426034Z         Parameters
2025-01-24T14:45:45.4426343Z         ----------
2025-01-24T14:45:45.4426727Z         path_or_buf : str, path object, pandas.HDFStore
2025-01-24T14:45:45.4427412Z             Any valid string path is acceptable. Only supports the local file system,
2025-01-24T14:45:45.4428117Z             remote URLs and file-like objects are not supported.
2025-01-24T14:45:45.4428585Z     
2025-01-24T14:45:45.4428994Z             If you want to pass in a path object, pandas accepts any
2025-01-24T14:45:45.4429488Z             ``os.PathLike``.
2025-01-24T14:45:45.4429829Z     
2025-01-24T14:45:45.4430319Z             Alternatively, pandas accepts an open :class:`pandas.HDFStore` object.
2025-01-24T14:45:45.4430891Z     
2025-01-24T14:45:45.4431366Z         key : object, optional
2025-01-24T14:45:45.4431871Z             The group identifier in the store. Can be omitted if the HDF file
2025-01-24T14:45:45.4432446Z             contains a single pandas object.
2025-01-24T14:45:45.4432871Z         mode : {'r', 'r+', 'a'}, default 'r'
2025-01-24T14:45:45.4433376Z             Mode to use when opening the file. Ignored if path_or_buf is a
2025-01-24T14:45:45.4433927Z             :class:`pandas.HDFStore`. Default is 'r'.
2025-01-24T14:45:45.4434370Z         errors : str, default 'strict'
2025-01-24T14:45:45.4434881Z             Specifies how encoding and decoding errors are to be handled.
2025-01-24T14:45:45.4435528Z             See the errors argument for :func:`open` for a full list
2025-01-24T14:45:45.4436028Z             of options.
2025-01-24T14:45:45.4436352Z         where : list, optional
2025-01-24T14:45:45.4436733Z             A list of Term (or convertible) objects.
2025-01-24T14:45:45.4437151Z         start : int, optional
2025-01-24T14:45:45.4437517Z             Row number to start selection.
2025-01-24T14:45:45.4437894Z         stop  : int, optional
2025-01-24T14:45:45.4438237Z             Row number to stop selection.
2025-01-24T14:45:45.4438659Z         columns : list, optional
2025-01-24T14:45:45.4439049Z             A list of columns names to return.
2025-01-24T14:45:45.4439478Z         iterator : bool, optional
2025-01-24T14:45:45.4439857Z             Return an iterator object.
2025-01-24T14:45:45.4440252Z         chunksize : int, optional
2025-01-24T14:45:45.4440752Z             Number of rows to include in an iteration when using an iterator.
2025-01-24T14:45:45.4441478Z         **kwargs
2025-01-24T14:45:45.4441873Z             Additional keyword arguments passed to HDFStore.
2025-01-24T14:45:45.4442327Z     
2025-01-24T14:45:45.4442569Z         Returns
2025-01-24T14:45:45.4442833Z         -------
2025-01-24T14:45:45.4443098Z         object
2025-01-24T14:45:45.4443500Z             The selected object. Return type depends on the object stored.
2025-01-24T14:45:45.4444016Z     
2025-01-24T14:45:45.4444260Z         See Also
2025-01-24T14:45:45.4444531Z         --------
2025-01-24T14:45:45.4444927Z         DataFrame.to_hdf : Write a HDF file from a DataFrame.
2025-01-24T14:45:45.4445476Z         HDFStore : Low-level access to HDF files.
2025-01-24T14:45:45.4445906Z     
2025-01-24T14:45:45.4446175Z         Examples
2025-01-24T14:45:45.4446474Z         --------
2025-01-24T14:45:45.4446904Z         >>> df = pd.DataFrame([[1, 1.0, 'a']], columns=['x', 'y', 'z'])  # doctest: +SKIP
2025-01-24T14:45:45.4447471Z         >>> df.to_hdf('./store.h5', 'data')  # doctest: +SKIP
2025-01-24T14:45:45.4447942Z         >>> reread = pd.read_hdf('./store.h5')  # doctest: +SKIP
2025-01-24T14:45:45.4448341Z         """
2025-01-24T14:45:45.4448829Z         if mode not in ["r", "r+", "a"]:
2025-01-24T14:45:45.4449196Z             raise ValueError(
2025-01-24T14:45:45.4449593Z                 f"mode {mode} is not allowed while performing a read. "
2025-01-24T14:45:45.4450104Z                 f"Allowed modes are r, r+ and a."
2025-01-24T14:45:45.4450494Z             )
2025-01-24T14:45:45.4450750Z         # grab the scope
2025-01-24T14:45:45.4451489Z         if where is not None:
2025-01-24T14:45:45.4451872Z             where = _ensure_term(where, scope_level=1)
2025-01-24T14:45:45.4452264Z     
2025-01-24T14:45:45.4452550Z         if isinstance(path_or_buf, HDFStore):
2025-01-24T14:45:45.4452980Z             if not path_or_buf.is_open:
2025-01-24T14:45:45.4453441Z                 raise OSError("The HDFStore must be open for reading.")
2025-01-24T14:45:45.4453903Z     
2025-01-24T14:45:45.4454158Z             store = path_or_buf
2025-01-24T14:45:45.4454486Z             auto_close = False
2025-01-24T14:45:45.4454805Z         else:
2025-01-24T14:45:45.4455125Z             path_or_buf = stringify_path(path_or_buf)
2025-01-24T14:45:45.4455561Z             if not isinstance(path_or_buf, str):
2025-01-24T14:45:45.4455995Z                 raise NotImplementedError(
2025-01-24T14:45:45.4456475Z                     "Support for generic buffers has not been implemented."
2025-01-24T14:45:45.4456936Z                 )
2025-01-24T14:45:45.4457204Z             try:
2025-01-24T14:45:45.4457521Z                 exists = os.path.exists(path_or_buf)
2025-01-24T14:45:45.4457895Z     
2025-01-24T14:45:45.4458157Z             # if filepath is too long
2025-01-24T14:45:45.4458539Z             except (TypeError, ValueError):
2025-01-24T14:45:45.4458925Z                 exists = False
2025-01-24T14:45:45.4459239Z     
2025-01-24T14:45:45.4459474Z             if not exists:
2025-01-24T14:45:45.4459921Z >               raise FileNotFoundError(f"File {path_or_buf} does not exist")
2025-01-24T14:45:45.4461436Z E               FileNotFoundError: File /home/runner/work/tardis/tardis/tardis-regression-data/tardis/opacities/tests/test_tau_sobolev/test_calculate_sobolev_line_opacity.h5 does not exist
2025-01-24T14:45:45.4462505Z 
2025-01-24T14:45:45.4462966Z micromamba_tardis/lib/python3.12/site-packages/pandas/io/pytables.py:424: FileNotFoundError
2025-01-24T14:45:45.4463725Z ---------------------------- Captured stderr setup -----------------------------
2025-01-24T14:45:45.4464110Z 
2025-01-24T14:45:45.4464790Z Iterations:████████████████████████████████████████████████████████████████                4/5 [00:11<00:02,  2.69s/it]
2025-01-24T14:45:45.4465194Z 
2025-01-24T14:45:45.4465564Z Packets:                                                                                   4030/? [00:11<00:00, 34108.40it/s][A
2025-01-24T14:45:45.4466145Z ------------------------------ Captured log setup ------------------------------
2025-01-24T14:45:45.4467403Z WARNING  tardis.io.model.parse_density_configuration:parse_density_configuration.py:114 Number of density points larger than number of shells. Assuming inner point irrelevant
2025-01-24T14:45:45.4468572Z _________________________ test_calculate_beta_sobolevs _________________________
2025-01-24T14:45:45.4468944Z 
2025-01-24T14:45:45.4469305Z nb_simulation_verysimple = <tardis.simulation.base.Simulation object at 0x7eff40423890>
2025-01-24T14:45:45.4470201Z regression_data = <tardis.tests.fixtures.regression_data.RegressionData object at 0x7eff3dc46120>
2025-01-24T14:45:45.4470766Z 
2025-01-24T14:45:45.4471230Z     def test_calculate_beta_sobolevs(nb_simulation_verysimple, regression_data):
2025-01-24T14:45:45.4471815Z         legacy_plasma = nb_simulation_verysimple.plasma
2025-01-24T14:45:45.4472214Z     
2025-01-24T14:45:45.4472500Z         tau_sobolevs = calculate_sobolev_line_opacity(
2025-01-24T14:45:45.4472928Z             legacy_plasma.lines,
2025-01-24T14:45:45.4473275Z             legacy_plasma.level_number_density,
2025-01-24T14:45:45.4473674Z             legacy_plasma.time_explosion,
2025-01-24T14:45:45.4474073Z             legacy_plasma.stimulated_emission_factor,
2025-01-24T14:45:45.4474656Z         )
2025-01-24T14:45:45.4474927Z         actual = calculate_beta_sobolev(tau_sobolevs)
2025-01-24T14:45:45.4475363Z >       expected = regression_data.sync_ndarray(actual)
2025-01-24T14:45:45.4475651Z 
2025-01-24T14:45:45.4475816Z tardis/opacities/tests/test_tau_sobolev.py:35: 
2025-01-24T14:45:45.4476417Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-01-24T14:45:45.4476929Z tardis/tests/fixtures/regression_data.py:111: in sync_ndarray
2025-01-24T14:45:45.4477404Z     return np.load(self.fpath)
2025-01-24T14:45:45.4477770Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-01-24T14:45:45.4478064Z 
2025-01-24T14:45:45.4478777Z file = PosixPath('/home/runner/work/tardis/tardis/tardis-regression-data/tardis/opacities/tests/test_tau_sobolev/test_calculate_beta_sobolevs.npy')
2025-01-24T14:45:45.4479873Z mmap_mode = None, allow_pickle = False, fix_imports = True, encoding = 'ASCII'
2025-01-24T14:45:45.4480279Z 
2025-01-24T14:45:45.4480385Z     @set_module('numpy')
2025-01-24T14:45:45.4480799Z     def load(file, mmap_mode=None, allow_pickle=False, fix_imports=True,
2025-01-24T14:45:45.4481535Z              encoding='ASCII', *, max_header_size=format._MAX_HEADER_SIZE):
2025-01-24T14:45:45.4481980Z         """
2025-01-24T14:45:45.4482401Z         Load arrays or pickled objects from ``.npy``, ``.npz`` or pickled files.
2025-01-24T14:45:45.4482905Z     
2025-01-24T14:45:45.4483300Z         .. warning:: Loading files that contain object arrays uses the ``pickle``
2025-01-24T14:45:45.4483997Z                      module, which is not secure against erroneous or maliciously
2025-01-24T14:45:45.4484589Z                      constructed data. Consider passing ``allow_pickle=False`` to
2025-01-24T14:45:45.4485155Z                      load data that is known not to contain object arrays for the
2025-01-24T14:45:45.4485624Z                      safer handling of untrusted sources.
2025-01-24T14:45:45.4485990Z     
2025-01-24T14:45:45.4486256Z         Parameters
2025-01-24T14:45:45.4486502Z         ----------
2025-01-24T14:45:45.4486816Z         file : file-like object, string, or pathlib.Path
2025-01-24T14:45:45.4487279Z             The file to read. File-like objects must support the
2025-01-24T14:45:45.4487743Z             ``seek()`` and ``read()`` methods and must always
2025-01-24T14:45:45.4488227Z             be opened in binary mode.  Pickled files require that the
2025-01-24T14:45:45.4488748Z             file-like object support the ``readline()`` method as well.
2025-01-24T14:45:45.4489232Z         mmap_mode : {None, 'r+', 'r', 'w+', 'c'}, optional
2025-01-24T14:45:45.4489728Z             If not None, then memory-map the file, using the given mode (see
2025-01-24T14:45:45.4490282Z             `numpy.memmap` for a detailed description of the modes).  A
2025-01-24T14:45:45.4490845Z             memory-mapped array is kept on disk. However, it can be accessed
2025-01-24T14:45:45.4491598Z             and sliced like any ndarray.  Memory mapping is especially useful
2025-01-24T14:45:45.4492189Z             for accessing small fragments of large files without reading the
2025-01-24T14:45:45.4492673Z             entire file into memory.
2025-01-24T14:45:45.4493028Z         allow_pickle : bool, optional
2025-01-24T14:45:45.4493538Z             Allow loading pickled object arrays stored in npy files. Reasons for
2025-01-24T14:45:45.4494201Z             disallowing pickles include security, as loading pickled data can
2025-01-24T14:45:45.4494838Z             execute arbitrary code. If pickles are disallowed, loading object
2025-01-24T14:45:45.4495359Z             arrays will fail. Default: False
2025-01-24T14:45:45.4495695Z     
2025-01-24T14:45:45.4495934Z             .. versionchanged:: 1.16.3
2025-01-24T14:45:45.4496335Z                 Made default False in response to CVE-2019-6446.
2025-01-24T14:45:45.4496726Z     
2025-01-24T14:45:45.4496959Z         fix_imports : bool, optional
2025-01-24T14:45:45.4497671Z             Only useful when loading Python 2 generated pickled files on Python 3,
2025-01-24T14:45:45.4498355Z             which includes npy/npz files containing object arrays. If `fix_imports`
2025-01-24T14:45:45.4499018Z             is True, pickle will try to map the old Python 2 names to the new names
2025-01-24T14:45:45.4499517Z             used in Python 3.
2025-01-24T14:45:45.4499999Z         encoding : str, optional
2025-01-24T14:45:45.4500448Z             What encoding to use when reading Python 2 strings. Only useful when
2025-01-24T14:45:45.4501238Z             loading Python 2 generated pickled files in Python 3, which includes
2025-01-24T14:45:45.4501873Z             npy/npz files containing object arrays. Values other than 'latin1',
2025-01-24T14:45:45.4502479Z             'ASCII', and 'bytes' are not allowed, as they can corrupt numerical
2025-01-24T14:45:45.4502944Z             data. Default: 'ASCII'
2025-01-24T14:45:45.4503278Z         max_header_size : int, optional
2025-01-24T14:45:45.4503762Z             Maximum allowed size of the header.  Large headers may not be safe
2025-01-24T14:45:45.4504369Z             to load securely and thus require explicitly passing a larger value.
2025-01-24T14:45:45.4504892Z             See :py:func:`ast.literal_eval()` for details.
2025-01-24T14:45:45.4505405Z             This option is ignored when `allow_pickle` is passed.  In that case
2025-01-24T14:45:45.4506002Z             the file is by definition trusted and the limit is unnecessary.
2025-01-24T14:45:45.4506457Z     
2025-01-24T14:45:45.4506681Z         Returns
2025-01-24T14:45:45.4506922Z         -------
2025-01-24T14:45:45.4507187Z         result : array, tuple, dict, etc.
2025-01-24T14:45:45.4507647Z             Data stored in the file. For ``.npz`` files, the returned instance
2025-01-24T14:45:45.4508237Z             of NpzFile class must be closed to avoid leaking file descriptors.
2025-01-24T14:45:45.4508684Z     
2025-01-24T14:45:45.4508892Z         Raises
2025-01-24T14:45:45.4509123Z         ------
2025-01-24T14:45:45.4509341Z         OSError
2025-01-24T14:45:45.4509645Z             If the input file does not exist or cannot be read.
2025-01-24T14:45:45.4510036Z         UnpicklingError
2025-01-24T14:45:45.4510416Z             If ``allow_pickle=True``, but the file cannot be loaded as a pickle.
2025-01-24T14:45:45.4510879Z         ValueError
2025-01-24T14:45:45.4511426Z             The file contains an object array, but ``allow_pickle=False`` given.
2025-01-24T14:45:45.4511917Z         EOFError
2025-01-24T14:45:45.4512284Z             When calling ``np.load`` multiple times on the same file handle,
2025-01-24T14:45:45.4512755Z             if all data has already been read
2025-01-24T14:45:45.4513084Z     
2025-01-24T14:45:45.4513298Z         See Also
2025-01-24T14:45:45.4513535Z         --------
2025-01-24T14:45:45.4513814Z         save, savez, savez_compressed, loadtxt
2025-01-24T14:45:45.4514301Z         memmap : Create a memory-map to an array stored in a file on disk.
2025-01-24T14:45:45.4514900Z         lib.format.open_memmap : Create or load a memory-mapped ``.npy`` file.
2025-01-24T14:45:45.4515377Z     
2025-01-24T14:45:45.4515587Z         Notes
2025-01-24T14:45:45.4515815Z         -----
2025-01-24T14:45:45.4516179Z         - If the file contains pickle data, then whatever object is stored
2025-01-24T14:45:45.4516640Z           in the pickle is returned.
2025-01-24T14:45:45.4517059Z         - If the file is a ``.npy`` file, then a single array is returned.
2025-01-24T14:45:45.4517599Z         - If the file is a ``.npz`` file, then a dictionary-like object is
2025-01-24T14:45:45.4518195Z           returned, containing ``{filename: array}`` key-value pairs, one for
2025-01-24T14:45:45.4518694Z           each file in the archive.
2025-01-24T14:45:45.4519145Z         - If the file is a ``.npz`` file, the returned value supports the
2025-01-24T14:45:45.4519751Z           context manager protocol in a similar fashion to the open function::
2025-01-24T14:45:45.4520409Z     
2025-01-24T14:45:45.4520644Z             with load('foo.npz') as data:
2025-01-24T14:45:45.4521158Z                 a = data['a']
2025-01-24T14:45:45.4521448Z     
2025-01-24T14:45:45.4521788Z           The underlying file descriptor is closed when exiting the 'with'
2025-01-24T14:45:45.4522267Z           block.
2025-01-24T14:45:45.4522500Z     
2025-01-24T14:45:45.4522722Z         Examples
2025-01-24T14:45:45.4523156Z         --------
2025-01-24T14:45:45.4523425Z         Store data to disk, and load it again:
2025-01-24T14:45:45.4523758Z     
2025-01-24T14:45:45.4524037Z         >>> np.save('/tmp/123', np.array([[1, 2, 3], [4, 5, 6]]))
2025-01-24T14:45:45.4524428Z         >>> np.load('/tmp/123.npy')
2025-01-24T14:45:45.4524751Z         array([[1, 2, 3],
2025-01-24T14:45:45.4525035Z                [4, 5, 6]])
2025-01-24T14:45:45.4525298Z     
2025-01-24T14:45:45.4525582Z         Store compressed data to disk, and load it again:
2025-01-24T14:45:45.4525966Z     
2025-01-24T14:45:45.4526199Z         >>> a=np.array([[1, 2, 3], [4, 5, 6]])
2025-01-24T14:45:45.4526552Z         >>> b=np.array([1, 2])
2025-01-24T14:45:45.4526877Z         >>> np.savez('/tmp/123.npz', a=a, b=b)
2025-01-24T14:45:45.4527231Z         >>> data = np.load('/tmp/123.npz')
2025-01-24T14:45:45.4527572Z         >>> data['a']
2025-01-24T14:45:45.4527843Z         array([[1, 2, 3],
2025-01-24T14:45:45.4528109Z                [4, 5, 6]])
2025-01-24T14:45:45.4528394Z         >>> data['b']
2025-01-24T14:45:45.4528653Z         array([1, 2])
2025-01-24T14:45:45.4528917Z         >>> data.close()
2025-01-24T14:45:45.4529183Z     
2025-01-24T14:45:45.4529513Z         Mem-map the stored array, and then access the second row
2025-01-24T14:45:45.4529941Z         directly from disk:
2025-01-24T14:45:45.4530221Z     
2025-01-24T14:45:45.4530467Z         >>> X = np.load('/tmp/123.npy', mmap_mode='r')
2025-01-24T14:45:45.4530820Z         >>> X[1, :]
2025-01-24T14:45:45.4531206Z         memmap([4, 5, 6])
2025-01-24T14:45:45.4531463Z     
2025-01-24T14:45:45.4531667Z         """
2025-01-24T14:45:45.4531939Z         if encoding not in ('ASCII', 'latin1', 'bytes'):
2025-01-24T14:45:45.4532405Z             # The 'encoding' value for pickle also affects what encoding
2025-01-24T14:45:45.4532911Z             # the serialized binary data of NumPy arrays is loaded
2025-01-24T14:45:45.4533405Z             # in. Pickle does not pass on the encoding information to
2025-01-24T14:45:45.4533917Z             # NumPy. The unpickling code in numpy._core.multiarray is
2025-01-24T14:45:45.4534468Z             # written to assume that unicode data appearing where binary
2025-01-24T14:45:45.4535006Z             # should be is in 'latin1'. 'bytes' is also safe, as is 'ASCII'.
2025-01-24T14:45:45.4535434Z             #
2025-01-24T14:45:45.4535774Z             # Other encoding values can corrupt binary data, and we
2025-01-24T14:45:45.4536325Z             # purposefully disallow them. For the same reason, the errors=
2025-01-24T14:45:45.4536867Z             # argument is not exposed, as values other than 'strict'
2025-01-24T14:45:45.4537374Z             # result can similarly silently corrupt numerical data.
2025-01-24T14:45:45.4537929Z             raise ValueError("encoding must be 'ASCII', 'latin1', or 'bytes'")
2025-01-24T14:45:45.4538393Z     
2025-01-24T14:45:45.4538744Z         pickle_kwargs = dict(encoding=encoding, fix_imports=fix_imports)
2025-01-24T14:45:45.4539230Z     
2025-01-24T14:45:45.4539484Z         with contextlib.ExitStack() as stack:
2025-01-24T14:45:45.4539865Z             if hasattr(file, 'read'):
2025-01-24T14:45:45.4540197Z                 fid = file
2025-01-24T14:45:45.4540521Z                 own_fid = False
2025-01-24T14:45:45.4540814Z             else:
2025-01-24T14:45:45.4541286Z >               fid = stack.enter_context(open(os.fspath(file), "rb"))
2025-01-24T14:45:45.4542501Z E               FileNotFoundError: [Errno 2] No such file or directory: '/home/runner/work/tardis/tardis/tardis-regression-data/tardis/opacities/tests/test_tau_sobolev/test_calculate_beta_sobolevs.npy'
2025-01-24T14:45:45.4543734Z 
2025-01-24T14:45:45.4544170Z micromamba_tardis/lib/python3.12/site-packages/numpy/lib/_npyio_impl.py:455: FileNotFoundError
2025-01-24T14:45:45.4544961Z =============================== warnings summary ===============================
2025-01-24T14:45:45.4545426Z tardis/io/configuration/config_validator.py:6
2025-01-24T14:45:45.4545843Z tardis/io/configuration/config_validator.py:6
2025-01-24T14:45:45.4546788Z   /home/runner/work/tardis/tardis/tardis/io/configuration/config_validator.py:6: DeprecationWarning:
2025-01-24T14:45:45.4547497Z   
2025-01-24T14:45:45.4549395Z   jsonschema.RefResolver is deprecated as of v4.18.0, in favor of the https://github.com/python-jsonschema/referencing library, which provides more compliant referencing behavior as well as more flexible APIs for customization. A future release will remove RefResolver. Please file a feature request (on referencing) if you are missing an API for the kind of customization you need.
2025-01-24T14:45:45.4551473Z 
2025-01-24T14:45:45.4551786Z micromamba_tardis/lib/python3.12/site-packages/jupyter_client/connect.py:22
2025-01-24T14:45:45.4552832Z   /home/runner/work/tardis/tardis/micromamba_tardis/lib/python3.12/site-packages/jupyter_client/connect.py:22: DeprecationWarning:
2025-01-24T14:45:45.4553686Z   
2025-01-24T14:45:45.4554015Z   Jupyter is migrating its paths to use standard platformdirs
2025-01-24T14:45:45.4554578Z   given by the platformdirs library.  To remove this warning and
2025-01-24T14:45:45.4555157Z   see the appropriate new directories, set the environment variable
2025-01-24T14:45:45.4555711Z   `JUPYTER_PLATFORM_DIRS=1` and then run `jupyter --paths`.
2025-01-24T14:45:45.4556251Z   The use of platformdirs will be the default in `jupyter_core` v6
2025-01-24T14:45:45.4556611Z 
2025-01-24T14:45:45.4556743Z tardis/plasma/properties/__init__.py:17
2025-01-24T14:45:45.4557408Z   /home/runner/work/tardis/tardis/tardis/plasma/properties/__init__.py:17: DeprecationWarning:
2025-01-24T14:45:45.4558054Z   
2025-01-24T14:45:45.4559013Z   The numpy.linalg.linalg has been made private and renamed to numpy.linalg._linalg. All public functions exported by it are available from numpy.linalg. Please use numpy.linalg.LinAlgError instead.
2025-01-24T14:45:45.4559981Z 
2025-01-24T14:45:45.4560191Z tardis/transport/montecarlo/tests/test_montecarlo.py:557
2025-01-24T14:45:45.4561238Z   /home/runner/work/tardis/tardis/tardis/transport/montecarlo/tests/test_montecarlo.py:557: PytestUnknownMarkWarning:
2025-01-24T14:45:45.4562043Z   
2025-01-24T14:45:45.4562896Z   Unknown pytest.mark.continuumtest - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
2025-01-24T14:45:45.4563751Z 
2025-01-24T14:45:45.4563958Z tardis/transport/montecarlo/tests/test_montecarlo.py:584
2025-01-24T14:45:45.4564846Z   /home/runner/work/tardis/tardis/tardis/transport/montecarlo/tests/test_montecarlo.py:584: PytestUnknownMarkWarning:
2025-01-24T14:45:45.4565681Z   
2025-01-24T14:45:45.4566533Z   Unknown pytest.mark.continuumtest - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
2025-01-24T14:45:45.4567380Z 
2025-01-24T14:45:45.4567589Z tardis/transport/montecarlo/tests/test_montecarlo.py:605
2025-01-24T14:45:45.4568510Z   /home/runner/work/tardis/tardis/tardis/transport/montecarlo/tests/test_montecarlo.py:605: PytestUnknownMarkWarning:
2025-01-24T14:45:45.4569320Z   
2025-01-24T14:45:45.4570141Z   Unknown pytest.mark.continuumtest - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
2025-01-24T14:45:45.4571169Z 
2025-01-24T14:45:45.4571401Z tardis/io/tests/test_HDFWriter.py::test_multi_index_write
2025-01-24T14:45:45.4572246Z tardis/visualization/widgets/tests/test_shell_info.py::TestHDFShellInfo::test_shells_data
2025-01-24T14:45:45.4573165Z   /home/runner/work/tardis/tardis/tardis/io/util.py:276: PerformanceWarning:
2025-01-24T14:45:45.4573879Z   
2025-01-24T14:45:45.4574085Z   
2025-01-24T14:45:45.4574510Z   your performance may suffer as PyTables will pickle object types that it cannot
2025-01-24T14:45:45.4575336Z   map directly to c-types [inferred_type->mixed,key->block0_values] [items->Index([0], dtype='int64')]
2025-01-24T14:45:45.4575852Z 
2025-01-24T14:45:45.4576297Z tardis/io/tests/test_model_reader.py::test_read_cmfgen_isotope_abundances
2025-01-24T14:45:45.4577018Z tardis/plasma/tests/test_tardis_model_density_config.py::test_electron_densities
2025-01-24T14:45:45.4577819Z tardis/plasma/tests/test_tardis_model_density_config.py::test_isotope_number_densities
2025-01-24T14:45:45.4578549Z tardis/plasma/tests/test_tardis_model_density_config.py::test_t_rad
2025-01-24T14:45:45.4579419Z   /home/runner/work/tardis/tardis/tardis/io/model/readers/cmfgen_deprecated.py:82: DeprecationWarning:
2025-01-24T14:45:45.4580132Z   
2025-01-24T14:45:45.4580399Z   The current CMFGEN model parser is deprecated
2025-01-24T14:45:45.4580688Z 
2025-01-24T14:45:45.4580843Z tardis/io/tests/test_model_reader.py: 1 warning
2025-01-24T14:45:45.4581541Z tardis/plasma/tests/test_tardis_model_density_config.py: 9 warnings
2025-01-24T14:45:45.4582381Z   /home/runner/work/tardis/tardis/tardis/io/model/readers/cmfgen_deprecated.py:40: DeprecationWarning:
2025-01-24T14:45:45.4583094Z   
2025-01-24T14:45:45.4583379Z   The current CMFGEN model parser is deprecated
2025-01-24T14:45:45.4583651Z 
2025-01-24T14:45:45.4583947Z tardis/model/tests/test_base.py::TestModelFromPaper1Config::test_abundances
2025-01-24T14:45:45.4584946Z   /home/runner/work/tardis/tardis/tardis/transport/montecarlo/montecarlo_main_loop.py:123: NumbaTypeSafetyWarning:
2025-01-24T14:45:45.4585739Z   
2025-01-24T14:45:45.4586354Z   [1m[1m[1munsafe cast from uint64 to int64. Precision may be lost.[0m[0m[0m
2025-01-24T14:45:45.4586764Z 
2025-01-24T14:45:45.4586903Z tardis/model/tests/test_base.py: 6 warnings
2025-01-24T14:45:45.4587315Z tardis/model/tests/test_csvy_model.py: 2 warnings
2025-01-24T14:45:45.4587865Z tardis/plasma/tests/test_tardis_model_density_config.py: 3 warnings
2025-01-24T14:45:45.4588662Z   /home/runner/work/tardis/tardis/tardis/model/geometry/radial1d.py:50: DeprecationWarning:
2025-01-24T14:45:45.4589281Z   
2025-01-24T14:45:45.4589538Z   v_inner_boundary < 0, assuming default value
2025-01-24T14:45:45.4589814Z 
2025-01-24T14:45:45.4589958Z tardis/model/tests/test_base.py: 6 warnings
2025-01-24T14:45:45.4590378Z tardis/model/tests/test_csvy_model.py: 2 warnings
2025-01-24T14:45:45.4590928Z tardis/plasma/tests/test_tardis_model_density_config.py: 3 warnings
2025-01-24T14:45:45.4591877Z   /home/runner/work/tardis/tardis/tardis/model/geometry/radial1d.py:61: DeprecationWarning:
2025-01-24T14:45:45.4592507Z   
2025-01-24T14:45:45.4592762Z   v_outer_boundary < 0, assuming default value
2025-01-24T14:45:45.4593031Z 
2025-01-24T14:45:45.4593528Z tardis/plasma/equilibrium/tests/test_collisional_transitions.py::test_legacy_chianti_collisional_strengths
2025-01-24T14:45:45.4594652Z tardis/plasma/equilibrium/tests/test_collisional_transitions.py::test_legacy_chianti_collisional_strengths
2025-01-24T14:45:45.4595729Z tardis/plasma/equilibrium/tests/test_collisional_transitions.py::test_legacy_chianti_collisional_strengths
2025-01-24T14:45:45.4596839Z tardis/plasma/equilibrium/tests/test_collisional_transitions.py::test_legacy_chianti_collisional_strengths
2025-01-24T14:45:45.4598356Z tardis/plasma/equilibrium/tests/test_level_populations.py::TestLevelPopulationSolver::test_calculate_level_population_simple[collisional_rate_solver0-radiative_transitions0]
2025-01-24T14:45:45.4600257Z tardis/plasma/equilibrium/tests/test_level_populations.py::TestLevelPopulationSolver::test_calculate_level_population_empty[collisional_rate_solver0-radiative_transitions0]
2025-01-24T14:45:45.4602315Z tardis/plasma/equilibrium/tests/test_level_populations.py::TestLevelPopulationSolver::test_calculate_level_population_zeros[collisional_rate_solver0-radiative_transitions0]
2025-01-24T14:45:45.4604296Z tardis/plasma/equilibrium/tests/test_level_populations.py::TestLevelPopulationSolver::test_solve[collisional_rate_solver0-radiative_transitions0]
2025-01-24T14:45:45.4605737Z tardis/plasma/equilibrium/tests/test_rate_matrix.py::test_rate_matrix_solver[collisional_rate_solver0-radiative_transitions0]
2025-01-24T14:45:45.4606925Z   /home/runner/work/tardis/tardis/micromamba_tardis/lib/python3.12/pickle.py:323: DeprecationWarning:
2025-01-24T14:45:45.4607796Z   
2025-01-24T14:45:45.4610127Z   numpy.core.numeric is deprecated and has been renamed to numpy._core.numeric. The numpy._core namespace contains private NumPy internals and its use is discouraged, as NumPy internals can change without warning in any release. In practice, most real-world usage of numpy.core is to access functionality in the public NumPy API. If that is the case, use the public NumPy API. If not, you are using NumPy internals. If you would still like to access an internal attribute, use numpy._core.numeric._frombuffer.
2025-01-24T14:45:45.4612588Z 
2025-01-24T14:45:45.4613320Z tardis/plasma/equilibrium/tests/test_level_populations.py::TestLevelPopulationSolver::test_solve[collisional_rate_solver0-radiative_transitions0]
2025-01-24T14:45:45.4614645Z   /home/runner/work/tardis/tardis/tardis/plasma/equilibrium/level_populations.py:65: FutureWarning:
2025-01-24T14:45:45.4615350Z   
2025-01-24T14:45:45.4615880Z   A value is trying to be set on a copy of a DataFrame or Series through chained assignment using an inplace method.
2025-01-24T14:45:45.4617150Z   The behavior will change in pandas 3.0. This inplace method will never work because the intermediate object on which we are setting values always behaves as a copy.
2025-01-24T14:45:45.4618045Z   
2025-01-24T14:45:45.4618962Z   For example, when doing 'df[col].method(value, inplace=True)', try using 'df.method({col: value}, inplace=True)' or df[col] = df[col].method(value) instead, to perform the operation inplace on the original object.
2025-01-24T14:45:45.4619953Z 
2025-01-24T14:45:45.4620279Z tardis/plasma/tests/test_plasma_vboundary.py::test_plasma_vboundary[2900-3750]
2025-01-24T14:45:45.4621229Z tardis/plasma/tests/test_plasma_vboundary.py::test_plasma_vboundary[2900-3850]
2025-01-24T14:45:45.4621973Z tardis/plasma/tests/test_plasma_vboundary.py::test_plasma_vboundary[2900-3900]
2025-01-24T14:45:45.4622757Z   /home/runner/work/tardis/tardis/tardis/model/geometry/radial1d.py:71: UserWarning:
2025-01-24T14:45:45.4623349Z   
2025-01-24T14:45:45.4623756Z   Requesting inner boundary below inner shell. Extrapolating the inner cell
2025-01-24T14:45:45.4624173Z 
2025-01-24T14:45:45.4624524Z tardis/spectrum/tests/test_numba_formal_integral.py::test_trapezoid_integration[100.0]
2025-01-24T14:45:45.4625366Z tardis/spectrum/tests/test_numba_formal_integral.py::test_trapezoid_integration[1000.0]
2025-01-24T14:45:45.4626242Z tardis/spectrum/tests/test_numba_formal_integral.py::test_trapezoid_integration[10000.0]
2025-01-24T14:45:45.4627089Z tardis/spectrum/tests/test_numba_formal_integral.py::test_trapezoid_integration[100000.0]
2025-01-24T14:45:45.4628109Z   /home/runner/work/tardis/tardis/tardis/spectrum/tests/test_numba_formal_integral.py:35: DeprecationWarning:
2025-01-24T14:45:45.4628851Z   
2025-01-24T14:45:45.4629395Z   `trapz` is deprecated. Use `trapezoid` instead, or one of the numerical integration functions in `scipy.integrate`.
2025-01-24T14:45:45.4629977Z 
2025-01-24T14:45:45.4630298Z tardis/spectrum/tests/test_spectrum_solver.py::TestSpectrumSolver::test_solve
2025-01-24T14:45:45.4631164Z   /home/runner/work/tardis/tardis/tardis/spectrum/base.py:70: UserWarning:
2025-01-24T14:45:45.4631693Z   
2025-01-24T14:45:45.4632299Z   SpectrumSolver.spectrum_virtual_packets is zero. Please run the montecarlo simulation with no_of_virtual_packets > 0
2025-01-24T14:45:45.4632943Z 
2025-01-24T14:45:45.4635280Z tardis/spectrum/tests/test_spectrum_solver.py::TestSpectrumSolver::test_solve
2025-01-24T14:45:45.4636097Z   /home/runner/work/tardis/tardis/tardis/spectrum/base.py:111: UserWarning:
2025-01-24T14:45:45.4636809Z   
2025-01-24T14:45:45.4637452Z   SpectrumSolver.integrator: The FormalIntegrator is not yet available.Please run the montecarlo simulation at least once.
2025-01-24T14:45:45.4638107Z 
2025-01-24T14:45:45.4638412Z tardis/tests/test_util.py::test_calculate_luminosity[string_io0-100 km-result0]
2025-01-24T14:45:45.4639097Z tardis/tests/test_util.py::test_calculate_luminosity[string_io1-500 km-result1]
2025-01-24T14:45:45.4640041Z   /home/runner/work/tardis/tardis/tardis/util/base.py:188: DeprecationWarning:
2025-01-24T14:45:45.4640585Z   
2025-01-24T14:45:45.4641529Z   `trapz` is deprecated. Use `trapezoid` instead, or one of the numerical integration functions in `scipy.integrate`.
2025-01-24T14:45:45.4642038Z 
2025-01-24T14:45:45.4642239Z tardis/visualization/tools/tests/test_sdec_plot.py: 48 warnings
2025-01-24T14:45:45.4642854Z   /home/runner/work/tardis/tardis/tardis/visualization/tools/sdec_plot.py:736: DeprecationWarning:
2025-01-24T14:45:45.4643353Z   
2025-01-24T14:45:45.4643555Z   `in1d` is deprecated. Use `np.isin` instead.
2025-01-24T14:45:45.4643756Z 
2025-01-24T14:45:45.4643936Z tardis/visualization/tools/tests/test_sdec_plot.py: 48 warnings
2025-01-24T14:45:45.4644523Z   /home/runner/work/tardis/tardis/tardis/visualization/tools/sdec_plot.py:758: DeprecationWarning:
2025-01-24T14:45:45.4645000Z   
2025-01-24T14:45:45.4645188Z   `in1d` is deprecated. Use `np.isin` instead.
2025-01-24T14:45:45.4645386Z 
2025-01-24T14:45:45.4645562Z tardis/visualization/tools/tests/test_sdec_plot.py: 48 warnings
2025-01-24T14:45:45.4646136Z   /home/runner/work/tardis/tardis/tardis/visualization/tools/sdec_plot.py:779: DeprecationWarning:
2025-01-24T14:45:45.4646617Z   
2025-01-24T14:45:45.4646802Z   `in1d` is deprecated. Use `np.isin` instead.
2025-01-24T14:45:45.4646989Z 
2025-01-24T14:45:45.4647386Z tardis/visualization/tools/tests/test_sdec_plot.py::TestSDECPlotter::test_mpl_image[plotter_generate_plot_mpl4]
2025-01-24T14:45:45.4648142Z   /home/runner/work/tardis/tardis/tardis/visualization/tools/sdec_plot.py:1225: RuntimeWarning:
2025-01-24T14:45:45.4648679Z   
2025-01-24T14:45:45.4649722Z   More than 20 figures have been opened. Figures created through the pyplot interface (`matplotlib.pyplot.figure`) are retained until explicitly closed and may consume too much memory. (To control this warning, see the rcParam `figure.max_open_warning`). Consider using `matplotlib.pyplot.close()`.
2025-01-24T14:45:45.4650767Z 
2025-01-24T14:45:45.4651287Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-01-24T14:45:45.4652164Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-01-24T14:45:45.4653029Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-01-24T14:45:45.4653849Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-01-24T14:45:45.4654588Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-01-24T14:45:45.4655336Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-01-24T14:45:45.4656139Z   /home/runner/work/tardis/tardis/micromamba_tardis/lib/python3.12/site-packages/traitlets/traitlets.py:1385: DeprecationWarning:
2025-01-24T14:45:45.4656668Z   
2025-01-24T14:45:45.4656931Z   Passing unrecognized arguments to super(Checkbox).__init__(icon='lock').
2025-01-24T14:45:45.4657366Z   object.__init__() takes exactly one argument (the instance to initialize)
2025-01-24T14:45:45.4657841Z   This is deprecated in traitlets 4.2.This error will be raised in a future release of traitlets.
2025-01-24T14:45:45.4658155Z 
2025-01-24T14:45:45.4658500Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-01-24T14:45:45.4659715Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-01-24T14:45:45.4660526Z   /home/runner/work/tardis/tardis/micromamba_tardis/lib/python3.12/site-packages/traitlets/traitlets.py:1385: DeprecationWarning:
2025-01-24T14:45:45.4661150Z   
2025-01-24T14:45:45.4661404Z   Passing unrecognized arguments to super(FloatText).__init__(min=0).
2025-01-24T14:45:45.4661966Z   object.__init__() takes exactly one argument (the instance to initialize)
2025-01-24T14:45:45.4662428Z   This is deprecated in traitlets 4.2.This error will be raised in a future release of traitlets.
2025-01-24T14:45:45.4662733Z 
2025-01-24T14:45:45.4663085Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-01-24T14:45:45.4663900Z   /home/runner/work/tardis/tardis/micromamba_tardis/lib/python3.12/site-packages/traitlets/traitlets.py:1385: DeprecationWarning:
2025-01-24T14:45:45.4664434Z   
2025-01-24T14:45:45.4664687Z   Passing unrecognized arguments to super(HTML).__init__(indent=True).
2025-01-24T14:45:45.4665097Z   object.__init__() takes exactly one argument (the instance to initialize)
2025-01-24T14:45:45.4665574Z   This is deprecated in traitlets 4.2.This error will be raised in a future release of traitlets.
2025-01-24T14:45:45.4665883Z 
2025-01-24T14:45:45.4666301Z tardis/visualization/widgets/tests/test_line_info.py::TestLineInfoWidgetData::test_get_species_interactions[wavelength_range0-packet_out_nu]
2025-01-24T14:45:45.4667182Z   /home/runner/work/tardis/tardis/micromamba_tardis/lib/python3.12/site-packages/qgridnext/grid.py:820: DeprecationWarning:
2025-01-24T14:45:45.4667711Z   
2025-01-24T14:45:45.4668054Z   QgridWidget._precision_changed is deprecated in traitlets 4.1: use @observe and @unobserve instead.
2025-01-24T14:45:45.4668402Z 
2025-01-24T14:45:45.4668654Z tardis/visualization/widgets/tests/test_shell_info.py::TestHDFShellInfo::test_shells_data
2025-01-24T14:45:45.4669186Z   /home/runner/work/tardis/tardis/tardis/io/util.py:289: PerformanceWarning:
2025-01-24T14:45:45.4669530Z   
2025-01-24T14:45:45.4669674Z   
2025-01-24T14:45:45.4669947Z   your performance may suffer as PyTables will pickle object types that it cannot
2025-01-24T14:45:45.4670457Z   map directly to c-types [inferred_type->mixed,key->block0_values] [items->Index([0], dtype='int64')]
2025-01-24T14:45:45.4670789Z 
2025-01-24T14:45:45.4671136Z tardis/visualization/widgets/tests/test_shell_info.py::TestHDFShellInfo::test_shells_data
2025-01-24T14:45:45.4671659Z   /home/runner/work/tardis/tardis/tardis/io/util.py:292: PerformanceWarning:
2025-01-24T14:45:45.4671994Z   
2025-01-24T14:45:45.4672126Z   
2025-01-24T14:45:45.4672394Z   your performance may suffer as PyTables will pickle object types that it cannot
2025-01-24T14:45:45.4672835Z   map directly to c-types [inferred_type->mixed,key->values] [items->None]
2025-01-24T14:45:45.4673083Z 
2025-01-24T14:45:45.4673333Z tardis/visualization/widgets/tests/test_shell_info.py::TestHDFShellInfo::test_shells_data
2025-01-24T14:45:45.4673918Z   /home/runner/work/tardis/tardis/tardis/spectrum/formal_integral.py:398: UserWarning:
2025-01-24T14:45:45.4674297Z   
2025-01-24T14:45:45.4674550Z   The number of interpolate_shells was not specified. The value was set to 80.
2025-01-24T14:45:45.4674814Z 
2025-01-24T14:45:45.4674996Z -- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
2025-01-24T14:45:45.4675259Z 
2025-01-24T14:45:45.4675419Z ---------- coverage: platform linux, python 3.12.4-final-0 -----------
2025-01-24T14:45:45.4675756Z Coverage HTML written to dir coverage_html_report
2025-01-24T14:45:45.4676037Z Coverage XML written to file coverage.xml
2025-01-24T14:45:45.4676206Z 
2025-01-24T14:45:45.4676323Z =========================== short test summary info ============================
2025-01-24T14:45:45.4677338Z FAILED tardis/opacities/tests/test_tau_sobolev.py::test_calculate_sobolev_line_opacity - FileNotFoundError: File /home/runner/work/tardis/tardis/tardis-regression-data/tardis/opacities/tests/test_tau_sobolev/test_calculate_sobolev_line_opacity.h5 does not exist
2025-01-24T14:45:45.4679164Z FAILED tardis/opacities/tests/test_tau_sobolev.py::test_calculate_beta_sobolevs - FileNotFoundError: [Errno 2] No such file or directory: '/home/runner/work/tardis/tardis/tardis-regression-data/tardis/opacities/tests/test_tau_sobolev/test_calculate_beta_sobolevs.npy'
2025-01-24T14:45:45.4680395Z = 2 failed, 1408 passed, 357 skipped, 2 deselected, 19 xfailed, 8 xpassed, 225 warnings in 741.29s (0:12:21) =
2025-01-24T14:45:47.7365704Z ##[error]Process completed with exit code 1.
