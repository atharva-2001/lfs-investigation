2025-01-24T13:40:12.6946110Z ##[group]Run micromamba activate ./micromamba_tardis
2025-01-24T13:40:12.6946420Z [36;1mmicromamba activate ./micromamba_tardis[0m
2025-01-24T13:40:12.6947010Z [36;1mpytest tardis --tardis-regression-data=/Users/runner/work/tardis/tardis/tardis-regression-data --cov=tardis --cov-report=xml --cov-report=html --cov-append -m "not continuum"[0m
2025-01-24T13:40:12.7001760Z shell: /bin/bash -l {0}
2025-01-24T13:40:12.7001970Z env:
2025-01-24T13:40:12.7002090Z   CACHE_NUMBER: 0
2025-01-24T13:40:12.7002580Z   PYTEST_FLAGS: --tardis-regression-data=/Users/runner/work/tardis/tardis/tardis-regression-data --cov=tardis --cov-report=xml --cov-report=html --cov-append
2025-01-24T13:40:12.7003070Z   CODECOV_TOKEN: 
2025-01-24T13:40:12.7003230Z   MAMBA_ROOT_PREFIX: /Users/runner/micromamba
2025-01-24T13:40:12.7003470Z   MAMBA_EXE: /Users/runner/micromamba-bin/micromamba
2025-01-24T13:40:12.7003750Z   CONDARC: /Users/runner/work/_temp/setup-micromamba/.condarc
2025-01-24T13:40:12.7003980Z ##[endgroup]
2025-01-24T13:40:28.3030260Z ============================= test session starts ==============================
2025-01-24T13:40:28.3034720Z platform darwin -- Python 3.12.4, pytest-8.2.2, pluggy-1.5.0
2025-01-24T13:40:28.3057170Z rootdir: /Users/runner/work/tardis/tardis
2025-01-24T13:40:28.3063160Z configfile: pyproject.toml
2025-01-24T13:40:28.3064750Z plugins: cov-5.0.0, html-4.1.1, metadata-3.1.1, doctestplus-1.2.1, anyio-4.4.0
2025-01-24T13:40:28.3065420Z collected 1796 items / 2 deselected / 1794 selected
2025-01-24T13:40:28.3065620Z 
2025-01-24T13:40:31.6816860Z tardis/energy_input/tests/test_energy_source.py ..xxx                    [  0%]
2025-01-24T13:40:33.4971910Z tardis/energy_input/tests/test_gamma_ray_channel.py ...........          [  0%]
2025-01-24T13:40:34.6998680Z tardis/energy_input/tests/test_gamma_ray_grid.py xx.                     [  1%]
2025-01-24T13:40:35.8731990Z tardis/energy_input/tests/test_gamma_ray_interactions.py xx....          [  1%]
2025-01-24T13:40:35.8833350Z tardis/energy_input/tests/test_gamma_ray_packet_source.py sssssssss      [  1%]
2025-01-24T13:40:36.7573520Z tardis/energy_input/tests/test_util.py .....xxxx.....                    [  2%]
2025-01-24T13:40:36.9989960Z tardis/grid/tests/test_grid.py .                                         [  2%]
2025-01-24T13:40:37.0016570Z tardis/gui/tests/test_gui.py s                                           [  2%]
2025-01-24T13:40:40.0665890Z tardis/io/configuration/tests/test_config_reader.py ...........          [  3%]
2025-01-24T13:40:40.0752530Z tardis/io/configuration/tests/test_configuration_namespace.py .........  [  3%]
2025-01-24T13:40:40.0904680Z tardis/io/logger/tests/test_logging.py ssssssssssssssssssssssssssss      [  5%]
2025-01-24T13:41:06.8732530Z tardis/io/model/readers/tests/test_arepo_parser.py ..                    [  5%]
2025-01-24T13:41:06.8922430Z tardis/io/model/readers/tests/test_ascii_readers.py ...                  [  5%]
2025-01-24T13:41:06.9013440Z tardis/io/model/readers/tests/test_cmfgen_reader.py ..                   [  5%]
2025-01-24T13:41:06.9215800Z tardis/io/model/readers/tests/test_csvy_reader.py ....                   [  6%]
2025-01-24T13:41:06.9366400Z tardis/io/model/readers/tests/test_stella_reader.py ..                   [  6%]
2025-01-24T13:41:07.1629030Z tardis/io/tests/test_HDFWriter.py ...............                        [  7%]
2025-01-24T13:41:07.6206400Z tardis/io/tests/test_atomic.py .....                                     [  7%]
2025-01-24T13:41:07.6407480Z tardis/io/tests/test_decay.py ..                                         [  7%]
2025-01-24T13:41:07.7992270Z tardis/io/tests/test_model_reader.py ......                              [  7%]
2025-01-24T13:41:07.8037830Z tardis/model/geometry/tests/test_radial1d.py ..                          [  7%]
2025-01-24T13:41:31.8485840Z tardis/model/tests/test_base.py ........................................ [ 10%]
2025-01-24T13:41:32.5892740Z ............                                                             [ 10%]
2025-01-24T13:41:34.9967780Z tardis/model/tests/test_csvy_model.py .........                          [ 11%]
2025-01-24T13:41:35.0443140Z tardis/model/tests/test_density.py ..                                    [ 11%]
2025-01-24T13:41:36.3099830Z tardis/opacities/tests/test_opacity_solver.py .....                      [ 11%]
2025-01-24T13:41:37.3081510Z tardis/opacities/tests/test_opacity_state_numba.py .....                 [ 11%]
2025-01-24T13:41:38.5006310Z tardis/opacities/tests/test_tau_sobolev.py FF                            [ 12%]
2025-01-24T13:41:41.4309310Z tardis/plasma/equilibrium/tests/test_collisional_transitions.py ...      [ 12%]
2025-01-24T13:42:18.0555650Z tardis/plasma/equilibrium/tests/test_level_populations.py ....           [ 12%]
2025-01-24T13:42:27.0754460Z tardis/plasma/equilibrium/tests/test_rate_matrix.py .                    [ 12%]
2025-01-24T13:42:28.2275090Z tardis/plasma/tests/test_complete_plasmas.py ..............s......s..... [ 13%]
2025-01-24T13:42:30.4133950Z s....ssssss............s......s.....ss.....s....ssssss............s..... [ 18%]
2025-01-24T13:42:31.6545840Z .s.....ss.....s....ssssss............s......s.....ss.....s....ssssss.... [ 22%]
2025-01-24T13:42:33.7949040Z ........s......s.....ss.....s....ssssss............s......s.....ss.....s [ 26%]
2025-01-24T13:42:35.8274880Z ....ssssss............s......s.....ss.....s....ssssss............s...... [ 30%]
2025-01-24T13:42:36.4091450Z s.....ss.....s....ssssss............s......s.....ss.....s.ss.ssssss..... [ 34%]
2025-01-24T13:42:38.2835470Z .......s......s.....ss.....s....ssssss............s......s.....ss.....s. [ 38%]
2025-01-24T13:42:40.2474500Z ...ssssss............s......s.....ss.....s....ssssss............s......s [ 42%]
2025-01-24T13:42:42.2090760Z .....ss.....s....ssssss............s......s.....s...........ssssss...... [ 46%]
2025-01-24T13:42:43.3797600Z ......s......s.....s...........ssssss............s......s.....s......... [ 50%]
2025-01-24T13:42:45.5332790Z ..ssssss............s......s.....ss.....s....ssssss............s......s. [ 54%]
2025-01-24T13:42:47.5896130Z ....ss.....s....ssssss...................s......s.....s....ssss......... [ 58%]
2025-01-24T13:42:47.8188140Z ............s......s.....s....ssss.......                                [ 60%]
2025-01-24T13:42:48.0172620Z tardis/plasma/tests/test_hdf_plasma.py ................................. [ 62%]
2025-01-24T13:42:48.0272160Z ......                                                                   [ 62%]
2025-01-24T13:42:48.2184150Z tardis/plasma/tests/test_nlte_excitation.py ...                          [ 62%]
2025-01-24T13:44:22.3562530Z tardis/plasma/tests/test_nlte_solver.py .....X                           [ 63%]
2025-01-24T13:44:22.3605120Z tardis/plasma/tests/test_plasma_continuum.py .                           [ 63%]
2025-01-24T13:44:40.8598950Z tardis/plasma/tests/test_plasma_vboundary.py .............               [ 63%]
2025-01-24T13:44:50.2408770Z tardis/plasma/tests/test_tardis_model_density_config.py ...              [ 64%]
2025-01-24T13:44:50.7448890Z tardis/simulation/tests/test_convergence.py .....                        [ 64%]
2025-01-24T13:44:56.7205860Z tardis/simulation/tests/test_simulation.py .............                 [ 65%]
2025-01-24T13:44:56.7315570Z tardis/spectrum/tests/test_cuda_formal_integral.py sssssssssssssssssssss [ 66%]
2025-01-24T13:44:56.9671310Z ssss...ssssssssssssssssssssss                                            [ 67%]
2025-01-24T13:44:56.9715100Z tardis/spectrum/tests/test_luminosity.py ....                            [ 68%]
2025-01-24T13:44:57.7361010Z tardis/spectrum/tests/test_numba_formal_integral.py .................... [ 69%]
2025-01-24T13:44:57.7458540Z ..........                                                               [ 69%]
2025-01-24T13:44:57.8508250Z tardis/spectrum/tests/test_spectrum.py ................................. [ 71%]
2025-01-24T13:44:57.8780880Z .........                                                                [ 72%]
2025-01-24T13:45:13.8126340Z tardis/spectrum/tests/test_spectrum_solver.py ....                       [ 72%]
2025-01-24T13:46:02.7093500Z tardis/tests/test_tardis_full.py ....                                    [ 72%]
2025-01-24T13:47:31.5472750Z tardis/tests/test_tardis_full_formal_integral.py ................        [ 73%]
2025-01-24T13:47:31.5988620Z tardis/tests/test_util.py .............................................  [ 75%]
2025-01-24T13:47:33.4897970Z tardis/transport/montecarlo/tests/test_base.py x.....................    [ 77%]
2025-01-24T13:47:37.8008990Z tardis/transport/montecarlo/tests/test_interaction.py .......            [ 77%]
2025-01-24T13:47:37.9418900Z tardis/transport/montecarlo/tests/test_macro_atom.py ....                [ 77%]
2025-01-24T13:47:37.9527200Z tardis/transport/montecarlo/tests/test_montecarlo.py sssssssssssssssssss [ 78%]
2025-01-24T13:47:37.9779470Z sssssssssssssssssssssssssssssssssssssssssssss                            [ 81%]
2025-01-24T13:47:44.3752720Z tardis/transport/montecarlo/tests/test_montecarlo_main_loop.py x..       [ 81%]
2025-01-24T13:47:44.3876920Z tardis/transport/montecarlo/tests/test_nonhomologous.py ...              [ 81%]
2025-01-24T13:47:46.5621510Z tardis/transport/montecarlo/tests/test_numba_interface.py .....x.        [ 82%]
2025-01-24T13:47:46.8851660Z tardis/transport/montecarlo/tests/test_opacities.py ...............      [ 82%]
2025-01-24T13:47:47.5516630Z tardis/transport/montecarlo/tests/test_packet.py .................xXXXXX [ 84%]
2025-01-24T13:47:47.6346370Z XX.........                                                              [ 84%]
2025-01-24T13:47:47.6642640Z tardis/transport/montecarlo/tests/test_packet_source.py ........         [ 85%]
2025-01-24T13:47:47.8714510Z tardis/transport/montecarlo/tests/test_rpacket_last_interaction_tracker.py . [ 85%]
2025-01-24T13:47:48.1800860Z .....                                                                    [ 85%]
2025-01-24T13:47:56.6354040Z tardis/transport/montecarlo/tests/test_rpacket_tracker.py ......         [ 85%]
2025-01-24T13:47:56.6549050Z tardis/transport/montecarlo/tests/test_single_packet_loop.py xxx         [ 86%]
2025-01-24T13:47:56.6568190Z tardis/transport/montecarlo/tests/test_tracker_utils.py ..               [ 86%]
2025-01-24T13:47:58.1899210Z tardis/transport/montecarlo/tests/test_vpacket.py ..x.                   [ 86%]
2025-01-24T13:47:58.2042430Z tardis/transport/montecarlo/tests/test_weighted_packet_source.py ....    [ 86%]
2025-01-24T13:48:00.5524590Z tardis/transport/montecarlo/tests/test_weighted_packet_source_integration.py . [ 86%]
2025-01-24T13:48:00.5525050Z                                                                          [ 86%]
2025-01-24T13:48:01.0103820Z tardis/transport/tests/test_doppler_factor.py ..................         [ 87%]
2025-01-24T13:48:02.5241230Z tardis/visualization/tools/tests/test_convergence_plot.py .............. [ 88%]
2025-01-24T13:48:03.9449120Z ......                                                                   [ 88%]
2025-01-24T13:48:07.6970180Z tardis/visualization/tools/tests/test_liv_plot.py ...................... [ 90%]
2025-01-24T13:48:11.1769240Z .............................                                            [ 91%]
2025-01-24T13:48:14.0610860Z tardis/visualization/tools/tests/test_rpacket_plot.py .................. [ 92%]
2025-01-24T13:48:21.3842740Z ....                                                                     [ 92%]
2025-01-24T13:48:26.1000280Z tardis/visualization/tools/tests/test_sdec_plot.py ..................... [ 94%]
2025-01-24T13:48:32.9420660Z ..............................                                           [ 95%]
2025-01-24T13:48:33.3310910Z tardis/visualization/widgets/tests/test_custom_abundance.py ........ss.. [ 96%]
2025-01-24T13:48:33.3990850Z ....                                                                     [ 96%]
2025-01-24T13:48:34.1876770Z tardis/visualization/widgets/tests/test_line_info.py ................... [ 97%]
2025-01-24T13:48:34.6951170Z ..................                                                       [ 98%]
2025-01-24T13:51:49.2672520Z tardis/visualization/widgets/tests/test_shell_info.py .................. [ 99%]
2025-01-24T13:51:56.7220450Z ......                                                                   [100%]
2025-01-24T13:51:56.7223850Z 
2025-01-24T13:51:56.7224770Z =================================== FAILURES ===================================
2025-01-24T13:51:56.7226610Z _____________________ test_calculate_sobolev_line_opacity ______________________
2025-01-24T13:51:56.7227420Z 
2025-01-24T13:51:56.7228310Z nb_simulation_verysimple = <tardis.simulation.base.Simulation object at 0x31bf5d9a0>
2025-01-24T13:51:56.7229900Z regression_data = <tardis.tests.fixtures.regression_data.RegressionData object at 0x147e89100>
2025-01-24T13:51:56.7230900Z 
2025-01-24T13:51:56.7231370Z     def test_calculate_sobolev_line_opacity(
2025-01-24T13:51:56.7232360Z         nb_simulation_verysimple, regression_data
2025-01-24T13:51:56.7233200Z     ):
2025-01-24T13:51:56.7234080Z         legacy_plasma = nb_simulation_verysimple.plasma
2025-01-24T13:51:56.7235010Z     
2025-01-24T13:51:56.7235850Z         actual = calculate_sobolev_line_opacity(
2025-01-24T13:51:56.7236770Z             legacy_plasma.lines,
2025-01-24T13:51:56.7237640Z             legacy_plasma.level_number_density,
2025-01-24T13:51:56.7238640Z             legacy_plasma.time_explosion,
2025-01-24T13:51:56.7239550Z             legacy_plasma.stimulated_emission_factor,
2025-01-24T13:51:56.7240410Z         )
2025-01-24T13:51:56.7241260Z >       expected = regression_data.sync_dataframe(actual)
2025-01-24T13:51:56.7242010Z 
2025-01-24T13:51:56.7242500Z tardis/opacities/tests/test_tau_sobolev.py:21: 
2025-01-24T13:51:56.7243460Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-01-24T13:51:56.7244680Z tardis/tests/fixtures/regression_data.py:88: in sync_dataframe
2025-01-24T13:51:56.7245880Z     return pd.read_hdf(self.fpath, key=key)
2025-01-24T13:51:56.7247340Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-01-24T13:51:56.7248050Z 
2025-01-24T13:51:56.7249180Z path_or_buf = '/Users/runner/work/tardis/tardis/tardis-regression-data/tardis/opacities/tests/test_tau_sobolev/test_calculate_sobolev_line_opacity.h5'
2025-01-24T13:51:56.7267470Z key = 'data', mode = 'r', errors = 'strict', where = None, start = None
2025-01-24T13:51:56.7267850Z stop = None, columns = None, iterator = False, chunksize = None, kwargs = {}
2025-01-24T13:51:56.7268170Z exists = False
2025-01-24T13:51:56.7268320Z 
2025-01-24T13:51:56.7268460Z     def read_hdf(
2025-01-24T13:51:56.7268690Z         path_or_buf: FilePath | HDFStore,
2025-01-24T13:51:56.7268960Z         key=None,
2025-01-24T13:51:56.7269190Z         mode: str = "r",
2025-01-24T13:51:56.7269390Z         errors: str = "strict",
2025-01-24T13:51:56.7269620Z         where: str | list | None = None,
2025-01-24T13:51:56.7269910Z         start: int | None = None,
2025-01-24T13:51:56.7270370Z         stop: int | None = None,
2025-01-24T13:51:56.7270620Z         columns: list[str] | None = None,
2025-01-24T13:51:56.7271120Z         iterator: bool = False,
2025-01-24T13:51:56.7271350Z         chunksize: int | None = None,
2025-01-24T13:51:56.7271540Z         **kwargs,
2025-01-24T13:51:56.7271940Z     ):
2025-01-24T13:51:56.7272120Z         """
2025-01-24T13:51:56.7272310Z         Read from the store, close it if we opened it.
2025-01-24T13:51:56.7272850Z     
2025-01-24T13:51:56.7273210Z         Retrieve pandas object stored in file, optionally based on where
2025-01-24T13:51:56.7273520Z         criteria.
2025-01-24T13:51:56.7273760Z     
2025-01-24T13:51:56.7313950Z         .. warning::
2025-01-24T13:51:56.7314110Z     
2025-01-24T13:51:56.7314300Z            Pandas uses PyTables for reading and writing HDF5 files, which allows
2025-01-24T13:51:56.7314670Z            serializing object-dtype data with pickle when using the "fixed" format.
2025-01-24T13:51:56.7315050Z            Loading pickled data received from untrusted sources can be unsafe.
2025-01-24T13:51:56.7315300Z     
2025-01-24T13:51:56.7315560Z            See: https://docs.python.org/3/library/pickle.html for more.
2025-01-24T13:51:56.7316580Z     
2025-01-24T13:51:56.7316680Z         Parameters
2025-01-24T13:51:56.7316820Z         ----------
2025-01-24T13:51:56.7316990Z         path_or_buf : str, path object, pandas.HDFStore
2025-01-24T13:51:56.7317280Z             Any valid string path is acceptable. Only supports the local file system,
2025-01-24T13:51:56.7318870Z             remote URLs and file-like objects are not supported.
2025-01-24T13:51:56.7319110Z     
2025-01-24T13:51:56.7319260Z             If you want to pass in a path object, pandas accepts any
2025-01-24T13:51:56.7319780Z             ``os.PathLike``.
2025-01-24T13:51:56.7320170Z     
2025-01-24T13:51:56.7320530Z             Alternatively, pandas accepts an open :class:`pandas.HDFStore` object.
2025-01-24T13:51:56.7320890Z     
2025-01-24T13:51:56.7321240Z         key : object, optional
2025-01-24T13:51:56.7321820Z             The group identifier in the store. Can be omitted if the HDF file
2025-01-24T13:51:56.7324390Z             contains a single pandas object.
2025-01-24T13:51:56.7326070Z         mode : {'r', 'r+', 'a'}, default 'r'
2025-01-24T13:51:56.7328860Z             Mode to use when opening the file. Ignored if path_or_buf is a
2025-01-24T13:51:56.7330520Z             :class:`pandas.HDFStore`. Default is 'r'.
2025-01-24T13:51:56.7330950Z         errors : str, default 'strict'
2025-01-24T13:51:56.7331680Z             Specifies how encoding and decoding errors are to be handled.
2025-01-24T13:51:56.7332210Z             See the errors argument for :func:`open` for a full list
2025-01-24T13:51:56.7333540Z             of options.
2025-01-24T13:51:56.7333810Z         where : list, optional
2025-01-24T13:51:56.7334190Z             A list of Term (or convertible) objects.
2025-01-24T13:51:56.7334840Z         start : int, optional
2025-01-24T13:51:56.7335090Z             Row number to start selection.
2025-01-24T13:51:56.7335340Z         stop  : int, optional
2025-01-24T13:51:56.7335740Z             Row number to stop selection.
2025-01-24T13:51:56.7336260Z         columns : list, optional
2025-01-24T13:51:56.7336510Z             A list of columns names to return.
2025-01-24T13:51:56.7337150Z         iterator : bool, optional
2025-01-24T13:51:56.7339350Z             Return an iterator object.
2025-01-24T13:51:56.7339580Z         chunksize : int, optional
2025-01-24T13:51:56.7340040Z             Number of rows to include in an iteration when using an iterator.
2025-01-24T13:51:56.7342760Z         **kwargs
2025-01-24T13:51:56.7343080Z             Additional keyword arguments passed to HDFStore.
2025-01-24T13:51:56.7343280Z     
2025-01-24T13:51:56.7346470Z         Returns
2025-01-24T13:51:56.7346660Z         -------
2025-01-24T13:51:56.7348190Z         object
2025-01-24T13:51:56.7348520Z             The selected object. Return type depends on the object stored.
2025-01-24T13:51:56.7348800Z     
2025-01-24T13:51:56.7348940Z         See Also
2025-01-24T13:51:56.7349730Z         --------
2025-01-24T13:51:56.7349980Z         DataFrame.to_hdf : Write a HDF file from a DataFrame.
2025-01-24T13:51:56.7350310Z         HDFStore : Low-level access to HDF files.
2025-01-24T13:51:56.7350570Z     
2025-01-24T13:51:56.7350740Z         Examples
2025-01-24T13:51:56.7350890Z         --------
2025-01-24T13:51:56.7351190Z         >>> df = pd.DataFrame([[1, 1.0, 'a']], columns=['x', 'y', 'z'])  # doctest: +SKIP
2025-01-24T13:51:56.7351530Z         >>> df.to_hdf('./store.h5', 'data')  # doctest: +SKIP
2025-01-24T13:51:56.7351830Z         >>> reread = pd.read_hdf('./store.h5')  # doctest: +SKIP
2025-01-24T13:51:56.7352140Z         """
2025-01-24T13:51:56.7353220Z         if mode not in ["r", "r+", "a"]:
2025-01-24T13:51:56.7353490Z             raise ValueError(
2025-01-24T13:51:56.7353820Z                 f"mode {mode} is not allowed while performing a read. "
2025-01-24T13:51:56.7354100Z                 f"Allowed modes are r, r+ and a."
2025-01-24T13:51:56.7354280Z             )
2025-01-24T13:51:56.7354440Z         # grab the scope
2025-01-24T13:51:56.7356900Z         if where is not None:
2025-01-24T13:51:56.7357150Z             where = _ensure_term(where, scope_level=1)
2025-01-24T13:51:56.7359150Z     
2025-01-24T13:51:56.7359340Z         if isinstance(path_or_buf, HDFStore):
2025-01-24T13:51:56.7359600Z             if not path_or_buf.is_open:
2025-01-24T13:51:56.7359820Z                 raise OSError("The HDFStore must be open for reading.")
2025-01-24T13:51:56.7360070Z     
2025-01-24T13:51:56.7360170Z             store = path_or_buf
2025-01-24T13:51:56.7360330Z             auto_close = False
2025-01-24T13:51:56.7360470Z         else:
2025-01-24T13:51:56.7360620Z             path_or_buf = stringify_path(path_or_buf)
2025-01-24T13:51:56.7360940Z             if not isinstance(path_or_buf, str):
2025-01-24T13:51:56.7361140Z                 raise NotImplementedError(
2025-01-24T13:51:56.7361370Z                     "Support for generic buffers has not been implemented."
2025-01-24T13:51:56.7361590Z                 )
2025-01-24T13:51:56.7362390Z             try:
2025-01-24T13:51:56.7362550Z                 exists = os.path.exists(path_or_buf)
2025-01-24T13:51:56.7362730Z     
2025-01-24T13:51:56.7362840Z             # if filepath is too long
2025-01-24T13:51:56.7363030Z             except (TypeError, ValueError):
2025-01-24T13:51:56.7363210Z                 exists = False
2025-01-24T13:51:56.7363350Z     
2025-01-24T13:51:56.7363450Z             if not exists:
2025-01-24T13:51:56.7363710Z >               raise FileNotFoundError(f"File {path_or_buf} does not exist")
2025-01-24T13:51:56.7364340Z E               FileNotFoundError: File /Users/runner/work/tardis/tardis/tardis-regression-data/tardis/opacities/tests/test_tau_sobolev/test_calculate_sobolev_line_opacity.h5 does not exist
2025-01-24T13:51:56.7364840Z 
2025-01-24T13:51:56.7365040Z micromamba_tardis/lib/python3.12/site-packages/pandas/io/pytables.py:424: FileNotFoundError
2025-01-24T13:51:56.7365420Z ---------------------------- Captured stderr setup -----------------------------
2025-01-24T13:51:56.7366280Z 
2025-01-24T13:51:56.7380480Z Iterations:â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ                4/5 [00:09<00:01,  1.95s/it]
2025-01-24T13:51:56.7381080Z 
2025-01-24T13:51:56.7381370Z Packets:                                                                                   4030/? [00:09<00:00, 551.12it/s][A
2025-01-24T13:51:56.7381710Z ------------------------------ Captured log setup ------------------------------
2025-01-24T13:51:56.7382470Z WARNING  tardis.io.model.parse_density_configuration:parse_density_configuration.py:114 Number of density points larger than number of shells. Assuming inner point irrelevant
2025-01-24T13:51:56.7383440Z _________________________ test_calculate_beta_sobolevs _________________________
2025-01-24T13:51:56.7385080Z 
2025-01-24T13:51:56.7385290Z nb_simulation_verysimple = <tardis.simulation.base.Simulation object at 0x31bf5d9a0>
2025-01-24T13:51:56.7385820Z regression_data = <tardis.tests.fixtures.regression_data.RegressionData object at 0x147e64fe0>
2025-01-24T13:51:56.7386100Z 
2025-01-24T13:51:56.7386290Z     def test_calculate_beta_sobolevs(nb_simulation_verysimple, regression_data):
2025-01-24T13:51:56.7386930Z         legacy_plasma = nb_simulation_verysimple.plasma
2025-01-24T13:51:56.7388770Z     
2025-01-24T13:51:56.7390400Z         tau_sobolevs = calculate_sobolev_line_opacity(
2025-01-24T13:51:56.7392150Z             legacy_plasma.lines,
2025-01-24T13:51:56.7393950Z             legacy_plasma.level_number_density,
2025-01-24T13:51:56.7395710Z             legacy_plasma.time_explosion,
2025-01-24T13:51:56.7397480Z             legacy_plasma.stimulated_emission_factor,
2025-01-24T13:51:56.7400880Z         )
2025-01-24T13:51:56.7401030Z         actual = calculate_beta_sobolev(tau_sobolevs)
2025-01-24T13:51:56.7401250Z >       expected = regression_data.sync_ndarray(actual)
2025-01-24T13:51:56.7401460Z 
2025-01-24T13:51:56.7402660Z tardis/opacities/tests/test_tau_sobolev.py:35: 
2025-01-24T13:51:56.7402950Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-01-24T13:51:56.7403800Z tardis/tests/fixtures/regression_data.py:111: in sync_ndarray
2025-01-24T13:51:56.7404440Z     return np.load(self.fpath)
2025-01-24T13:51:56.7405230Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-01-24T13:51:56.7405400Z 
2025-01-24T13:51:56.7405770Z file = PosixPath('/Users/runner/work/tardis/tardis/tardis-regression-data/tardis/opacities/tests/test_tau_sobolev/test_calculate_beta_sobolevs.npy')
2025-01-24T13:51:56.7406510Z mmap_mode = None, allow_pickle = False, fix_imports = True, encoding = 'ASCII'
2025-01-24T13:51:56.7406750Z 
2025-01-24T13:51:56.7406810Z     @set_module('numpy')
2025-01-24T13:51:56.7407150Z     def load(file, mmap_mode=None, allow_pickle=False, fix_imports=True,
2025-01-24T13:51:56.7407500Z              encoding='ASCII', *, max_header_size=format._MAX_HEADER_SIZE):
2025-01-24T13:51:56.7407810Z         """
2025-01-24T13:51:56.7408030Z         Load arrays or pickled objects from ``.npy``, ``.npz`` or pickled files.
2025-01-24T13:51:56.7408290Z     
2025-01-24T13:51:56.7408540Z         .. warning:: Loading files that contain object arrays uses the ``pickle``
2025-01-24T13:51:56.7408880Z                      module, which is not secure against erroneous or maliciously
2025-01-24T13:51:56.7409290Z                      constructed data. Consider passing ``allow_pickle=False`` to
2025-01-24T13:51:56.7409600Z                      load data that is known not to contain object arrays for the
2025-01-24T13:51:56.7409860Z                      safer handling of untrusted sources.
2025-01-24T13:51:56.7410060Z     
2025-01-24T13:51:56.7410170Z         Parameters
2025-01-24T13:51:56.7410350Z         ----------
2025-01-24T13:51:56.7410510Z         file : file-like object, string, or pathlib.Path
2025-01-24T13:51:56.7410770Z             The file to read. File-like objects must support the
2025-01-24T13:51:56.7411020Z             ``seek()`` and ``read()`` methods and must always
2025-01-24T13:51:56.7411300Z             be opened in binary mode.  Pickled files require that the
2025-01-24T13:51:56.7411600Z             file-like object support the ``readline()`` method as well.
2025-01-24T13:51:56.7412150Z         mmap_mode : {None, 'r+', 'r', 'w+', 'c'}, optional
2025-01-24T13:51:56.7412430Z             If not None, then memory-map the file, using the given mode (see
2025-01-24T13:51:56.7412740Z             `numpy.memmap` for a detailed description of the modes).  A
2025-01-24T13:51:56.7413040Z             memory-mapped array is kept on disk. However, it can be accessed
2025-01-24T13:51:56.7413350Z             and sliced like any ndarray.  Memory mapping is especially useful
2025-01-24T13:51:56.7413680Z             for accessing small fragments of large files without reading the
2025-01-24T13:51:56.7414030Z             entire file into memory.
2025-01-24T13:51:56.7414270Z         allow_pickle : bool, optional
2025-01-24T13:51:56.7414590Z             Allow loading pickled object arrays stored in npy files. Reasons for
2025-01-24T13:51:56.7415050Z             disallowing pickles include security, as loading pickled data can
2025-01-24T13:51:56.7415450Z             execute arbitrary code. If pickles are disallowed, loading object
2025-01-24T13:51:56.7415790Z             arrays will fail. Default: False
2025-01-24T13:51:56.7416090Z     
2025-01-24T13:51:56.7416270Z             .. versionchanged:: 1.16.3
2025-01-24T13:51:56.7416540Z                 Made default False in response to CVE-2019-6446.
2025-01-24T13:51:56.7416900Z     
2025-01-24T13:51:56.7417100Z         fix_imports : bool, optional
2025-01-24T13:51:56.7417410Z             Only useful when loading Python 2 generated pickled files on Python 3,
2025-01-24T13:51:56.7417780Z             which includes npy/npz files containing object arrays. If `fix_imports`
2025-01-24T13:51:56.7418210Z             is True, pickle will try to map the old Python 2 names to the new names
2025-01-24T13:51:56.7418570Z             used in Python 3.
2025-01-24T13:51:56.7418910Z         encoding : str, optional
2025-01-24T13:51:56.7419170Z             What encoding to use when reading Python 2 strings. Only useful when
2025-01-24T13:51:56.7419520Z             loading Python 2 generated pickled files in Python 3, which includes
2025-01-24T13:51:56.7419850Z             npy/npz files containing object arrays. Values other than 'latin1',
2025-01-24T13:51:56.7420160Z             'ASCII', and 'bytes' are not allowed, as they can corrupt numerical
2025-01-24T13:51:56.7420400Z             data. Default: 'ASCII'
2025-01-24T13:51:56.7420570Z         max_header_size : int, optional
2025-01-24T13:51:56.7420820Z             Maximum allowed size of the header.  Large headers may not be safe
2025-01-24T13:51:56.7421130Z             to load securely and thus require explicitly passing a larger value.
2025-01-24T13:51:56.7421420Z             See :py:func:`ast.literal_eval()` for details.
2025-01-24T13:51:56.7421750Z             This option is ignored when `allow_pickle` is passed.  In that case
2025-01-24T13:51:56.7422060Z             the file is by definition trusted and the limit is unnecessary.
2025-01-24T13:51:56.7422270Z     
2025-01-24T13:51:56.7422390Z         Returns
2025-01-24T13:51:56.7422510Z         -------
2025-01-24T13:51:56.7422650Z         result : array, tuple, dict, etc.
2025-01-24T13:51:56.7422890Z             Data stored in the file. For ``.npz`` files, the returned instance
2025-01-24T13:51:56.7423200Z             of NpzFile class must be closed to avoid leaking file descriptors.
2025-01-24T13:51:56.7423470Z     
2025-01-24T13:51:56.7423590Z         Raises
2025-01-24T13:51:56.7423720Z         ------
2025-01-24T13:51:56.7423830Z         OSError
2025-01-24T13:51:56.7424050Z             If the input file does not exist or cannot be read.
2025-01-24T13:51:56.7424330Z         UnpicklingError
2025-01-24T13:51:56.7424620Z             If ``allow_pickle=True``, but the file cannot be loaded as a pickle.
2025-01-24T13:51:56.7425000Z         ValueError
2025-01-24T13:51:56.7425250Z             The file contains an object array, but ``allow_pickle=False`` given.
2025-01-24T13:51:56.7425540Z         EOFError
2025-01-24T13:51:56.7425870Z             When calling ``np.load`` multiple times on the same file handle,
2025-01-24T13:51:56.7426380Z             if all data has already been read
2025-01-24T13:51:56.7426620Z     
2025-01-24T13:51:56.7426830Z         See Also
2025-01-24T13:51:56.7427010Z         --------
2025-01-24T13:51:56.7427230Z         save, savez, savez_compressed, loadtxt
2025-01-24T13:51:56.7427600Z         memmap : Create a memory-map to an array stored in a file on disk.
2025-01-24T13:51:56.7427940Z         lib.format.open_memmap : Create or load a memory-mapped ``.npy`` file.
2025-01-24T13:51:56.7428270Z     
2025-01-24T13:51:56.7428480Z         Notes
2025-01-24T13:51:56.7428660Z         -----
2025-01-24T13:51:56.7428880Z         - If the file contains pickle data, then whatever object is stored
2025-01-24T13:51:56.7429120Z           in the pickle is returned.
2025-01-24T13:51:56.7429360Z         - If the file is a ``.npy`` file, then a single array is returned.
2025-01-24T13:51:56.7429660Z         - If the file is a ``.npz`` file, then a dictionary-like object is
2025-01-24T13:51:56.7430010Z           returned, containing ``{filename: array}`` key-value pairs, one for
2025-01-24T13:51:56.7430270Z           each file in the archive.
2025-01-24T13:51:56.7430500Z         - If the file is a ``.npz`` file, the returned value supports the
2025-01-24T13:51:56.7430810Z           context manager protocol in a similar fashion to the open function::
2025-01-24T13:51:56.7431070Z     
2025-01-24T13:51:56.7431240Z             with load('foo.npz') as data:
2025-01-24T13:51:56.7431420Z                 a = data['a']
2025-01-24T13:51:56.7431560Z     
2025-01-24T13:51:56.7431740Z           The underlying file descriptor is closed when exiting the 'with'
2025-01-24T13:51:56.7431970Z           block.
2025-01-24T13:51:56.7432080Z     
2025-01-24T13:51:56.7432210Z         Examples
2025-01-24T13:51:56.7432510Z         --------
2025-01-24T13:51:56.7432650Z         Store data to disk, and load it again:
2025-01-24T13:51:56.7432820Z     
2025-01-24T13:51:56.7432960Z         >>> np.save('/tmp/123', np.array([[1, 2, 3], [4, 5, 6]]))
2025-01-24T13:51:56.7433230Z         >>> np.load('/tmp/123.npy')
2025-01-24T13:51:56.7433450Z         array([[1, 2, 3],
2025-01-24T13:51:56.7433590Z                [4, 5, 6]])
2025-01-24T13:51:56.7433770Z     
2025-01-24T13:51:56.7433960Z         Store compressed data to disk, and load it again:
2025-01-24T13:51:56.7434170Z     
2025-01-24T13:51:56.7434290Z         >>> a=np.array([[1, 2, 3], [4, 5, 6]])
2025-01-24T13:51:56.7434460Z         >>> b=np.array([1, 2])
2025-01-24T13:51:56.7434630Z         >>> np.savez('/tmp/123.npz', a=a, b=b)
2025-01-24T13:51:56.7434830Z         >>> data = np.load('/tmp/123.npz')
2025-01-24T13:51:56.7435000Z         >>> data['a']
2025-01-24T13:51:56.7435130Z         array([[1, 2, 3],
2025-01-24T13:51:56.7435260Z                [4, 5, 6]])
2025-01-24T13:51:56.7435410Z         >>> data['b']
2025-01-24T13:51:56.7435540Z         array([1, 2])
2025-01-24T13:51:56.7435680Z         >>> data.close()
2025-01-24T13:51:56.7435800Z     
2025-01-24T13:51:56.7435980Z         Mem-map the stored array, and then access the second row
2025-01-24T13:51:56.7436230Z         directly from disk:
2025-01-24T13:51:56.7436380Z     
2025-01-24T13:51:56.7436510Z         >>> X = np.load('/tmp/123.npy', mmap_mode='r')
2025-01-24T13:51:56.7436680Z         >>> X[1, :]
2025-01-24T13:51:56.7436810Z         memmap([4, 5, 6])
2025-01-24T13:51:56.7436960Z     
2025-01-24T13:51:56.7437050Z         """
2025-01-24T13:51:56.7437190Z         if encoding not in ('ASCII', 'latin1', 'bytes'):
2025-01-24T13:51:56.7437440Z             # The 'encoding' value for pickle also affects what encoding
2025-01-24T13:51:56.7437740Z             # the serialized binary data of NumPy arrays is loaded
2025-01-24T13:51:56.7438010Z             # in. Pickle does not pass on the encoding information to
2025-01-24T13:51:56.7438280Z             # NumPy. The unpickling code in numpy._core.multiarray is
2025-01-24T13:51:56.7438590Z             # written to assume that unicode data appearing where binary
2025-01-24T13:51:56.7439050Z             # should be is in 'latin1'. 'bytes' is also safe, as is 'ASCII'.
2025-01-24T13:51:56.7439370Z             #
2025-01-24T13:51:56.7439570Z             # Other encoding values can corrupt binary data, and we
2025-01-24T13:51:56.7439860Z             # purposefully disallow them. For the same reason, the errors=
2025-01-24T13:51:56.7440170Z             # argument is not exposed, as values other than 'strict'
2025-01-24T13:51:56.7440460Z             # result can similarly silently corrupt numerical data.
2025-01-24T13:51:56.7440770Z             raise ValueError("encoding must be 'ASCII', 'latin1', or 'bytes'")
2025-01-24T13:51:56.7441040Z     
2025-01-24T13:51:56.7441220Z         pickle_kwargs = dict(encoding=encoding, fix_imports=fix_imports)
2025-01-24T13:51:56.7441460Z     
2025-01-24T13:51:56.7441590Z         with contextlib.ExitStack() as stack:
2025-01-24T13:51:56.7441780Z             if hasattr(file, 'read'):
2025-01-24T13:51:56.7441940Z                 fid = file
2025-01-24T13:51:56.7442110Z                 own_fid = False
2025-01-24T13:51:56.7442260Z             else:
2025-01-24T13:51:56.7442430Z >               fid = stack.enter_context(open(os.fspath(file), "rb"))
2025-01-24T13:51:56.7443060Z E               FileNotFoundError: [Errno 2] No such file or directory: '/Users/runner/work/tardis/tardis/tardis-regression-data/tardis/opacities/tests/test_tau_sobolev/test_calculate_beta_sobolevs.npy'
2025-01-24T13:51:56.7443620Z 
2025-01-24T13:51:56.7443820Z micromamba_tardis/lib/python3.12/site-packages/numpy/lib/_npyio_impl.py:455: FileNotFoundError
2025-01-24T13:51:56.7444180Z =============================== warnings summary ===============================
2025-01-24T13:51:56.7444410Z tardis/io/configuration/config_validator.py:6
2025-01-24T13:51:56.7444630Z tardis/io/configuration/config_validator.py:6
2025-01-24T13:51:56.7445340Z   /Users/runner/work/tardis/tardis/tardis/io/configuration/config_validator.py:6: DeprecationWarning:
2025-01-24T13:51:56.7445750Z   
2025-01-24T13:51:56.7446690Z   jsonschema.RefResolver is deprecated as of v4.18.0, in favor of the https://github.com/python-jsonschema/referencing library, which provides more compliant referencing behavior as well as more flexible APIs for customization. A future release will remove RefResolver. Please file a feature request (on referencing) if you are missing an API for the kind of customization you need.
2025-01-24T13:51:56.7447690Z 
2025-01-24T13:51:56.7447840Z micromamba_tardis/lib/python3.12/site-packages/jupyter_client/connect.py:22
2025-01-24T13:51:56.7448450Z   /Users/runner/work/tardis/tardis/micromamba_tardis/lib/python3.12/site-packages/jupyter_client/connect.py:22: DeprecationWarning:
2025-01-24T13:51:56.7448860Z   
2025-01-24T13:51:56.7449030Z   Jupyter is migrating its paths to use standard platformdirs
2025-01-24T13:51:56.7449320Z   given by the platformdirs library.  To remove this warning and
2025-01-24T13:51:56.7449620Z   see the appropriate new directories, set the environment variable
2025-01-24T13:51:56.7449920Z   `JUPYTER_PLATFORM_DIRS=1` and then run `jupyter --paths`.
2025-01-24T13:51:56.7450220Z   The use of platformdirs will be the default in `jupyter_core` v6
2025-01-24T13:51:56.7450540Z 
2025-01-24T13:51:56.7450610Z tardis/plasma/properties/__init__.py:17
2025-01-24T13:51:56.7451170Z   /Users/runner/work/tardis/tardis/tardis/plasma/properties/__init__.py:17: DeprecationWarning:
2025-01-24T13:51:56.7451650Z   
2025-01-24T13:51:56.7452220Z   The numpy.linalg.linalg has been made private and renamed to numpy.linalg._linalg. All public functions exported by it are available from numpy.linalg. Please use numpy.linalg.LinAlgError instead.
2025-01-24T13:51:56.7452720Z 
2025-01-24T13:51:56.7452830Z tardis/transport/montecarlo/tests/test_montecarlo.py:557
2025-01-24T13:51:56.7453450Z   /Users/runner/work/tardis/tardis/tardis/transport/montecarlo/tests/test_montecarlo.py:557: PytestUnknownMarkWarning:
2025-01-24T13:51:56.7481660Z   
2025-01-24T13:51:56.7483300Z   Unknown pytest.mark.continuumtest - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
2025-01-24T13:51:56.7485610Z 
2025-01-24T13:51:56.7485920Z tardis/transport/montecarlo/tests/test_montecarlo.py:584
2025-01-24T13:51:56.7487370Z   /Users/runner/work/tardis/tardis/tardis/transport/montecarlo/tests/test_montecarlo.py:584: PytestUnknownMarkWarning:
2025-01-24T13:51:56.7488530Z   
2025-01-24T13:51:56.7489720Z   Unknown pytest.mark.continuumtest - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
2025-01-24T13:51:56.7490920Z 
2025-01-24T13:51:56.7491210Z tardis/transport/montecarlo/tests/test_montecarlo.py:605
2025-01-24T13:51:56.7492470Z   /Users/runner/work/tardis/tardis/tardis/transport/montecarlo/tests/test_montecarlo.py:605: PytestUnknownMarkWarning:
2025-01-24T13:51:56.7493590Z   
2025-01-24T13:51:56.7494750Z   Unknown pytest.mark.continuumtest - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
2025-01-24T13:51:56.7495950Z 
2025-01-24T13:51:56.7496300Z tardis/io/tests/test_HDFWriter.py::test_multi_index_write
2025-01-24T13:51:56.7497280Z tardis/visualization/widgets/tests/test_shell_info.py::TestHDFShellInfo::test_shells_data
2025-01-24T13:51:56.7499210Z   /Users/runner/work/tardis/tardis/tardis/io/util.py:276: PerformanceWarning:
2025-01-24T13:51:56.7500000Z   
2025-01-24T13:51:56.7500340Z   
2025-01-24T13:51:56.7500990Z   your performance may suffer as PyTables will pickle object types that it cannot
2025-01-24T13:51:56.7502160Z   map directly to c-types [inferred_type->mixed,key->block0_values] [items->Index([0], dtype='int64')]
2025-01-24T13:51:56.7503180Z 
2025-01-24T13:51:56.7504700Z tardis/io/tests/test_model_reader.py::test_read_cmfgen_isotope_abundances
2025-01-24T13:51:56.7506270Z tardis/plasma/tests/test_tardis_model_density_config.py::test_electron_densities
2025-01-24T13:51:56.7507390Z tardis/plasma/tests/test_tardis_model_density_config.py::test_isotope_number_densities
2025-01-24T13:51:56.7508420Z tardis/plasma/tests/test_tardis_model_density_config.py::test_t_rad
2025-01-24T13:51:56.7509850Z   /Users/runner/work/tardis/tardis/tardis/io/model/readers/cmfgen_deprecated.py:82: DeprecationWarning:
2025-01-24T13:51:56.7511220Z   
2025-01-24T13:51:56.7511830Z   The current CMFGEN model parser is deprecated
2025-01-24T13:51:56.7512220Z 
2025-01-24T13:51:56.7512440Z tardis/io/tests/test_model_reader.py: 1 warning
2025-01-24T13:51:56.7513220Z tardis/plasma/tests/test_tardis_model_density_config.py: 9 warnings
2025-01-24T13:51:56.7514420Z   /Users/runner/work/tardis/tardis/tardis/io/model/readers/cmfgen_deprecated.py:40: DeprecationWarning:
2025-01-24T13:51:56.7515370Z   
2025-01-24T13:51:56.7515770Z   The current CMFGEN model parser is deprecated
2025-01-24T13:51:56.7516160Z 
2025-01-24T13:51:56.7516590Z tardis/model/tests/test_base.py::TestModelFromPaper1Config::test_abundances
2025-01-24T13:51:56.7517960Z   /Users/runner/work/tardis/tardis/tardis/transport/montecarlo/montecarlo_main_loop.py:123: NumbaTypeSafetyWarning:
2025-01-24T13:51:56.7519070Z   
2025-01-24T13:51:56.7520710Z   [1m[1m[1munsafe cast from uint64 to int64. Precision may be lost.[0m[0m[0m
2025-01-24T13:51:56.7521320Z 
2025-01-24T13:51:56.7521530Z tardis/model/tests/test_base.py: 6 warnings
2025-01-24T13:51:56.7522130Z tardis/model/tests/test_csvy_model.py: 2 warnings
2025-01-24T13:51:56.7522890Z tardis/plasma/tests/test_tardis_model_density_config.py: 3 warnings
2025-01-24T13:51:56.7523980Z   /Users/runner/work/tardis/tardis/tardis/model/geometry/radial1d.py:50: DeprecationWarning:
2025-01-24T13:51:56.7524870Z   
2025-01-24T13:51:56.7525230Z   v_inner_boundary < 0, assuming default value
2025-01-24T13:51:56.7525600Z 
2025-01-24T13:51:56.7525820Z tardis/model/tests/test_base.py: 6 warnings
2025-01-24T13:51:56.7526400Z tardis/model/tests/test_csvy_model.py: 2 warnings
2025-01-24T13:51:56.7527150Z tardis/plasma/tests/test_tardis_model_density_config.py: 3 warnings
2025-01-24T13:51:56.7529680Z   /Users/runner/work/tardis/tardis/tardis/model/geometry/radial1d.py:61: DeprecationWarning:
2025-01-24T13:51:56.7530540Z   
2025-01-24T13:51:56.7530910Z   v_outer_boundary < 0, assuming default value
2025-01-24T13:51:56.7531290Z 
2025-01-24T13:51:56.7532000Z tardis/plasma/equilibrium/tests/test_collisional_transitions.py::test_legacy_chianti_collisional_strengths
2025-01-24T13:51:56.7533490Z tardis/plasma/equilibrium/tests/test_collisional_transitions.py::test_legacy_chianti_collisional_strengths
2025-01-24T13:51:56.7534990Z tardis/plasma/equilibrium/tests/test_collisional_transitions.py::test_legacy_chianti_collisional_strengths
2025-01-24T13:51:56.7536490Z tardis/plasma/equilibrium/tests/test_collisional_transitions.py::test_legacy_chianti_collisional_strengths
2025-01-24T13:51:56.7538510Z tardis/plasma/equilibrium/tests/test_level_populations.py::TestLevelPopulationSolver::test_calculate_level_population_simple[collisional_rate_solver0-radiative_transitions0]
2025-01-24T13:51:56.7540990Z tardis/plasma/equilibrium/tests/test_level_populations.py::TestLevelPopulationSolver::test_calculate_level_population_empty[collisional_rate_solver0-radiative_transitions0]
2025-01-24T13:51:56.7543470Z tardis/plasma/equilibrium/tests/test_level_populations.py::TestLevelPopulationSolver::test_calculate_level_population_zeros[collisional_rate_solver0-radiative_transitions0]
2025-01-24T13:51:56.7545750Z tardis/plasma/equilibrium/tests/test_level_populations.py::TestLevelPopulationSolver::test_solve[collisional_rate_solver0-radiative_transitions0]
2025-01-24T13:51:56.7547640Z tardis/plasma/equilibrium/tests/test_rate_matrix.py::test_rate_matrix_solver[collisional_rate_solver0-radiative_transitions0]
2025-01-24T13:51:56.7549200Z   /Users/runner/work/tardis/tardis/micromamba_tardis/lib/python3.12/pickle.py:323: DeprecationWarning:
2025-01-24T13:51:56.7551330Z   
2025-01-24T13:51:56.7554520Z   numpy.core.numeric is deprecated and has been renamed to numpy._core.numeric. The numpy._core namespace contains private NumPy internals and its use is discouraged, as NumPy internals can change without warning in any release. In practice, most real-world usage of numpy.core is to access functionality in the public NumPy API. If that is the case, use the public NumPy API. If not, you are using NumPy internals. If you would still like to access an internal attribute, use numpy._core.numeric._frombuffer.
2025-01-24T13:51:56.7557780Z 
2025-01-24T13:51:56.7558770Z tardis/plasma/equilibrium/tests/test_level_populations.py::TestLevelPopulationSolver::test_solve[collisional_rate_solver0-radiative_transitions0]
2025-01-24T13:51:56.7560920Z   /Users/runner/work/tardis/tardis/tardis/plasma/equilibrium/level_populations.py:65: FutureWarning:
2025-01-24T13:51:56.7561910Z   
2025-01-24T13:51:56.7562660Z   A value is trying to be set on a copy of a DataFrame or Series through chained assignment using an inplace method.
2025-01-24T13:51:56.7564320Z   The behavior will change in pandas 3.0. This inplace method will never work because the intermediate object on which we are setting values always behaves as a copy.
2025-01-24T13:51:56.7565570Z   
2025-01-24T13:51:56.7566840Z   For example, when doing 'df[col].method(value, inplace=True)', try using 'df.method({col: value}, inplace=True)' or df[col] = df[col].method(value) instead, to perform the operation inplace on the original object.
2025-01-24T13:51:56.7568130Z 
2025-01-24T13:51:56.7568580Z tardis/plasma/tests/test_plasma_vboundary.py::test_plasma_vboundary[2900-3750]
2025-01-24T13:51:56.7569620Z tardis/plasma/tests/test_plasma_vboundary.py::test_plasma_vboundary[2900-3850]
2025-01-24T13:51:56.7570670Z tardis/plasma/tests/test_plasma_vboundary.py::test_plasma_vboundary[2900-3900]
2025-01-24T13:51:56.7571770Z   /Users/runner/work/tardis/tardis/tardis/model/geometry/radial1d.py:71: UserWarning:
2025-01-24T13:51:56.7572580Z   
2025-01-24T13:51:56.7573130Z   Requesting inner boundary below inner shell. Extrapolating the inner cell
2025-01-24T13:51:56.7574790Z 
2025-01-24T13:51:56.7575630Z tardis/spectrum/tests/test_numba_formal_integral.py::test_trapezoid_integration[100.0]
2025-01-24T13:51:56.7576260Z tardis/spectrum/tests/test_numba_formal_integral.py::test_trapezoid_integration[1000.0]
2025-01-24T13:51:56.7576700Z tardis/spectrum/tests/test_numba_formal_integral.py::test_trapezoid_integration[10000.0]
2025-01-24T13:51:56.7577140Z tardis/spectrum/tests/test_numba_formal_integral.py::test_trapezoid_integration[100000.0]
2025-01-24T13:51:56.7577660Z   /Users/runner/work/tardis/tardis/tardis/spectrum/tests/test_numba_formal_integral.py:35: DeprecationWarning:
2025-01-24T13:51:56.7578030Z   
2025-01-24T13:51:56.7578320Z   `trapz` is deprecated. Use `trapezoid` instead, or one of the numerical integration functions in `scipy.integrate`.
2025-01-24T13:51:56.7578630Z 
2025-01-24T13:51:56.7578810Z tardis/spectrum/tests/test_spectrum_solver.py::TestSpectrumSolver::test_solve
2025-01-24T13:51:56.7579190Z   /Users/runner/work/tardis/tardis/tardis/spectrum/base.py:70: UserWarning:
2025-01-24T13:51:56.7579460Z   
2025-01-24T13:51:56.7579770Z   SpectrumSolver.spectrum_virtual_packets is zero. Please run the montecarlo simulation with no_of_virtual_packets > 0
2025-01-24T13:51:56.7580090Z 
2025-01-24T13:51:56.7581360Z tardis/spectrum/tests/test_spectrum_solver.py::TestSpectrumSolver::test_solve
2025-01-24T13:51:56.7581750Z   /Users/runner/work/tardis/tardis/tardis/spectrum/base.py:111: UserWarning:
2025-01-24T13:51:56.7582010Z   
2025-01-24T13:51:56.7582340Z   SpectrumSolver.integrator: The FormalIntegrator is not yet available.Please run the montecarlo simulation at least once.
2025-01-24T13:51:56.7582670Z 
2025-01-24T13:51:56.7582820Z tardis/tests/test_util.py::test_calculate_luminosity[string_io0-100 km-result0]
2025-01-24T13:51:56.7583200Z tardis/tests/test_util.py::test_calculate_luminosity[string_io1-500 km-result1]
2025-01-24T13:51:56.7584160Z   /Users/runner/work/tardis/tardis/tardis/util/base.py:188: DeprecationWarning:
2025-01-24T13:51:56.7584430Z   
2025-01-24T13:51:56.7584720Z   `trapz` is deprecated. Use `trapezoid` instead, or one of the numerical integration functions in `scipy.integrate`.
2025-01-24T13:51:56.7585000Z 
2025-01-24T13:51:56.7585130Z tardis/visualization/tools/tests/test_sdec_plot.py: 48 warnings
2025-01-24T13:51:56.7585560Z   /Users/runner/work/tardis/tardis/tardis/visualization/tools/sdec_plot.py:736: DeprecationWarning:
2025-01-24T13:51:56.7585890Z   
2025-01-24T13:51:56.7586020Z   `in1d` is deprecated. Use `np.isin` instead.
2025-01-24T13:51:56.7586160Z 
2025-01-24T13:51:56.7586280Z tardis/visualization/tools/tests/test_sdec_plot.py: 48 warnings
2025-01-24T13:51:56.7586700Z   /Users/runner/work/tardis/tardis/tardis/visualization/tools/sdec_plot.py:758: DeprecationWarning:
2025-01-24T13:51:56.7587030Z   
2025-01-24T13:51:56.7587150Z   `in1d` is deprecated. Use `np.isin` instead.
2025-01-24T13:51:56.7587300Z 
2025-01-24T13:51:56.7587420Z tardis/visualization/tools/tests/test_sdec_plot.py: 48 warnings
2025-01-24T13:51:56.7587850Z   /Users/runner/work/tardis/tardis/tardis/visualization/tools/sdec_plot.py:779: DeprecationWarning:
2025-01-24T13:51:56.7588180Z   
2025-01-24T13:51:56.7588300Z   `in1d` is deprecated. Use `np.isin` instead.
2025-01-24T13:51:56.7588440Z 
2025-01-24T13:51:56.7588700Z tardis/visualization/tools/tests/test_sdec_plot.py::TestSDECPlotter::test_mpl_image[plotter_generate_plot_mpl4]
2025-01-24T13:51:56.7589230Z   /Users/runner/work/tardis/tardis/tardis/visualization/tools/sdec_plot.py:1225: RuntimeWarning:
2025-01-24T13:51:56.7589540Z   
2025-01-24T13:51:56.7590240Z   More than 20 figures have been opened. Figures created through the pyplot interface (`matplotlib.pyplot.figure`) are retained until explicitly closed and may consume too much memory. (To control this warning, see the rcParam `figure.max_open_warning`). Consider using `matplotlib.pyplot.close()`.
2025-01-24T13:51:56.7591000Z 
2025-01-24T13:51:56.7591270Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-01-24T13:51:56.7592140Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-01-24T13:51:56.7592740Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-01-24T13:51:56.7593320Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-01-24T13:51:56.7593920Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-01-24T13:51:56.7594500Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-01-24T13:51:56.7595140Z   /Users/runner/work/tardis/tardis/micromamba_tardis/lib/python3.12/site-packages/traitlets/traitlets.py:1385: DeprecationWarning:
2025-01-24T13:51:56.7595560Z   
2025-01-24T13:51:56.7595760Z   Passing unrecognized arguments to super(Checkbox).__init__(icon='lock').
2025-01-24T13:51:56.7596120Z   object.__init__() takes exactly one argument (the instance to initialize)
2025-01-24T13:51:56.7596500Z   This is deprecated in traitlets 4.2.This error will be raised in a future release of traitlets.
2025-01-24T13:51:56.7596750Z 
2025-01-24T13:51:56.7597020Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-01-24T13:51:56.7597610Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-01-24T13:51:56.7598250Z   /Users/runner/work/tardis/tardis/micromamba_tardis/lib/python3.12/site-packages/traitlets/traitlets.py:1385: DeprecationWarning:
2025-01-24T13:51:56.7598670Z   
2025-01-24T13:51:56.7598850Z   Passing unrecognized arguments to super(FloatText).__init__(min=0).
2025-01-24T13:51:56.7599690Z   object.__init__() takes exactly one argument (the instance to initialize)
2025-01-24T13:51:56.7600200Z   This is deprecated in traitlets 4.2.This error will be raised in a future release of traitlets.
2025-01-24T13:51:56.7600450Z 
2025-01-24T13:51:56.7600730Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-01-24T13:51:56.7601360Z   /Users/runner/work/tardis/tardis/micromamba_tardis/lib/python3.12/site-packages/traitlets/traitlets.py:1385: DeprecationWarning:
2025-01-24T13:51:56.7601770Z   
2025-01-24T13:51:56.7601950Z   Passing unrecognized arguments to super(HTML).__init__(indent=True).
2025-01-24T13:51:56.7602290Z   object.__init__() takes exactly one argument (the instance to initialize)
2025-01-24T13:51:56.7602670Z   This is deprecated in traitlets 4.2.This error will be raised in a future release of traitlets.
2025-01-24T13:51:56.7602910Z 
2025-01-24T13:51:56.7603250Z tardis/visualization/widgets/tests/test_line_info.py::TestLineInfoWidgetData::test_get_species_interactions[wavelength_range0-packet_out_nu]
2025-01-24T13:51:56.7603930Z   /Users/runner/work/tardis/tardis/micromamba_tardis/lib/python3.12/site-packages/qgridnext/grid.py:814: DeprecationWarning:
2025-01-24T13:51:56.7604320Z   
2025-01-24T13:51:56.7604560Z   QgridWidget._df_changed is deprecated in traitlets 4.1: use @observe and @unobserve instead.
2025-01-24T13:51:56.7604820Z 
2025-01-24T13:51:56.7605020Z tardis/visualization/widgets/tests/test_shell_info.py::TestHDFShellInfo::test_shells_data
2025-01-24T13:51:56.7605440Z   /Users/runner/work/tardis/tardis/tardis/io/util.py:289: PerformanceWarning:
2025-01-24T13:51:56.7605710Z   
2025-01-24T13:51:56.7605800Z   
2025-01-24T13:51:56.7606010Z   your performance may suffer as PyTables will pickle object types that it cannot
2025-01-24T13:51:56.7606430Z   map directly to c-types [inferred_type->mixed,key->block0_values] [items->Index([0], dtype='int64')]
2025-01-24T13:51:56.7606700Z 
2025-01-24T13:51:56.7606900Z tardis/visualization/widgets/tests/test_shell_info.py::TestHDFShellInfo::test_shells_data
2025-01-24T13:51:56.7607420Z   /Users/runner/work/tardis/tardis/tardis/io/util.py:292: PerformanceWarning:
2025-01-24T13:51:56.7607980Z   
2025-01-24T13:51:56.7608070Z   
2025-01-24T13:51:56.7608280Z   your performance may suffer as PyTables will pickle object types that it cannot
2025-01-24T13:51:56.7608630Z   map directly to c-types [inferred_type->mixed,key->values] [items->None]
2025-01-24T13:51:56.7608830Z 
2025-01-24T13:51:56.7609040Z tardis/visualization/widgets/tests/test_shell_info.py::TestHDFShellInfo::test_shells_data
2025-01-24T13:51:56.7609480Z   /Users/runner/work/tardis/tardis/tardis/spectrum/formal_integral.py:398: UserWarning:
2025-01-24T13:51:56.7609770Z   
2025-01-24T13:51:56.7609980Z   The number of interpolate_shells was not specified. The value was set to 80.
2025-01-24T13:51:56.7610190Z 
2025-01-24T13:51:56.7610340Z -- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
2025-01-24T13:51:56.7610560Z 
2025-01-24T13:51:56.7610690Z ---------- coverage: platform darwin, python 3.12.4-final-0 ----------
2025-01-24T13:51:56.7610970Z Coverage HTML written to dir coverage_html_report
2025-01-24T13:51:56.7611190Z Coverage XML written to file coverage.xml
2025-01-24T13:51:56.7611330Z 
2025-01-24T13:51:56.7611420Z =========================== short test summary info ============================
2025-01-24T13:51:56.7612230Z FAILED tardis/opacities/tests/test_tau_sobolev.py::test_calculate_sobolev_line_opacity - FileNotFoundError: File /Users/runner/work/tardis/tardis/tardis-regression-data/tardis/opacities/tests/test_tau_sobolev/test_calculate_sobolev_line_opacity.h5 does not exist
2025-01-24T13:51:56.7613610Z FAILED tardis/opacities/tests/test_tau_sobolev.py::test_calculate_beta_sobolevs - FileNotFoundError: [Errno 2] No such file or directory: '/Users/runner/work/tardis/tardis/tardis-regression-data/tardis/opacities/tests/test_tau_sobolev/test_calculate_beta_sobolevs.npy'
2025-01-24T13:51:56.7614780Z = 2 failed, 1408 passed, 357 skipped, 2 deselected, 19 xfailed, 8 xpassed, 225 warnings in 691.18s (0:11:31) =
2025-01-24T13:51:59.0522650Z ##[error]Process completed with exit code 1.
