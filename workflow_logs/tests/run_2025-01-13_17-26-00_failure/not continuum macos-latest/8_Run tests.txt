2025-01-27T17:46:45.3579810Z ##[group]Run pytest tardis --tardis-regression-data=/Users/runner/work/tardis/tardis/tardis-regression-data --cov=tardis --cov-report=xml --cov-report=html --cov-append -m "not continuum"
2025-01-27T17:46:45.3580920Z [36;1mpytest tardis --tardis-regression-data=/Users/runner/work/tardis/tardis/tardis-regression-data --cov=tardis --cov-report=xml --cov-report=html --cov-append -m "not continuum"[0m
2025-01-27T17:46:45.3638170Z shell: /bin/bash -l {0}
2025-01-27T17:46:45.3638590Z env:
2025-01-27T17:46:45.3638750Z   CACHE_NUMBER: 0
2025-01-27T17:46:45.3639300Z   PYTEST_FLAGS: --tardis-regression-data=/Users/runner/work/tardis/tardis/tardis-regression-data --cov=tardis --cov-report=xml --cov-report=html --cov-append
2025-01-27T17:46:45.3639840Z   CODECOV_TOKEN: 
2025-01-27T17:46:45.3640010Z   MAMBA_ROOT_PREFIX: /Users/runner/micromamba
2025-01-27T17:46:45.3640300Z   MAMBA_EXE: /Users/runner/micromamba-bin/micromamba
2025-01-27T17:46:45.3641360Z   CONDARC: /Users/runner/work/_temp/setup-micromamba/.condarc
2025-01-27T17:46:45.3641770Z ##[endgroup]
2025-01-27T17:47:03.1185780Z ============================= test session starts ==============================
2025-01-27T17:47:03.1188270Z platform darwin -- Python 3.12.4, pytest-8.2.2, pluggy-1.5.0
2025-01-27T17:47:03.1189430Z rootdir: /Users/runner/work/tardis/tardis
2025-01-27T17:47:03.1190150Z configfile: pyproject.toml
2025-01-27T17:47:03.1190880Z plugins: cov-5.0.0, html-4.1.1, metadata-3.1.1, doctestplus-1.2.1, anyio-4.4.0
2025-01-27T17:47:03.1191660Z collected 1802 items / 2 deselected / 1800 selected
2025-01-27T17:47:03.1191960Z 
2025-01-27T17:47:07.6993180Z tardis/energy_input/tests/test_energy_source.py ..xxx                    [  0%]
2025-01-27T17:47:11.5271510Z tardis/energy_input/tests/test_gamma_ray_channel.py ...........          [  0%]
2025-01-27T17:47:13.5190170Z tardis/energy_input/tests/test_gamma_ray_grid.py xx.                     [  1%]
2025-01-27T17:47:16.0815890Z tardis/energy_input/tests/test_gamma_ray_interactions.py xx....          [  1%]
2025-01-27T17:47:16.1020600Z tardis/energy_input/tests/test_gamma_ray_packet_source.py sssssssss      [  1%]
2025-01-27T17:47:17.7475770Z tardis/energy_input/tests/test_util.py .....xxxx.....                    [  2%]
2025-01-27T17:47:18.0852860Z tardis/grid/tests/test_grid.py .                                         [  2%]
2025-01-27T17:47:18.0954920Z tardis/gui/tests/test_gui.py s                                           [  2%]
2025-01-27T17:47:23.0604900Z tardis/io/configuration/tests/test_config_reader.py ...........          [  3%]
2025-01-27T17:47:23.0686420Z tardis/io/configuration/tests/test_configuration_namespace.py .........  [  3%]
2025-01-27T17:47:23.1087000Z tardis/io/logger/tests/test_logging.py ssssssssssssssssssssssssssss      [  5%]
2025-01-27T17:48:10.4827710Z tardis/io/model/readers/tests/test_arepo_parser.py ..                    [  5%]
2025-01-27T17:48:10.5573210Z tardis/io/model/readers/tests/test_ascii_readers.py ...                  [  5%]
2025-01-27T17:48:10.5803160Z tardis/io/model/readers/tests/test_cmfgen_reader.py ..                   [  5%]
2025-01-27T17:48:10.6343430Z tardis/io/model/readers/tests/test_csvy_reader.py ....                   [  6%]
2025-01-27T17:48:10.6776040Z tardis/io/model/readers/tests/test_stella_reader.py ..                   [  6%]
2025-01-27T17:48:11.3364410Z tardis/io/tests/test_HDFWriter.py ...............                        [  7%]
2025-01-27T17:48:12.3412800Z tardis/io/tests/test_atomic.py .....                                     [  7%]
2025-01-27T17:48:12.3878080Z tardis/io/tests/test_decay.py ..                                         [  7%]
2025-01-27T17:48:12.6735380Z tardis/io/tests/test_model_reader.py ......                              [  7%]
2025-01-27T17:48:12.6829760Z tardis/model/geometry/tests/test_radial1d.py ..                          [  7%]
2025-01-27T17:48:13.3171110Z tardis/model/matter/tests/test_composition.py EEEEEE                     [  8%]
2025-01-27T17:48:56.4598590Z tardis/model/tests/test_base.py ........................................ [ 10%]
2025-01-27T17:48:57.7423100Z ............                                                             [ 11%]
2025-01-27T17:49:01.5564650Z tardis/model/tests/test_csvy_model.py .........                          [ 11%]
2025-01-27T17:49:01.6836370Z tardis/model/tests/test_density.py ..                                    [ 11%]
2025-01-27T17:49:03.9750060Z tardis/opacities/tests/test_opacity_solver.py .....                      [ 11%]
2025-01-27T17:49:05.8008970Z tardis/opacities/tests/test_opacity_state_numba.py .....                 [ 12%]
2025-01-27T17:49:08.7277640Z tardis/opacities/tests/test_tau_sobolev.py FF                            [ 12%]
2025-01-27T17:49:13.3838810Z tardis/plasma/equilibrium/tests/test_collisional_transitions.py ...      [ 12%]
2025-01-27T17:50:27.7413330Z tardis/plasma/equilibrium/tests/test_level_populations.py ....           [ 12%]
2025-01-27T17:50:42.7029670Z tardis/plasma/equilibrium/tests/test_rate_matrix.py .                    [ 12%]
2025-01-27T17:50:44.2770320Z tardis/plasma/tests/test_complete_plasmas.py .....................s..... [ 14%]
2025-01-27T17:50:47.4892230Z s....ssssss............s............ss.....s....ssssss............s..... [ 18%]
2025-01-27T17:50:49.7519720Z .......ss.....s....ssssss............s............ss.....s....ssssss.... [ 22%]
2025-01-27T17:50:54.6494480Z ........s............ss.....s........ss............s............ss.....s [ 26%]
2025-01-27T17:50:57.9161440Z ........ss............s............ss.....s....ssssss............s...... [ 30%]
2025-01-27T17:50:58.8433540Z ......ss.....s....ssssss............s............ss.....s.ss.ssssss..... [ 34%]
2025-01-27T17:51:02.7849760Z .......s............ss.....s....ssssss............s............ss.....s. [ 38%]
2025-01-27T17:51:06.9521770Z ...ssssss............s............ss.....s....ssssss............s....... [ 42%]
2025-01-27T17:51:11.2756550Z .....ss.....s....ssssss............s............s...........ssssss...... [ 46%]
2025-01-27T17:51:13.0817200Z ......s............s...........ssssss............s............s......... [ 50%]
2025-01-27T17:51:17.9377370Z ..ssssss............s............ss.....s....ssssss............s........ [ 54%]
2025-01-27T17:51:22.0245030Z ....ss.....s....ssssss..........................s.....s....ssss......... [ 58%]
2025-01-27T17:51:22.7569080Z ...................s.....s....ssss.......                                [ 60%]
2025-01-27T17:51:23.2334700Z tardis/plasma/tests/test_hdf_plasma.py ................................. [ 62%]
2025-01-27T17:51:23.2544540Z ......                                                                   [ 62%]
2025-01-27T17:51:23.9530620Z tardis/plasma/tests/test_nlte_excitation.py ...                          [ 62%]
2025-01-27T17:54:53.0113470Z tardis/plasma/tests/test_nlte_solver.py .....X                           [ 63%]
2025-01-27T17:54:53.0179750Z tardis/plasma/tests/test_plasma_continuum.py .                           [ 63%]
2025-01-27T17:55:26.5436930Z tardis/plasma/tests/test_plasma_vboundary.py .............               [ 64%]
2025-01-27T17:55:43.2379280Z tardis/plasma/tests/test_tardis_model_density_config.py ...              [ 64%]
2025-01-27T17:55:44.3105860Z tardis/simulation/tests/test_convergence.py .....                        [ 64%]
2025-01-27T17:55:54.9236830Z tardis/simulation/tests/test_simulation.py .............                 [ 65%]
2025-01-27T17:55:54.9429450Z tardis/spectrum/tests/test_cuda_formal_integral.py sssssssssssssssssssss [ 66%]
2025-01-27T17:55:55.2906710Z ssss...ssssssssssssssssssssss                                            [ 67%]
2025-01-27T17:55:55.3040590Z tardis/spectrum/tests/test_luminosity.py ....                            [ 68%]
2025-01-27T17:55:57.3698350Z tardis/spectrum/tests/test_numba_formal_integral.py .................... [ 69%]
2025-01-27T17:55:57.3819930Z ..........                                                               [ 69%]
2025-01-27T17:55:57.4975380Z tardis/spectrum/tests/test_spectrum.py ................................. [ 71%]
2025-01-27T17:55:57.5286880Z .........                                                                [ 72%]
2025-01-27T17:56:25.1198400Z tardis/spectrum/tests/test_spectrum_solver.py ....                       [ 72%]
2025-01-27T17:58:35.8780950Z tardis/tests/test_tardis_full.py ....                                    [ 72%]
2025-01-27T18:01:17.8475780Z tardis/tests/test_tardis_full_formal_integral.py ................        [ 73%]
2025-01-27T18:01:17.9615840Z tardis/tests/test_util.py .............................................  [ 76%]
2025-01-27T18:01:23.7585970Z tardis/transport/montecarlo/tests/test_base.py x.....................    [ 77%]
2025-01-27T18:01:34.4547410Z tardis/transport/montecarlo/tests/test_interaction.py .......            [ 77%]
2025-01-27T18:01:34.6513830Z tardis/transport/montecarlo/tests/test_macro_atom.py ....                [ 77%]
2025-01-27T18:01:34.6654610Z tardis/transport/montecarlo/tests/test_montecarlo.py sssssssssssssssssss [ 78%]
2025-01-27T18:01:34.6882710Z sssssssssssssssssssssssssssssssssssssssssssss                            [ 81%]
2025-01-27T18:01:45.7866360Z tardis/transport/montecarlo/tests/test_montecarlo_main_loop.py x..       [ 81%]
2025-01-27T18:01:45.7969520Z tardis/transport/montecarlo/tests/test_nonhomologous.py ...              [ 81%]
2025-01-27T18:01:49.3457010Z tardis/transport/montecarlo/tests/test_numba_interface.py .....x.        [ 82%]
2025-01-27T18:01:49.7399370Z tardis/transport/montecarlo/tests/test_opacities.py ...............      [ 82%]
2025-01-27T18:01:50.5872640Z tardis/transport/montecarlo/tests/test_packet.py .................xXXXXX [ 84%]
2025-01-27T18:01:50.7966580Z XX.........                                                              [ 84%]
2025-01-27T18:01:50.8743910Z tardis/transport/montecarlo/tests/test_packet_source.py ........         [ 85%]
2025-01-27T18:01:51.3637420Z tardis/transport/montecarlo/tests/test_rpacket_last_interaction_tracker.py . [ 85%]
2025-01-27T18:01:51.9506180Z .....                                                                    [ 85%]
2025-01-27T18:02:07.6615280Z tardis/transport/montecarlo/tests/test_rpacket_tracker.py ......         [ 85%]
2025-01-27T18:02:07.6886720Z tardis/transport/montecarlo/tests/test_single_packet_loop.py xxx         [ 86%]
2025-01-27T18:02:07.6922780Z tardis/transport/montecarlo/tests/test_tracker_utils.py ..               [ 86%]
2025-01-27T18:02:10.3623970Z tardis/transport/montecarlo/tests/test_vpacket.py ..x.                   [ 86%]
2025-01-27T18:02:10.3973070Z tardis/transport/montecarlo/tests/test_weighted_packet_source.py ....    [ 86%]
2025-01-27T18:02:16.9372360Z tardis/transport/montecarlo/tests/test_weighted_packet_source_integration.py . [ 86%]
2025-01-27T18:02:16.9375250Z                                                                          [ 86%]
2025-01-27T18:02:17.7105190Z tardis/transport/tests/test_doppler_factor.py ..................         [ 87%]
2025-01-27T18:02:20.4526380Z tardis/visualization/tools/tests/test_convergence_plot.py .............. [ 88%]
2025-01-27T18:02:24.4779400Z ......                                                                   [ 88%]
2025-01-27T18:02:29.2212980Z tardis/visualization/tools/tests/test_liv_plot.py ...................... [ 90%]
2025-01-27T18:02:35.3241010Z .............................                                            [ 91%]
2025-01-27T18:02:38.4256890Z tardis/visualization/tools/tests/test_rpacket_plot.py .................. [ 92%]
2025-01-27T18:02:46.8285440Z ....                                                                     [ 92%]
2025-01-27T18:02:55.0301110Z tardis/visualization/tools/tests/test_sdec_plot.py ..................... [ 94%]
2025-01-27T18:03:08.7373650Z ..............................                                           [ 95%]
2025-01-27T18:03:09.4742920Z tardis/visualization/widgets/tests/test_custom_abundance.py ........ss.. [ 96%]
2025-01-27T18:03:09.5704030Z ....                                                                     [ 96%]
2025-01-27T18:03:11.3166690Z tardis/visualization/widgets/tests/test_line_info.py ................... [ 97%]
2025-01-27T18:03:11.8923000Z ..................                                                       [ 98%]
2025-01-27T18:07:48.1092950Z tardis/visualization/widgets/tests/test_shell_info.py .................. [ 99%]
2025-01-27T18:07:59.5337350Z ......                                                                   [100%]
2025-01-27T18:07:59.5338640Z 
2025-01-27T18:07:59.5339520Z ==================================== ERRORS ====================================
2025-01-27T18:07:59.5341400Z ________________ ERROR at setup of test_elemental_mass_fraction ________________
2025-01-27T18:07:59.5342860Z 
2025-01-27T18:07:59.5345010Z config_verysimple = {'tardis_config_version': 'v1.0', 'supernova': {'luminosity_requested': <Quantity 1.07688e+36 W>, 'time_explosion': <Q...: {'points': 1000, 'interpolate_shells': 0, 'compute': 'CPU'}}, 'config_dirname': 'tardis/io/configuration/tests/data'}
2025-01-27T18:07:59.5349050Z 
2025-01-27T18:07:59.5349300Z     @pytest.fixture(scope="function")
2025-01-27T18:07:59.5350020Z     def composition_instance(config_verysimple):
2025-01-27T18:07:59.5350460Z         time_explosion = config_verysimple.supernova.time_explosion.cgs
2025-01-27T18:07:59.5351040Z         geometry = parse_geometry_from_config(config_verysimple, time_explosion)
2025-01-27T18:07:59.5354120Z >       atom_data = parse_atom_data(config_verysimple)
2025-01-27T18:07:59.5354860Z 
2025-01-27T18:07:59.5355280Z tardis/model/matter/tests/test_composition.py:15: 
2025-01-27T18:07:59.5356380Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-01-27T18:07:59.5357340Z tardis/io/model/parse_atom_data.py:43: in parse_atom_data
2025-01-27T18:07:59.5358300Z     atom_data = AtomData.from_hdf(atom_data_fname)
2025-01-27T18:07:59.5359260Z tardis/io/atom_data/base.py:190: in from_hdf
2025-01-27T18:07:59.5362500Z     fname = resolve_atom_data_fname(fname)
2025-01-27T18:07:59.5363730Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-01-27T18:07:59.5364380Z 
2025-01-27T18:07:59.5364980Z fname = PosixPath('kurucz_cd23_chianti_H_He.h5')
2025-01-27T18:07:59.5365720Z 
2025-01-27T18:07:59.5366180Z     def resolve_atom_data_fname(fname):
2025-01-27T18:07:59.5402150Z         """
2025-01-27T18:07:59.5403040Z         Check where if atom data HDF file is available on disk, can be downloaded or does not exist
2025-01-27T18:07:59.5403910Z     
2025-01-27T18:07:59.5404420Z         Parameters
2025-01-27T18:07:59.5404850Z         ----------
2025-01-27T18:07:59.5405810Z         fname : Path
2025-01-27T18:07:59.5406540Z             name or path of atom data HDF file
2025-01-27T18:07:59.5407080Z     
2025-01-27T18:07:59.5407390Z         Returns
2025-01-27T18:07:59.5407770Z         -------
2025-01-27T18:07:59.5407980Z             : Path
2025-01-27T18:07:59.5408230Z             resolved fpath
2025-01-27T18:07:59.5408420Z         """
2025-01-27T18:07:59.5409110Z         fname = Path(fname)
2025-01-27T18:07:59.5410310Z         if os.path.exists(fname):
2025-01-27T18:07:59.5410550Z             return fname
2025-01-27T18:07:59.5410770Z     
2025-01-27T18:07:59.5411770Z         fname = Path(fname.stem).with_suffix(".h5")
2025-01-27T18:07:59.5412250Z         fpath = Path(os.path.join(get_data_dir(), fname))
2025-01-27T18:07:59.5413450Z         if os.path.exists(fpath):
2025-01-27T18:07:59.5413850Z             logger.info(
2025-01-27T18:07:59.5414380Z                 f"\n\tAtom Data {fname} not found in local path.\n\tExists in TARDIS Data repo {fpath}"
2025-01-27T18:07:59.5415340Z             )
2025-01-27T18:07:59.5417050Z             return fpath
2025-01-27T18:07:59.5417250Z     
2025-01-27T18:07:59.5418150Z         atom_data_name = fname.stem
2025-01-27T18:07:59.5418480Z         atom_repo_config = get_atomic_repo_config()
2025-01-27T18:07:59.5418750Z         if atom_data_name in atom_repo_config:
2025-01-27T18:07:59.5419220Z >           raise OSError(
2025-01-27T18:07:59.5419670Z                 f"Atom Data {fname} not found in path or in TARDIS data repo - it is available as download:\n"
2025-01-27T18:07:59.5440730Z                 f"from tardis.io.atom_data import download_atom_data\n"
2025-01-27T18:07:59.5441530Z                 f"download_atom_data('{atom_data_name}')"
2025-01-27T18:07:59.5442260Z             )
2025-01-27T18:07:59.5443230Z E           OSError: Atom Data kurucz_cd23_chianti_H_He.h5 not found in path or in TARDIS data repo - it is available as download:
2025-01-27T18:07:59.5444420Z E           from tardis.io.atom_data import download_atom_data
2025-01-27T18:07:59.5445290Z E           download_atom_data('kurucz_cd23_chianti_H_He')
2025-01-27T18:07:59.5445710Z 
2025-01-27T18:07:59.5446010Z tardis/io/atom_data/util.py:42: OSError
2025-01-27T18:07:59.5446850Z ---------------------------- Captured stdout setup -----------------------------
2025-01-27T18:07:59.5450650Z [[1mtardis.io.configuration.config_internal[0m][[1;33mWARNING[0m]  
2025-01-27T18:07:59.5452670Z 	Configuration File /Users/runner/.astropy/config/tardis_internal_config.yml does not exist - creating new one from default ([1mconfig_internal.py[0m:24)
2025-01-27T18:07:59.5454390Z ------------------------------ Captured log setup ------------------------------
2025-01-27T18:07:59.5456380Z WARNING  tardis.io.configuration.config_internal:config_internal.py:24 Configuration File /Users/runner/.astropy/config/tardis_internal_config.yml does not exist - creating new one from default
2025-01-27T18:07:59.5458350Z CRITICAL root:config_internal.py:37 
2025-01-27T18:07:59.5459110Z ********************************************************************************
2025-01-27T18:07:59.5459510Z 
2025-01-27T18:07:59.5460280Z TARDIS will download different kinds of data (e.g. atomic) to its data directory /Users/runner/Downloads/tardis-data
2025-01-27T18:07:59.5461230Z 
2025-01-27T18:07:59.5461770Z TARDIS DATA DIRECTORY not specified in /Users/runner/.astropy/config/tardis_internal_config.yml:
2025-01-27T18:07:59.5462640Z 
2025-01-27T18:07:59.5463110Z ASSUMING DEFAULT DATA DIRECTORY /Users/runner/Downloads/tardis-data
2025-01-27T18:07:59.5464230Z  YOU CAN CHANGE THIS AT ANY TIME IN /Users/runner/.astropy/config/tardis_internal_config.yml 
2025-01-27T18:07:59.5465020Z 
2025-01-27T18:07:59.5465200Z ********************************************************************************
2025-01-27T18:07:59.5467120Z _______________ ERROR at setup of test_elemental_number_density ________________
2025-01-27T18:07:59.5467740Z 
2025-01-27T18:07:59.5469320Z config_verysimple = {'tardis_config_version': 'v1.0', 'supernova': {'luminosity_requested': <Quantity 1.07688e+36 W>, 'time_explosion': <Q...: {'points': 1000, 'interpolate_shells': 0, 'compute': 'CPU'}}, 'config_dirname': 'tardis/io/configuration/tests/data'}
2025-01-27T18:07:59.5471170Z 
2025-01-27T18:07:59.5471410Z     @pytest.fixture(scope="function")
2025-01-27T18:07:59.5472310Z     def composition_instance(config_verysimple):
2025-01-27T18:07:59.5481060Z         time_explosion = config_verysimple.supernova.time_explosion.cgs
2025-01-27T18:07:59.5482520Z         geometry = parse_geometry_from_config(config_verysimple, time_explosion)
2025-01-27T18:07:59.5486030Z >       atom_data = parse_atom_data(config_verysimple)
2025-01-27T18:07:59.5486330Z 
2025-01-27T18:07:59.5486470Z tardis/model/matter/tests/test_composition.py:15: 
2025-01-27T18:07:59.5486820Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-01-27T18:07:59.5487430Z tardis/io/model/parse_atom_data.py:43: in parse_atom_data
2025-01-27T18:07:59.5487750Z     atom_data = AtomData.from_hdf(atom_data_fname)
2025-01-27T18:07:59.5488140Z tardis/io/atom_data/base.py:190: in from_hdf
2025-01-27T18:07:59.5488410Z     fname = resolve_atom_data_fname(fname)
2025-01-27T18:07:59.5488680Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-01-27T18:07:59.5488930Z 
2025-01-27T18:07:59.5489110Z fname = PosixPath('kurucz_cd23_chianti_H_He.h5')
2025-01-27T18:07:59.5489280Z 
2025-01-27T18:07:59.5489400Z     def resolve_atom_data_fname(fname):
2025-01-27T18:07:59.5489660Z         """
2025-01-27T18:07:59.5490920Z         Check where if atom data HDF file is available on disk, can be downloaded or does not exist
2025-01-27T18:07:59.5491280Z     
2025-01-27T18:07:59.5491510Z         Parameters
2025-01-27T18:07:59.5491880Z         ----------
2025-01-27T18:07:59.5492130Z         fname : Path
2025-01-27T18:07:59.5492380Z             name or path of atom data HDF file
2025-01-27T18:07:59.5492710Z     
2025-01-27T18:07:59.5492880Z         Returns
2025-01-27T18:07:59.5493070Z         -------
2025-01-27T18:07:59.5493340Z             : Path
2025-01-27T18:07:59.5493510Z             resolved fpath
2025-01-27T18:07:59.5493710Z         """
2025-01-27T18:07:59.5493900Z         fname = Path(fname)
2025-01-27T18:07:59.5494160Z         if os.path.exists(fname):
2025-01-27T18:07:59.5494440Z             return fname
2025-01-27T18:07:59.5494620Z     
2025-01-27T18:07:59.5494870Z         fname = Path(fname.stem).with_suffix(".h5")
2025-01-27T18:07:59.5495250Z         fpath = Path(os.path.join(get_data_dir(), fname))
2025-01-27T18:07:59.5495550Z         if os.path.exists(fpath):
2025-01-27T18:07:59.5495890Z             logger.info(
2025-01-27T18:07:59.5496240Z                 f"\n\tAtom Data {fname} not found in local path.\n\tExists in TARDIS Data repo {fpath}"
2025-01-27T18:07:59.5496610Z             )
2025-01-27T18:07:59.5496850Z             return fpath
2025-01-27T18:07:59.5497070Z     
2025-01-27T18:07:59.5497240Z         atom_data_name = fname.stem
2025-01-27T18:07:59.5497590Z         atom_repo_config = get_atomic_repo_config()
2025-01-27T18:07:59.5497890Z         if atom_data_name in atom_repo_config:
2025-01-27T18:07:59.5498160Z >           raise OSError(
2025-01-27T18:07:59.5498580Z                 f"Atom Data {fname} not found in path or in TARDIS data repo - it is available as download:\n"
2025-01-27T18:07:59.5499030Z                 f"from tardis.io.atom_data import download_atom_data\n"
2025-01-27T18:07:59.5499340Z                 f"download_atom_data('{atom_data_name}')"
2025-01-27T18:07:59.5499670Z             )
2025-01-27T18:07:59.5500060Z E           OSError: Atom Data kurucz_cd23_chianti_H_He.h5 not found in path or in TARDIS data repo - it is available as download:
2025-01-27T18:07:59.5500760Z E           from tardis.io.atom_data import download_atom_data
2025-01-27T18:07:59.5501210Z E           download_atom_data('kurucz_cd23_chianti_H_He')
2025-01-27T18:07:59.5501440Z 
2025-01-27T18:07:59.5501570Z tardis/io/atom_data/util.py:42: OSError
2025-01-27T18:07:59.5501890Z ___ ERROR at setup of test_calculate_mass_fraction_at_time[time_explosion0] ____
2025-01-27T18:07:59.5502240Z 
2025-01-27T18:07:59.5502770Z config_verysimple = {'tardis_config_version': 'v1.0', 'supernova': {'luminosity_requested': <Quantity 1.07688e+36 W>, 'time_explosion': <Q...: {'points': 1000, 'interpolate_shells': 0, 'compute': 'CPU'}}, 'config_dirname': 'tardis/io/configuration/tests/data'}
2025-01-27T18:07:59.5503420Z 
2025-01-27T18:07:59.5503560Z     @pytest.fixture(scope="function")
2025-01-27T18:07:59.5503860Z     def composition_instance(config_verysimple):
2025-01-27T18:07:59.5504190Z         time_explosion = config_verysimple.supernova.time_explosion.cgs
2025-01-27T18:07:59.5504760Z         geometry = parse_geometry_from_config(config_verysimple, time_explosion)
2025-01-27T18:07:59.5505110Z >       atom_data = parse_atom_data(config_verysimple)
2025-01-27T18:07:59.5505300Z 
2025-01-27T18:07:59.5505440Z tardis/model/matter/tests/test_composition.py:15: 
2025-01-27T18:07:59.5505760Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-01-27T18:07:59.5506150Z tardis/io/model/parse_atom_data.py:43: in parse_atom_data
2025-01-27T18:07:59.5506560Z     atom_data = AtomData.from_hdf(atom_data_fname)
2025-01-27T18:07:59.5506860Z tardis/io/atom_data/base.py:190: in from_hdf
2025-01-27T18:07:59.5507130Z     fname = resolve_atom_data_fname(fname)
2025-01-27T18:07:59.5507550Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-01-27T18:07:59.5507720Z 
2025-01-27T18:07:59.5507860Z fname = PosixPath('kurucz_cd23_chianti_H_He.h5')
2025-01-27T18:07:59.5509200Z 
2025-01-27T18:07:59.5510470Z     def resolve_atom_data_fname(fname):
2025-01-27T18:07:59.5510870Z         """
2025-01-27T18:07:59.5511190Z         Check where if atom data HDF file is available on disk, can be downloaded or does not exist
2025-01-27T18:07:59.5511540Z     
2025-01-27T18:07:59.5511760Z         Parameters
2025-01-27T18:07:59.5511990Z         ----------
2025-01-27T18:07:59.5512270Z         fname : Path
2025-01-27T18:07:59.5512530Z             name or path of atom data HDF file
2025-01-27T18:07:59.5512760Z     
2025-01-27T18:07:59.5512920Z         Returns
2025-01-27T18:07:59.5513090Z         -------
2025-01-27T18:07:59.5513330Z             : Path
2025-01-27T18:07:59.5513520Z             resolved fpath
2025-01-27T18:07:59.5513710Z         """
2025-01-27T18:07:59.5513940Z         fname = Path(fname)
2025-01-27T18:07:59.5514150Z         if os.path.exists(fname):
2025-01-27T18:07:59.5514370Z             return fname
2025-01-27T18:07:59.5514630Z     
2025-01-27T18:07:59.5514830Z         fname = Path(fname.stem).with_suffix(".h5")
2025-01-27T18:07:59.5515110Z         fpath = Path(os.path.join(get_data_dir(), fname))
2025-01-27T18:07:59.5515560Z         if os.path.exists(fpath):
2025-01-27T18:07:59.5515770Z             logger.info(
2025-01-27T18:07:59.5516120Z                 f"\n\tAtom Data {fname} not found in local path.\n\tExists in TARDIS Data repo {fpath}"
2025-01-27T18:07:59.5516460Z             )
2025-01-27T18:07:59.5516630Z             return fpath
2025-01-27T18:07:59.5516890Z     
2025-01-27T18:07:59.5517030Z         atom_data_name = fname.stem
2025-01-27T18:07:59.5517290Z         atom_repo_config = get_atomic_repo_config()
2025-01-27T18:07:59.5517560Z         if atom_data_name in atom_repo_config:
2025-01-27T18:07:59.5517880Z >           raise OSError(
2025-01-27T18:07:59.5518230Z                 f"Atom Data {fname} not found in path or in TARDIS data repo - it is available as download:\n"
2025-01-27T18:07:59.5518670Z                 f"from tardis.io.atom_data import download_atom_data\n"
2025-01-27T18:07:59.5519190Z                 f"download_atom_data('{atom_data_name}')"
2025-01-27T18:07:59.5519970Z             )
2025-01-27T18:07:59.5520810Z E           OSError: Atom Data kurucz_cd23_chianti_H_He.h5 not found in path or in TARDIS data repo - it is available as download:
2025-01-27T18:07:59.5554410Z E           from tardis.io.atom_data import download_atom_data
2025-01-27T18:07:59.5554710Z E           download_atom_data('kurucz_cd23_chianti_H_He')
2025-01-27T18:07:59.5554870Z 
2025-01-27T18:07:59.5554980Z tardis/io/atom_data/util.py:42: OSError
2025-01-27T18:07:59.5555290Z ___ ERROR at setup of test_calculate_mass_fraction_at_time[time_explosion1] ____
2025-01-27T18:07:59.5555620Z 
2025-01-27T18:07:59.5556230Z config_verysimple = {'tardis_config_version': 'v1.0', 'supernova': {'luminosity_requested': <Quantity 1.07688e+36 W>, 'time_explosion': <Q...: {'points': 1000, 'interpolate_shells': 0, 'compute': 'CPU'}}, 'config_dirname': 'tardis/io/configuration/tests/data'}
2025-01-27T18:07:59.5556910Z 
2025-01-27T18:07:59.5557090Z     @pytest.fixture(scope="function")
2025-01-27T18:07:59.5557370Z     def composition_instance(config_verysimple):
2025-01-27T18:07:59.5557790Z         time_explosion = config_verysimple.supernova.time_explosion.cgs
2025-01-27T18:07:59.5558330Z         geometry = parse_geometry_from_config(config_verysimple, time_explosion)
2025-01-27T18:07:59.5558670Z >       atom_data = parse_atom_data(config_verysimple)
2025-01-27T18:07:59.5558920Z 
2025-01-27T18:07:59.5559050Z tardis/model/matter/tests/test_composition.py:15: 
2025-01-27T18:07:59.5559730Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-01-27T18:07:59.5560490Z tardis/io/model/parse_atom_data.py:43: in parse_atom_data
2025-01-27T18:07:59.5560900Z     atom_data = AtomData.from_hdf(atom_data_fname)
2025-01-27T18:07:59.5561230Z tardis/io/atom_data/base.py:190: in from_hdf
2025-01-27T18:07:59.5561440Z     fname = resolve_atom_data_fname(fname)
2025-01-27T18:07:59.5562930Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-01-27T18:07:59.5563150Z 
2025-01-27T18:07:59.5563260Z fname = PosixPath('kurucz_cd23_chianti_H_He.h5')
2025-01-27T18:07:59.5563420Z 
2025-01-27T18:07:59.5563510Z     def resolve_atom_data_fname(fname):
2025-01-27T18:07:59.5563710Z         """
2025-01-27T18:07:59.5563980Z         Check where if atom data HDF file is available on disk, can be downloaded or does not exist
2025-01-27T18:07:59.5564580Z     
2025-01-27T18:07:59.5564730Z         Parameters
2025-01-27T18:07:59.5565020Z         ----------
2025-01-27T18:07:59.5565180Z         fname : Path
2025-01-27T18:07:59.5565390Z             name or path of atom data HDF file
2025-01-27T18:07:59.5565630Z     
2025-01-27T18:07:59.5565780Z         Returns
2025-01-27T18:07:59.5565940Z         -------
2025-01-27T18:07:59.5566090Z             : Path
2025-01-27T18:07:59.5566260Z             resolved fpath
2025-01-27T18:07:59.5566430Z         """
2025-01-27T18:07:59.5566570Z         fname = Path(fname)
2025-01-27T18:07:59.5566820Z         if os.path.exists(fname):
2025-01-27T18:07:59.5567090Z             return fname
2025-01-27T18:07:59.5567300Z     
2025-01-27T18:07:59.5567510Z         fname = Path(fname.stem).with_suffix(".h5")
2025-01-27T18:07:59.5567840Z         fpath = Path(os.path.join(get_data_dir(), fname))
2025-01-27T18:07:59.5568190Z         if os.path.exists(fpath):
2025-01-27T18:07:59.5568440Z             logger.info(
2025-01-27T18:07:59.5568820Z                 f"\n\tAtom Data {fname} not found in local path.\n\tExists in TARDIS Data repo {fpath}"
2025-01-27T18:07:59.5569250Z             )
2025-01-27T18:07:59.5569490Z             return fpath
2025-01-27T18:07:59.5569700Z     
2025-01-27T18:07:59.5569980Z         atom_data_name = fname.stem
2025-01-27T18:07:59.5570220Z         atom_repo_config = get_atomic_repo_config()
2025-01-27T18:07:59.5570550Z         if atom_data_name in atom_repo_config:
2025-01-27T18:07:59.5570860Z >           raise OSError(
2025-01-27T18:07:59.5571220Z                 f"Atom Data {fname} not found in path or in TARDIS data repo - it is available as download:\n"
2025-01-27T18:07:59.5572570Z                 f"from tardis.io.atom_data import download_atom_data\n"
2025-01-27T18:07:59.5573330Z                 f"download_atom_data('{atom_data_name}')"
2025-01-27T18:07:59.5573860Z             )
2025-01-27T18:07:59.5574690Z E           OSError: Atom Data kurucz_cd23_chianti_H_He.h5 not found in path or in TARDIS data repo - it is available as download:
2025-01-27T18:07:59.5575760Z E           from tardis.io.atom_data import download_atom_data
2025-01-27T18:07:59.5576570Z E           download_atom_data('kurucz_cd23_chianti_H_He')
2025-01-27T18:07:59.5577110Z 
2025-01-27T18:07:59.5577230Z tardis/io/atom_data/util.py:42: OSError
2025-01-27T18:07:59.5578140Z _________________ ERROR at setup of test_calculate_cell_masses _________________
2025-01-27T18:07:59.5578690Z 
2025-01-27T18:07:59.5580170Z config_verysimple = {'tardis_config_version': 'v1.0', 'supernova': {'luminosity_requested': <Quantity 1.07688e+36 W>, 'time_explosion': <Q...: {'points': 1000, 'interpolate_shells': 0, 'compute': 'CPU'}}, 'config_dirname': 'tardis/io/configuration/tests/data'}
2025-01-27T18:07:59.5582370Z 
2025-01-27T18:07:59.5582870Z     @pytest.fixture(scope="function")
2025-01-27T18:07:59.5583160Z     def composition_instance(config_verysimple):
2025-01-27T18:07:59.5583440Z         time_explosion = config_verysimple.supernova.time_explosion.cgs
2025-01-27T18:07:59.5583780Z         geometry = parse_geometry_from_config(config_verysimple, time_explosion)
2025-01-27T18:07:59.5584070Z >       atom_data = parse_atom_data(config_verysimple)
2025-01-27T18:07:59.5584230Z 
2025-01-27T18:07:59.5584320Z tardis/model/matter/tests/test_composition.py:15: 
2025-01-27T18:07:59.5584560Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-01-27T18:07:59.5584980Z tardis/io/model/parse_atom_data.py:43: in parse_atom_data
2025-01-27T18:07:59.5586060Z     atom_data = AtomData.from_hdf(atom_data_fname)
2025-01-27T18:07:59.5586330Z tardis/io/atom_data/base.py:190: in from_hdf
2025-01-27T18:07:59.5586540Z     fname = resolve_atom_data_fname(fname)
2025-01-27T18:07:59.5586770Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-01-27T18:07:59.5586930Z 
2025-01-27T18:07:59.5587010Z fname = PosixPath('kurucz_cd23_chianti_H_He.h5')
2025-01-27T18:07:59.5587160Z 
2025-01-27T18:07:59.5587220Z     def resolve_atom_data_fname(fname):
2025-01-27T18:07:59.5587390Z         """
2025-01-27T18:07:59.5587630Z         Check where if atom data HDF file is available on disk, can be downloaded or does not exist
2025-01-27T18:07:59.5587910Z     
2025-01-27T18:07:59.5588020Z         Parameters
2025-01-27T18:07:59.5588150Z         ----------
2025-01-27T18:07:59.5588270Z         fname : Path
2025-01-27T18:07:59.5588420Z             name or path of atom data HDF file
2025-01-27T18:07:59.5588600Z     
2025-01-27T18:07:59.5588690Z         Returns
2025-01-27T18:07:59.5588870Z         -------
2025-01-27T18:07:59.5589000Z             : Path
2025-01-27T18:07:59.5589120Z             resolved fpath
2025-01-27T18:07:59.5589270Z         """
2025-01-27T18:07:59.5589380Z         fname = Path(fname)
2025-01-27T18:07:59.5589540Z         if os.path.exists(fname):
2025-01-27T18:07:59.5589700Z             return fname
2025-01-27T18:07:59.5589830Z     
2025-01-27T18:07:59.5589960Z         fname = Path(fname.stem).with_suffix(".h5")
2025-01-27T18:07:59.5590200Z         fpath = Path(os.path.join(get_data_dir(), fname))
2025-01-27T18:07:59.5590410Z         if os.path.exists(fpath):
2025-01-27T18:07:59.5590570Z             logger.info(
2025-01-27T18:07:59.5590830Z                 f"\n\tAtom Data {fname} not found in local path.\n\tExists in TARDIS Data repo {fpath}"
2025-01-27T18:07:59.5591110Z             )
2025-01-27T18:07:59.5591230Z             return fpath
2025-01-27T18:07:59.5591360Z     
2025-01-27T18:07:59.5591470Z         atom_data_name = fname.stem
2025-01-27T18:07:59.5591670Z         atom_repo_config = get_atomic_repo_config()
2025-01-27T18:07:59.5591880Z         if atom_data_name in atom_repo_config:
2025-01-27T18:07:59.5592250Z >           raise OSError(
2025-01-27T18:07:59.5592530Z                 f"Atom Data {fname} not found in path or in TARDIS data repo - it is available as download:\n"
2025-01-27T18:07:59.5592870Z                 f"from tardis.io.atom_data import download_atom_data\n"
2025-01-27T18:07:59.5593130Z                 f"download_atom_data('{atom_data_name}')"
2025-01-27T18:07:59.5593310Z             )
2025-01-27T18:07:59.5593610Z E           OSError: Atom Data kurucz_cd23_chianti_H_He.h5 not found in path or in TARDIS data repo - it is available as download:
2025-01-27T18:07:59.5594000Z E           from tardis.io.atom_data import download_atom_data
2025-01-27T18:07:59.5594260Z E           download_atom_data('kurucz_cd23_chianti_H_He')
2025-01-27T18:07:59.5594410Z 
2025-01-27T18:07:59.5594470Z tardis/io/atom_data/util.py:42: OSError
2025-01-27T18:07:59.5594740Z ____________ ERROR at setup of test_calculate_elemental_cell_masses ____________
2025-01-27T18:07:59.5594940Z 
2025-01-27T18:07:59.5595450Z config_verysimple = {'tardis_config_version': 'v1.0', 'supernova': {'luminosity_requested': <Quantity 1.07688e+36 W>, 'time_explosion': <Q...: {'points': 1000, 'interpolate_shells': 0, 'compute': 'CPU'}}, 'config_dirname': 'tardis/io/configuration/tests/data'}
2025-01-27T18:07:59.5596050Z 
2025-01-27T18:07:59.5596110Z     @pytest.fixture(scope="function")
2025-01-27T18:07:59.5596330Z     def composition_instance(config_verysimple):
2025-01-27T18:07:59.5596600Z         time_explosion = config_verysimple.supernova.time_explosion.cgs
2025-01-27T18:07:59.5596940Z         geometry = parse_geometry_from_config(config_verysimple, time_explosion)
2025-01-27T18:07:59.5597240Z >       atom_data = parse_atom_data(config_verysimple)
2025-01-27T18:07:59.5597390Z 
2025-01-27T18:07:59.5597480Z tardis/model/matter/tests/test_composition.py:15: 
2025-01-27T18:07:59.5598020Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-01-27T18:07:59.5598290Z tardis/io/model/parse_atom_data.py:43: in parse_atom_data
2025-01-27T18:07:59.5598550Z     atom_data = AtomData.from_hdf(atom_data_fname)
2025-01-27T18:07:59.5598770Z tardis/io/atom_data/base.py:190: in from_hdf
2025-01-27T18:07:59.5598970Z     fname = resolve_atom_data_fname(fname)
2025-01-27T18:07:59.5599180Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-01-27T18:07:59.5599330Z 
2025-01-27T18:07:59.5599410Z fname = PosixPath('kurucz_cd23_chianti_H_He.h5')
2025-01-27T18:07:59.5599560Z 
2025-01-27T18:07:59.5599610Z     def resolve_atom_data_fname(fname):
2025-01-27T18:07:59.5599780Z         """
2025-01-27T18:07:59.5600020Z         Check where if atom data HDF file is available on disk, can be downloaded or does not exist
2025-01-27T18:07:59.5600300Z     
2025-01-27T18:07:59.5600410Z         Parameters
2025-01-27T18:07:59.5600530Z         ----------
2025-01-27T18:07:59.5600660Z         fname : Path
2025-01-27T18:07:59.5600810Z             name or path of atom data HDF file
2025-01-27T18:07:59.5600990Z     
2025-01-27T18:07:59.5601090Z         Returns
2025-01-27T18:07:59.5601210Z         -------
2025-01-27T18:07:59.5601320Z             : Path
2025-01-27T18:07:59.5601470Z             resolved fpath
2025-01-27T18:07:59.5601630Z         """
2025-01-27T18:07:59.5601770Z         fname = Path(fname)
2025-01-27T18:07:59.5603730Z         if os.path.exists(fname):
2025-01-27T18:07:59.5603940Z             return fname
2025-01-27T18:07:59.5604700Z     
2025-01-27T18:07:59.5605210Z         fname = Path(fname.stem).with_suffix(".h5")
2025-01-27T18:07:59.5605870Z         fpath = Path(os.path.join(get_data_dir(), fname))
2025-01-27T18:07:59.5606890Z         if os.path.exists(fpath):
2025-01-27T18:07:59.5607260Z             logger.info(
2025-01-27T18:07:59.5607660Z                 f"\n\tAtom Data {fname} not found in local path.\n\tExists in TARDIS Data repo {fpath}"
2025-01-27T18:07:59.5607980Z             )
2025-01-27T18:07:59.5608110Z             return fpath
2025-01-27T18:07:59.5608240Z     
2025-01-27T18:07:59.5608360Z         atom_data_name = fname.stem
2025-01-27T18:07:59.5609960Z         atom_repo_config = get_atomic_repo_config()
2025-01-27T18:07:59.5610950Z         if atom_data_name in atom_repo_config:
2025-01-27T18:07:59.5611570Z >           raise OSError(
2025-01-27T18:07:59.5612350Z                 f"Atom Data {fname} not found in path or in TARDIS data repo - it is available as download:\n"
2025-01-27T18:07:59.5613640Z                 f"from tardis.io.atom_data import download_atom_data\n"
2025-01-27T18:07:59.5614310Z                 f"download_atom_data('{atom_data_name}')"
2025-01-27T18:07:59.5614860Z             )
2025-01-27T18:07:59.5615750Z E           OSError: Atom Data kurucz_cd23_chianti_H_He.h5 not found in path or in TARDIS data repo - it is available as download:
2025-01-27T18:07:59.5617130Z E           from tardis.io.atom_data import download_atom_data
2025-01-27T18:07:59.5618030Z E           download_atom_data('kurucz_cd23_chianti_H_He')
2025-01-27T18:07:59.5618460Z 
2025-01-27T18:07:59.5619010Z tardis/io/atom_data/util.py:42: OSError
2025-01-27T18:07:59.5619290Z =================================== FAILURES ===================================
2025-01-27T18:07:59.5619900Z _____________________ test_calculate_sobolev_line_opacity ______________________
2025-01-27T18:07:59.5620110Z 
2025-01-27T18:07:59.5620290Z nb_simulation_verysimple = <tardis.simulation.base.Simulation object at 0x147ca9970>
2025-01-27T18:07:59.5621450Z regression_data = <tardis.tests.fixtures.regression_data.RegressionData object at 0x1479f9b20>
2025-01-27T18:07:59.5622660Z 
2025-01-27T18:07:59.5622770Z     def test_calculate_sobolev_line_opacity(
2025-01-27T18:07:59.5623000Z         nb_simulation_verysimple, regression_data
2025-01-27T18:07:59.5623800Z     ):
2025-01-27T18:07:59.5624250Z         legacy_plasma = nb_simulation_verysimple.plasma
2025-01-27T18:07:59.5625790Z     
2025-01-27T18:07:59.5630820Z         actual = calculate_sobolev_line_opacity(
2025-01-27T18:07:59.5632040Z             legacy_plasma.lines,
2025-01-27T18:07:59.5632840Z             legacy_plasma.level_number_density,
2025-01-27T18:07:59.5633590Z             legacy_plasma.time_explosion,
2025-01-27T18:07:59.5634190Z             legacy_plasma.stimulated_emission_factor,
2025-01-27T18:07:59.5634700Z         )
2025-01-27T18:07:59.5634980Z >       expected = regression_data.sync_dataframe(actual)
2025-01-27T18:07:59.5635460Z 
2025-01-27T18:07:59.5636360Z tardis/opacities/tests/test_tau_sobolev.py:21: 
2025-01-27T18:07:59.5637590Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-01-27T18:07:59.5638060Z tardis/tests/fixtures/regression_data.py:88: in sync_dataframe
2025-01-27T18:07:59.5638320Z     return pd.read_hdf(self.fpath, key=key)
2025-01-27T18:07:59.5638550Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-01-27T18:07:59.5638700Z 
2025-01-27T18:07:59.5639010Z path_or_buf = '/Users/runner/work/tardis/tardis/tardis-regression-data/test_tau_sobolev/test_calculate_sobolev_line_opacity.h5'
2025-01-27T18:07:59.5639500Z key = 'data', mode = 'r', errors = 'strict', where = None, start = None
2025-01-27T18:07:59.5640730Z stop = None, columns = None, iterator = False, chunksize = None, kwargs = {}
2025-01-27T18:07:59.5640990Z exists = False
2025-01-27T18:07:59.5641070Z 
2025-01-27T18:07:59.5641120Z     def read_hdf(
2025-01-27T18:07:59.5641260Z         path_or_buf: FilePath | HDFStore,
2025-01-27T18:07:59.5641440Z         key=None,
2025-01-27T18:07:59.5641570Z         mode: str = "r",
2025-01-27T18:07:59.5641720Z         errors: str = "strict",
2025-01-27T18:07:59.5641880Z         where: str | list | None = None,
2025-01-27T18:07:59.5642070Z         start: int | None = None,
2025-01-27T18:07:59.5642230Z         stop: int | None = None,
2025-01-27T18:07:59.5642400Z         columns: list[str] | None = None,
2025-01-27T18:07:59.5642580Z         iterator: bool = False,
2025-01-27T18:07:59.5642780Z         chunksize: int | None = None,
2025-01-27T18:07:59.5642950Z         **kwargs,
2025-01-27T18:07:59.5643070Z     ):
2025-01-27T18:07:59.5644110Z         """
2025-01-27T18:07:59.5644270Z         Read from the store, close it if we opened it.
2025-01-27T18:07:59.5644720Z     
2025-01-27T18:07:59.5644920Z         Retrieve pandas object stored in file, optionally based on where
2025-01-27T18:07:59.5645270Z         criteria.
2025-01-27T18:07:59.5645400Z     
2025-01-27T18:07:59.5647280Z         .. warning::
2025-01-27T18:07:59.5647420Z     
2025-01-27T18:07:59.5648730Z            Pandas uses PyTables for reading and writing HDF5 files, which allows
2025-01-27T18:07:59.5650180Z            serializing object-dtype data with pickle when using the "fixed" format.
2025-01-27T18:07:59.5651990Z            Loading pickled data received from untrusted sources can be unsafe.
2025-01-27T18:07:59.5652280Z     
2025-01-27T18:07:59.5652500Z            See: https://docs.python.org/3/library/pickle.html for more.
2025-01-27T18:07:59.5652770Z     
2025-01-27T18:07:59.5653720Z         Parameters
2025-01-27T18:07:59.5654160Z         ----------
2025-01-27T18:07:59.5654660Z         path_or_buf : str, path object, pandas.HDFStore
2025-01-27T18:07:59.5655460Z             Any valid string path is acceptable. Only supports the local file system,
2025-01-27T18:07:59.5656480Z             remote URLs and file-like objects are not supported.
2025-01-27T18:07:59.5656760Z     
2025-01-27T18:07:59.5657130Z             If you want to pass in a path object, pandas accepts any
2025-01-27T18:07:59.5657590Z             ``os.PathLike``.
2025-01-27T18:07:59.5657750Z     
2025-01-27T18:07:59.5658790Z             Alternatively, pandas accepts an open :class:`pandas.HDFStore` object.
2025-01-27T18:07:59.5659490Z     
2025-01-27T18:07:59.5659610Z         key : object, optional
2025-01-27T18:07:59.5660260Z             The group identifier in the store. Can be omitted if the HDF file
2025-01-27T18:07:59.5660830Z             contains a single pandas object.
2025-01-27T18:07:59.5661700Z         mode : {'r', 'r+', 'a'}, default 'r'
2025-01-27T18:07:59.5663260Z             Mode to use when opening the file. Ignored if path_or_buf is a
2025-01-27T18:07:59.5664390Z             :class:`pandas.HDFStore`. Default is 'r'.
2025-01-27T18:07:59.5664630Z         errors : str, default 'strict'
2025-01-27T18:07:59.5664880Z             Specifies how encoding and decoding errors are to be handled.
2025-01-27T18:07:59.5665200Z             See the errors argument for :func:`open` for a full list
2025-01-27T18:07:59.5665420Z             of options.
2025-01-27T18:07:59.5665580Z         where : list, optional
2025-01-27T18:07:59.5665770Z             A list of Term (or convertible) objects.
2025-01-27T18:07:59.5665970Z         start : int, optional
2025-01-27T18:07:59.5666140Z             Row number to start selection.
2025-01-27T18:07:59.5666380Z         stop  : int, optional
2025-01-27T18:07:59.5666700Z             Row number to stop selection.
2025-01-27T18:07:59.5666920Z         columns : list, optional
2025-01-27T18:07:59.5667580Z             A list of columns names to return.
2025-01-27T18:07:59.5667840Z         iterator : bool, optional
2025-01-27T18:07:59.5668290Z             Return an iterator object.
2025-01-27T18:07:59.5669050Z         chunksize : int, optional
2025-01-27T18:07:59.5670270Z             Number of rows to include in an iteration when using an iterator.
2025-01-27T18:07:59.5671000Z         **kwargs
2025-01-27T18:07:59.5671460Z             Additional keyword arguments passed to HDFStore.
2025-01-27T18:07:59.5672330Z     
2025-01-27T18:07:59.5672670Z         Returns
2025-01-27T18:07:59.5673010Z         -------
2025-01-27T18:07:59.5673360Z         object
2025-01-27T18:07:59.5673910Z             The selected object. Return type depends on the object stored.
2025-01-27T18:07:59.5674160Z     
2025-01-27T18:07:59.5674270Z         See Also
2025-01-27T18:07:59.5674390Z         --------
2025-01-27T18:07:59.5674560Z         DataFrame.to_hdf : Write a HDF file from a DataFrame.
2025-01-27T18:07:59.5674820Z         HDFStore : Low-level access to HDF files.
2025-01-27T18:07:59.5675010Z     
2025-01-27T18:07:59.5675760Z         Examples
2025-01-27T18:07:59.5675970Z         --------
2025-01-27T18:07:59.5676190Z         >>> df = pd.DataFrame([[1, 1.0, 'a']], columns=['x', 'y', 'z'])  # doctest: +SKIP
2025-01-27T18:07:59.5676490Z         >>> df.to_hdf('./store.h5', 'data')  # doctest: +SKIP
2025-01-27T18:07:59.5676740Z         >>> reread = pd.read_hdf('./store.h5')  # doctest: +SKIP
2025-01-27T18:07:59.5676940Z         """
2025-01-27T18:07:59.5677290Z         if mode not in ["r", "r+", "a"]:
2025-01-27T18:07:59.5678750Z             raise ValueError(
2025-01-27T18:07:59.5680430Z                 f"mode {mode} is not allowed while performing a read. "
2025-01-27T18:07:59.5681350Z                 f"Allowed modes are r, r+ and a."
2025-01-27T18:07:59.5683140Z             )
2025-01-27T18:07:59.5684440Z         # grab the scope
2025-01-27T18:07:59.5685600Z         if where is not None:
2025-01-27T18:07:59.5686940Z             where = _ensure_term(where, scope_level=1)
2025-01-27T18:07:59.5689390Z     
2025-01-27T18:07:59.5691150Z         if isinstance(path_or_buf, HDFStore):
2025-01-27T18:07:59.5692390Z             if not path_or_buf.is_open:
2025-01-27T18:07:59.5693780Z                 raise OSError("The HDFStore must be open for reading.")
2025-01-27T18:07:59.5695850Z     
2025-01-27T18:07:59.5697790Z             store = path_or_buf
2025-01-27T18:07:59.5698600Z             auto_close = False
2025-01-27T18:07:59.5719060Z         else:
2025-01-27T18:07:59.5719290Z             path_or_buf = stringify_path(path_or_buf)
2025-01-27T18:07:59.5719520Z             if not isinstance(path_or_buf, str):
2025-01-27T18:07:59.5719720Z                 raise NotImplementedError(
2025-01-27T18:07:59.5719970Z                     "Support for generic buffers has not been implemented."
2025-01-27T18:07:59.5720190Z                 )
2025-01-27T18:07:59.5720310Z             try:
2025-01-27T18:07:59.5721160Z                 exists = os.path.exists(path_or_buf)
2025-01-27T18:07:59.5721350Z     
2025-01-27T18:07:59.5721470Z             # if filepath is too long
2025-01-27T18:07:59.5721660Z             except (TypeError, ValueError):
2025-01-27T18:07:59.5721850Z                 exists = False
2025-01-27T18:07:59.5722000Z     
2025-01-27T18:07:59.5722100Z             if not exists:
2025-01-27T18:07:59.5722330Z >               raise FileNotFoundError(f"File {path_or_buf} does not exist")
2025-01-27T18:07:59.5722920Z E               FileNotFoundError: File /Users/runner/work/tardis/tardis/tardis-regression-data/test_tau_sobolev/test_calculate_sobolev_line_opacity.h5 does not exist
2025-01-27T18:07:59.5723360Z 
2025-01-27T18:07:59.5723590Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/pandas/io/pytables.py:424: FileNotFoundError
2025-01-27T18:07:59.5724010Z ---------------------------- Captured stdout setup -----------------------------
2025-01-27T18:07:59.5724580Z [[1mtardis.io.model.parse_density_configuration[0m][[1;33mWARNING[0m]  
2025-01-27T18:07:59.5725210Z 	Number of density points larger than number of shells. Assuming inner point irrelevant ([1mparse_density_configuration.py[0m:114)
2025-01-27T18:07:59.5725690Z ---------------------------- Captured stderr setup -----------------------------
2025-01-27T18:07:59.5725890Z 
2025-01-27T18:07:59.5725890Z 
2025-01-27T18:07:59.5726060Z Packets:                                                                                   4024/? [00:15<00:00, 205.50it/s][A
2025-01-27T18:07:59.5756720Z Iterations:████████████████████████████████████████████████████████████████                4/5 [00:15<00:03,  3.62s/it]
2025-01-27T18:07:59.5757440Z 
2025-01-27T18:07:59.5757890Z Packets:                                                                                   4030/? [00:15<00:00, 205.50it/s][A
2025-01-27T18:07:59.5758690Z ------------------------------ Captured log setup ------------------------------
2025-01-27T18:07:59.5760320Z WARNING  tardis.io.model.parse_density_configuration:parse_density_configuration.py:114 Number of density points larger than number of shells. Assuming inner point irrelevant
2025-01-27T18:07:59.5762560Z _________________________ test_calculate_beta_sobolevs _________________________
2025-01-27T18:07:59.5763070Z 
2025-01-27T18:07:59.5763530Z nb_simulation_verysimple = <tardis.simulation.base.Simulation object at 0x147ca9970>
2025-01-27T18:07:59.5764720Z regression_data = <tardis.tests.fixtures.regression_data.RegressionData object at 0x147c136e0>
2025-01-27T18:07:59.5765460Z 
2025-01-27T18:07:59.5766170Z     def test_calculate_beta_sobolevs(nb_simulation_verysimple, regression_data):
2025-01-27T18:07:59.5766560Z         legacy_plasma = nb_simulation_verysimple.plasma
2025-01-27T18:07:59.5767840Z     
2025-01-27T18:07:59.5767990Z         tau_sobolevs = calculate_sobolev_line_opacity(
2025-01-27T18:07:59.5768200Z             legacy_plasma.lines,
2025-01-27T18:07:59.5768390Z             legacy_plasma.level_number_density,
2025-01-27T18:07:59.5768660Z             legacy_plasma.time_explosion,
2025-01-27T18:07:59.5768980Z             legacy_plasma.stimulated_emission_factor,
2025-01-27T18:07:59.5769230Z         )
2025-01-27T18:07:59.5769420Z         actual = calculate_beta_sobolev(tau_sobolevs)
2025-01-27T18:07:59.5769670Z >       expected = regression_data.sync_ndarray(actual)
2025-01-27T18:07:59.5769820Z 
2025-01-27T18:07:59.5769910Z tardis/opacities/tests/test_tau_sobolev.py:35: 
2025-01-27T18:07:59.5770220Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-01-27T18:07:59.5770540Z tardis/tests/fixtures/regression_data.py:111: in sync_ndarray
2025-01-27T18:07:59.5770870Z     return np.load(self.fpath)
2025-01-27T18:07:59.5771530Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-01-27T18:07:59.5771870Z 
2025-01-27T18:07:59.5773900Z file = PosixPath('/Users/runner/work/tardis/tardis/tardis-regression-data/test_tau_sobolev/test_calculate_beta_sobolevs.npy')
2025-01-27T18:07:59.5779170Z mmap_mode = None, allow_pickle = False, fix_imports = True, encoding = 'ASCII'
2025-01-27T18:07:59.5779410Z 
2025-01-27T18:07:59.5779480Z     @set_module('numpy')
2025-01-27T18:07:59.5779700Z     def load(file, mmap_mode=None, allow_pickle=False, fix_imports=True,
2025-01-27T18:07:59.5780010Z              encoding='ASCII', *, max_header_size=format._MAX_HEADER_SIZE):
2025-01-27T18:07:59.5780240Z         """
2025-01-27T18:07:59.5780440Z         Load arrays or pickled objects from ``.npy``, ``.npz`` or pickled files.
2025-01-27T18:07:59.5780690Z     
2025-01-27T18:07:59.5781070Z         .. warning:: Loading files that contain object arrays uses the ``pickle``
2025-01-27T18:07:59.5781560Z                      module, which is not secure against erroneous or maliciously
2025-01-27T18:07:59.5781910Z                      constructed data. Consider passing ``allow_pickle=False`` to
2025-01-27T18:07:59.5782210Z                      load data that is known not to contain object arrays for the
2025-01-27T18:07:59.5782470Z                      safer handling of untrusted sources.
2025-01-27T18:07:59.5782650Z     
2025-01-27T18:07:59.5782760Z         Parameters
2025-01-27T18:07:59.5782890Z         ----------
2025-01-27T18:07:59.5783060Z         file : file-like object, string, or pathlib.Path
2025-01-27T18:07:59.5783310Z             The file to read. File-like objects must support the
2025-01-27T18:07:59.5783550Z             ``seek()`` and ``read()`` methods and must always
2025-01-27T18:07:59.5783810Z             be opened in binary mode.  Pickled files require that the
2025-01-27T18:07:59.5784090Z             file-like object support the ``readline()`` method as well.
2025-01-27T18:07:59.5784350Z         mmap_mode : {None, 'r+', 'r', 'w+', 'c'}, optional
2025-01-27T18:07:59.5784610Z             If not None, then memory-map the file, using the given mode (see
2025-01-27T18:07:59.5784910Z             `numpy.memmap` for a detailed description of the modes).  A
2025-01-27T18:07:59.5785230Z             memory-mapped array is kept on disk. However, it can be accessed
2025-01-27T18:07:59.5785550Z             and sliced like any ndarray.  Memory mapping is especially useful
2025-01-27T18:07:59.5786110Z             for accessing small fragments of large files without reading the
2025-01-27T18:07:59.5786370Z             entire file into memory.
2025-01-27T18:07:59.5786540Z         allow_pickle : bool, optional
2025-01-27T18:07:59.5786800Z             Allow loading pickled object arrays stored in npy files. Reasons for
2025-01-27T18:07:59.5787130Z             disallowing pickles include security, as loading pickled data can
2025-01-27T18:07:59.5787450Z             execute arbitrary code. If pickles are disallowed, loading object
2025-01-27T18:07:59.5787710Z             arrays will fail. Default: False
2025-01-27T18:07:59.5787890Z     
2025-01-27T18:07:59.5788010Z             .. versionchanged:: 1.16.3
2025-01-27T18:07:59.5788230Z                 Made default False in response to CVE-2019-6446.
2025-01-27T18:07:59.5788430Z     
2025-01-27T18:07:59.5788540Z         fix_imports : bool, optional
2025-01-27T18:07:59.5788810Z             Only useful when loading Python 2 generated pickled files on Python 3,
2025-01-27T18:07:59.5789160Z             which includes npy/npz files containing object arrays. If `fix_imports`
2025-01-27T18:07:59.5789500Z             is True, pickle will try to map the old Python 2 names to the new names
2025-01-27T18:07:59.5789750Z             used in Python 3.
2025-01-27T18:07:59.5789910Z         encoding : str, optional
2025-01-27T18:07:59.5790150Z             What encoding to use when reading Python 2 strings. Only useful when
2025-01-27T18:07:59.5790470Z             loading Python 2 generated pickled files in Python 3, which includes
2025-01-27T18:07:59.5790800Z             npy/npz files containing object arrays. Values other than 'latin1',
2025-01-27T18:07:59.5791110Z             'ASCII', and 'bytes' are not allowed, as they can corrupt numerical
2025-01-27T18:07:59.5791650Z             data. Default: 'ASCII'
2025-01-27T18:07:59.5791830Z         max_header_size : int, optional
2025-01-27T18:07:59.5792080Z             Maximum allowed size of the header.  Large headers may not be safe
2025-01-27T18:07:59.5792410Z             to load securely and thus require explicitly passing a larger value.
2025-01-27T18:07:59.5792690Z             See :py:func:`ast.literal_eval()` for details.
2025-01-27T18:07:59.5792960Z             This option is ignored when `allow_pickle` is passed.  In that case
2025-01-27T18:07:59.5793270Z             the file is by definition trusted and the limit is unnecessary.
2025-01-27T18:07:59.5793490Z     
2025-01-27T18:07:59.5793590Z         Returns
2025-01-27T18:07:59.5793710Z         -------
2025-01-27T18:07:59.5793840Z         result : array, tuple, dict, etc.
2025-01-27T18:07:59.5794090Z             Data stored in the file. For ``.npz`` files, the returned instance
2025-01-27T18:07:59.5794400Z             of NpzFile class must be closed to avoid leaking file descriptors.
2025-01-27T18:07:59.5794630Z     
2025-01-27T18:07:59.5794730Z         Raises
2025-01-27T18:07:59.5794840Z         ------
2025-01-27T18:07:59.5794970Z         OSError
2025-01-27T18:07:59.5795130Z             If the input file does not exist or cannot be read.
2025-01-27T18:07:59.5795340Z         UnpicklingError
2025-01-27T18:07:59.5795560Z             If ``allow_pickle=True``, but the file cannot be loaded as a pickle.
2025-01-27T18:07:59.5795780Z         ValueError
2025-01-27T18:07:59.5795990Z             The file contains an object array, but ``allow_pickle=False`` given.
2025-01-27T18:07:59.5796220Z         EOFError
2025-01-27T18:07:59.5796410Z             When calling ``np.load`` multiple times on the same file handle,
2025-01-27T18:07:59.5796660Z             if all data has already been read
2025-01-27T18:07:59.5796840Z     
2025-01-27T18:07:59.5796930Z         See Also
2025-01-27T18:07:59.5797050Z         --------
2025-01-27T18:07:59.5797190Z         save, savez, savez_compressed, loadtxt
2025-01-27T18:07:59.5797450Z         memmap : Create a memory-map to an array stored in a file on disk.
2025-01-27T18:07:59.5797780Z         lib.format.open_memmap : Create or load a memory-mapped ``.npy`` file.
2025-01-27T18:07:59.5798140Z     
2025-01-27T18:07:59.5798240Z         Notes
2025-01-27T18:07:59.5798350Z         -----
2025-01-27T18:07:59.5798540Z         - If the file contains pickle data, then whatever object is stored
2025-01-27T18:07:59.5798780Z           in the pickle is returned.
2025-01-27T18:07:59.5799010Z         - If the file is a ``.npy`` file, then a single array is returned.
2025-01-27T18:07:59.5799300Z         - If the file is a ``.npz`` file, then a dictionary-like object is
2025-01-27T18:07:59.5799610Z           returned, containing ``{filename: array}`` key-value pairs, one for
2025-01-27T18:07:59.5799870Z           each file in the archive.
2025-01-27T18:07:59.5800090Z         - If the file is a ``.npz`` file, the returned value supports the
2025-01-27T18:07:59.5800400Z           context manager protocol in a similar fashion to the open function::
2025-01-27T18:07:59.5800640Z     
2025-01-27T18:07:59.5800760Z             with load('foo.npz') as data:
2025-01-27T18:07:59.5800940Z                 a = data['a']
2025-01-27T18:07:59.5801080Z     
2025-01-27T18:07:59.5801260Z           The underlying file descriptor is closed when exiting the 'with'
2025-01-27T18:07:59.5801500Z           block.
2025-01-27T18:07:59.5801610Z     
2025-01-27T18:07:59.5801710Z         Examples
2025-01-27T18:07:59.5801820Z         --------
2025-01-27T18:07:59.5801960Z         Store data to disk, and load it again:
2025-01-27T18:07:59.5802130Z     
2025-01-27T18:07:59.5802280Z         >>> np.save('/tmp/123', np.array([[1, 2, 3], [4, 5, 6]]))
2025-01-27T18:07:59.5802490Z         >>> np.load('/tmp/123.npy')
2025-01-27T18:07:59.5802650Z         array([[1, 2, 3],
2025-01-27T18:07:59.5802800Z                [4, 5, 6]])
2025-01-27T18:07:59.5802930Z     
2025-01-27T18:07:59.5803070Z         Store compressed data to disk, and load it again:
2025-01-27T18:07:59.5803400Z     
2025-01-27T18:07:59.5803530Z         >>> a=np.array([[1, 2, 3], [4, 5, 6]])
2025-01-27T18:07:59.5803700Z         >>> b=np.array([1, 2])
2025-01-27T18:07:59.5803870Z         >>> np.savez('/tmp/123.npz', a=a, b=b)
2025-01-27T18:07:59.5804070Z         >>> data = np.load('/tmp/123.npz')
2025-01-27T18:07:59.5804230Z         >>> data['a']
2025-01-27T18:07:59.5804360Z         array([[1, 2, 3],
2025-01-27T18:07:59.5804500Z                [4, 5, 6]])
2025-01-27T18:07:59.5804640Z         >>> data['b']
2025-01-27T18:07:59.5804760Z         array([1, 2])
2025-01-27T18:07:59.5804900Z         >>> data.close()
2025-01-27T18:07:59.5805030Z     
2025-01-27T18:07:59.5805180Z         Mem-map the stored array, and then access the second row
2025-01-27T18:07:59.5805400Z         directly from disk:
2025-01-27T18:07:59.5805540Z     
2025-01-27T18:07:59.5805670Z         >>> X = np.load('/tmp/123.npy', mmap_mode='r')
2025-01-27T18:07:59.5805860Z         >>> X[1, :]
2025-01-27T18:07:59.5805980Z         memmap([4, 5, 6])
2025-01-27T18:07:59.5806120Z     
2025-01-27T18:07:59.5806210Z         """
2025-01-27T18:07:59.5806360Z         if encoding not in ('ASCII', 'latin1', 'bytes'):
2025-01-27T18:07:59.5806630Z             # The 'encoding' value for pickle also affects what encoding
2025-01-27T18:07:59.5806920Z             # the serialized binary data of NumPy arrays is loaded
2025-01-27T18:07:59.5807220Z             # in. Pickle does not pass on the encoding information to
2025-01-27T18:07:59.5807710Z             # NumPy. The unpickling code in numpy.core.multiarray is
2025-01-27T18:07:59.5808160Z             # written to assume that unicode data appearing where binary
2025-01-27T18:07:59.5809200Z             # should be is in 'latin1'. 'bytes' is also safe, as is 'ASCII'.
2025-01-27T18:07:59.5809430Z             #
2025-01-27T18:07:59.5809600Z             # Other encoding values can corrupt binary data, and we
2025-01-27T18:07:59.5809900Z             # purposefully disallow them. For the same reason, the errors=
2025-01-27T18:07:59.5810200Z             # argument is not exposed, as values other than 'strict'
2025-01-27T18:07:59.5810470Z             # result can similarly silently corrupt numerical data.
2025-01-27T18:07:59.5811120Z             raise ValueError("encoding must be 'ASCII', 'latin1', or 'bytes'")
2025-01-27T18:07:59.5811360Z     
2025-01-27T18:07:59.5811550Z         pickle_kwargs = dict(encoding=encoding, fix_imports=fix_imports)
2025-01-27T18:07:59.5811770Z     
2025-01-27T18:07:59.5811910Z         with contextlib.ExitStack() as stack:
2025-01-27T18:07:59.5812100Z             if hasattr(file, 'read'):
2025-01-27T18:07:59.5812280Z                 fid = file
2025-01-27T18:07:59.5812420Z                 own_fid = False
2025-01-27T18:07:59.5812570Z             else:
2025-01-27T18:07:59.5812750Z >               fid = stack.enter_context(open(os_fspath(file), "rb"))
2025-01-27T18:07:59.5813310Z E               FileNotFoundError: [Errno 2] No such file or directory: '/Users/runner/work/tardis/tardis/tardis-regression-data/test_tau_sobolev/test_calculate_beta_sobolevs.npy'
2025-01-27T18:07:59.5813760Z 
2025-01-27T18:07:59.5813990Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/numpy/lib/npyio.py:427: FileNotFoundError
2025-01-27T18:07:59.5814370Z =============================== warnings summary ===============================
2025-01-27T18:07:59.5814610Z tardis/io/configuration/config_validator.py:6
2025-01-27T18:07:59.5814840Z tardis/io/configuration/config_validator.py:6
2025-01-27T18:07:59.5815220Z   /Users/runner/work/tardis/tardis/tardis/io/configuration/config_validator.py:6: DeprecationWarning:
2025-01-27T18:07:59.5815660Z   
2025-01-27T18:07:59.5816620Z   jsonschema.RefResolver is deprecated as of v4.18.0, in favor of the https://github.com/python-jsonschema/referencing library, which provides more compliant referencing behavior as well as more flexible APIs for customization. A future release will remove RefResolver. Please file a feature request (on referencing) if you are missing an API for the kind of customization you need.
2025-01-27T18:07:59.5817820Z 
2025-01-27T18:07:59.5818090Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/jupyter_client/connect.py:22
2025-01-27T18:07:59.5818620Z   /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages/jupyter_client/connect.py:22: DeprecationWarning:
2025-01-27T18:07:59.5819010Z   
2025-01-27T18:07:59.5819180Z   Jupyter is migrating its paths to use standard platformdirs
2025-01-27T18:07:59.5819480Z   given by the platformdirs library.  To remove this warning and
2025-01-27T18:07:59.5819780Z   see the appropriate new directories, set the environment variable
2025-01-27T18:07:59.5820080Z   `JUPYTER_PLATFORM_DIRS=1` and then run `jupyter --paths`.
2025-01-27T18:07:59.5820390Z   The use of platformdirs will be the default in `jupyter_core` v6
2025-01-27T18:07:59.5820580Z 
2025-01-27T18:07:59.5820730Z tardis/io/tests/test_HDFWriter.py::test_multi_index_write
2025-01-27T18:07:59.5821120Z tardis/visualization/widgets/tests/test_shell_info.py::TestHDFShellInfo::test_shells_data
2025-01-27T18:07:59.5822600Z   /Users/runner/work/tardis/tardis/tardis/io/util.py:276: PerformanceWarning:
2025-01-27T18:07:59.5823130Z   
2025-01-27T18:07:59.5823260Z   
2025-01-27T18:07:59.5823470Z   your performance may suffer as PyTables will pickle object types that it cannot
2025-01-27T18:07:59.5824120Z   map directly to c-types [inferred_type->mixed,key->block0_values] [items->Index([0], dtype='int64')]
2025-01-27T18:07:59.5824410Z 
2025-01-27T18:07:59.5824570Z tardis/io/tests/test_model_reader.py::test_read_cmfgen_isotope_abundances
2025-01-27T18:07:59.5824950Z tardis/plasma/tests/test_tardis_model_density_config.py::test_electron_densities
2025-01-27T18:07:59.5825360Z tardis/plasma/tests/test_tardis_model_density_config.py::test_isotope_number_densities
2025-01-27T18:07:59.5825750Z tardis/plasma/tests/test_tardis_model_density_config.py::test_t_rad
2025-01-27T18:07:59.5826200Z   /Users/runner/work/tardis/tardis/tardis/io/model/readers/cmfgen_deprecated.py:82: DeprecationWarning:
2025-01-27T18:07:59.5826560Z   
2025-01-27T18:07:59.5826700Z   The current CMFGEN model parser is deprecated
2025-01-27T18:07:59.5827050Z 
2025-01-27T18:07:59.5827130Z tardis/io/tests/test_model_reader.py: 1 warning
2025-01-27T18:07:59.5827410Z tardis/plasma/tests/test_tardis_model_density_config.py: 9 warnings
2025-01-27T18:07:59.5827850Z   /Users/runner/work/tardis/tardis/tardis/io/model/readers/cmfgen_deprecated.py:40: DeprecationWarning:
2025-01-27T18:07:59.5828750Z   
2025-01-27T18:07:59.5829030Z   The current CMFGEN model parser is deprecated
2025-01-27T18:07:59.5829180Z 
2025-01-27T18:07:59.5829340Z tardis/model/tests/test_base.py::TestModelFromPaper1Config::test_abundances
2025-01-27T18:07:59.5831070Z   /Users/runner/work/tardis/tardis/tardis/transport/montecarlo/montecarlo_main_loop.py:123: NumbaTypeSafetyWarning:
2025-01-27T18:07:59.5831480Z   
2025-01-27T18:07:59.5831900Z   [1m[1m[1munsafe cast from uint64 to int64. Precision may be lost.[0m[0m[0m
2025-01-27T18:07:59.5832120Z 
2025-01-27T18:07:59.5832200Z tardis/model/tests/test_base.py: 6 warnings
2025-01-27T18:07:59.5832420Z tardis/model/tests/test_csvy_model.py: 2 warnings
2025-01-27T18:07:59.5832710Z tardis/plasma/tests/test_tardis_model_density_config.py: 3 warnings
2025-01-27T18:07:59.5833120Z   /Users/runner/work/tardis/tardis/tardis/model/geometry/radial1d.py:50: DeprecationWarning:
2025-01-27T18:07:59.5833430Z   
2025-01-27T18:07:59.5833560Z   v_inner_boundary < 0, assuming default value
2025-01-27T18:07:59.5833710Z 
2025-01-27T18:07:59.5833780Z tardis/model/tests/test_base.py: 6 warnings
2025-01-27T18:07:59.5834000Z tardis/model/tests/test_csvy_model.py: 2 warnings
2025-01-27T18:07:59.5834280Z tardis/plasma/tests/test_tardis_model_density_config.py: 3 warnings
2025-01-27T18:07:59.5834690Z   /Users/runner/work/tardis/tardis/tardis/model/geometry/radial1d.py:61: DeprecationWarning:
2025-01-27T18:07:59.5835010Z   
2025-01-27T18:07:59.5835140Z   v_outer_boundary < 0, assuming default value
2025-01-27T18:07:59.5835580Z 
2025-01-27T18:07:59.5835950Z tardis/plasma/equilibrium/tests/test_level_populations.py::TestLevelPopulationSolver::test_solve[collisional_rate_solver0-radiative_transitions0]
2025-01-27T18:07:59.5836610Z   /Users/runner/work/tardis/tardis/tardis/plasma/equilibrium/level_populations.py:65: FutureWarning:
2025-01-27T18:07:59.5836950Z   
2025-01-27T18:07:59.5837220Z   A value is trying to be set on a copy of a DataFrame or Series through chained assignment using an inplace method.
2025-01-27T18:07:59.5837840Z   The behavior will change in pandas 3.0. This inplace method will never work because the intermediate object on which we are setting values always behaves as a copy.
2025-01-27T18:07:59.5838290Z   
2025-01-27T18:07:59.5839540Z   For example, when doing 'df[col].method(value, inplace=True)', try using 'df.method({col: value}, inplace=True)' or df[col] = df[col].method(value) instead, to perform the operation inplace on the original object.
2025-01-27T18:07:59.5840070Z 
2025-01-27T18:07:59.5840330Z tardis/plasma/tests/test_complete_plasmas.py: 20 warnings
2025-01-27T18:07:59.5841190Z   /Users/runner/work/tardis/tardis/tardis/plasma/tests/test_complete_plasmas.py:197: UserWarning:
2025-01-27T18:07:59.5841540Z   
2025-01-27T18:07:59.5841660Z   Property "atomic_mass" not found
2025-01-27T18:07:59.5841780Z 
2025-01-27T18:07:59.5842130Z tardis/plasma/tests/test_complete_plasmas.py::TestPlasma::test_plasma_properties[radiative_rates_type:detailed-w_epsilon:1e-10-j_blues_norm_factor]
2025-01-27T18:07:59.5843370Z tardis/plasma/tests/test_complete_plasmas.py::TestPlasma::test_plasma_properties[radiative_rates_type:detailed-j_blues_norm_factor]
2025-01-27T18:07:59.5843970Z   /Users/runner/work/tardis/tardis/tardis/plasma/tests/test_complete_plasmas.py:197: UserWarning:
2025-01-27T18:07:59.5844300Z   
2025-01-27T18:07:59.5844430Z   Property "j_blues_norm_factor" not found
2025-01-27T18:07:59.5844560Z 
2025-01-27T18:07:59.5844890Z tardis/plasma/tests/test_complete_plasmas.py::TestPlasma::test_plasma_properties[radiative_rates_type:detailed-w_epsilon:1e-10-j_blue_estimator]
2025-01-27T18:07:59.5845570Z tardis/plasma/tests/test_complete_plasmas.py::TestPlasma::test_plasma_properties[radiative_rates_type:detailed-j_blue_estimator]
2025-01-27T18:07:59.5846460Z   /Users/runner/work/tardis/tardis/tardis/plasma/tests/test_complete_plasmas.py:197: UserWarning:
2025-01-27T18:07:59.5846790Z   
2025-01-27T18:07:59.5846910Z   Property "j_blue_estimator" not found
2025-01-27T18:07:59.5847040Z 
2025-01-27T18:07:59.5847340Z tardis/plasma/tests/test_complete_plasmas.py::TestPlasma::test_plasma_properties[radiative_rates_type:detailed-w_epsilon:1e-10-volume]
2025-01-27T18:07:59.5847970Z tardis/plasma/tests/test_complete_plasmas.py::TestPlasma::test_plasma_properties[radiative_rates_type:detailed-volume]
2025-01-27T18:07:59.5848510Z   /Users/runner/work/tardis/tardis/tardis/plasma/tests/test_complete_plasmas.py:197: UserWarning:
2025-01-27T18:07:59.5848840Z   
2025-01-27T18:07:59.5848950Z   Property "volume" not found
2025-01-27T18:07:59.5849130Z 
2025-01-27T18:07:59.5849440Z tardis/plasma/tests/test_complete_plasmas.py::TestPlasma::test_plasma_properties[radiative_rates_type:detailed-w_epsilon:1e-10-r_inner]
2025-01-27T18:07:59.5850070Z tardis/plasma/tests/test_complete_plasmas.py::TestPlasma::test_plasma_properties[radiative_rates_type:detailed-r_inner]
2025-01-27T18:07:59.5850620Z   /Users/runner/work/tardis/tardis/tardis/plasma/tests/test_complete_plasmas.py:197: UserWarning:
2025-01-27T18:07:59.5851160Z   
2025-01-27T18:07:59.5851310Z   Property "r_inner" not found
2025-01-27T18:07:59.5852800Z 
2025-01-27T18:07:59.5853840Z tardis/plasma/tests/test_plasma_vboundary.py::test_plasma_vboundary[2900-3750]
2025-01-27T18:07:59.5854750Z tardis/plasma/tests/test_plasma_vboundary.py::test_plasma_vboundary[2900-3850]
2025-01-27T18:07:59.5855170Z tardis/plasma/tests/test_plasma_vboundary.py::test_plasma_vboundary[2900-3900]
2025-01-27T18:07:59.5855580Z   /Users/runner/work/tardis/tardis/tardis/model/geometry/radial1d.py:71: UserWarning:
2025-01-27T18:07:59.5856040Z   
2025-01-27T18:07:59.5856250Z   Requesting inner boundary below inner shell. Extrapolating the inner cell
2025-01-27T18:07:59.5856470Z 
2025-01-27T18:07:59.5856640Z tardis/spectrum/tests/test_spectrum_solver.py::TestSpectrumSolver::test_solve
2025-01-27T18:07:59.5857030Z   /Users/runner/work/tardis/tardis/tardis/spectrum/base.py:70: UserWarning:
2025-01-27T18:07:59.5857290Z   
2025-01-27T18:07:59.5858010Z   SpectrumSolver.spectrum_virtual_packets is zero. Please run the montecarlo simulation with no_of_virtual_packets > 0
2025-01-27T18:07:59.5866260Z 
2025-01-27T18:07:59.5866840Z tardis/spectrum/tests/test_spectrum_solver.py::TestSpectrumSolver::test_solve
2025-01-27T18:07:59.5867260Z   /Users/runner/work/tardis/tardis/tardis/spectrum/base.py:111: UserWarning:
2025-01-27T18:07:59.5867550Z   
2025-01-27T18:07:59.5868240Z   SpectrumSolver.integrator: The FormalIntegrator is not yet available.Please run the montecarlo simulation at least once.
2025-01-27T18:07:59.5868880Z 
2025-01-27T18:07:59.5869130Z tardis/transport/montecarlo/tests/test_vpacket.py::test_trace_vpacket_volley
2025-01-27T18:07:59.5869940Z   <string>:3: NumbaPendingDeprecationWarning:
2025-01-27T18:07:59.5870160Z   
2025-01-27T18:07:59.5872920Z   [1m[1mCode using Numba extension API maybe depending on 'old_style' error-capturing, which is deprecated and will be replaced by 'new_style' in a future release. See details at https://numba.readthedocs.io/en/latest/reference/deprecation.html#deprecation-of-old-style-numba-captured-errors
2025-01-27T18:07:59.5873760Z   Exception origin:
2025-01-27T18:07:59.5874040Z     File "/Users/runner/micromamba/envs/tardis/lib/python3.12/inspect.py", line 3180, in _bind
2025-01-27T18:07:59.5874360Z       raise TypeError(msg) from None
2025-01-27T18:07:59.5874570Z   [0m[0m
2025-01-27T18:07:59.5874640Z 
2025-01-27T18:07:59.5874890Z tardis/visualization/tools/tests/test_sdec_plot.py::TestSDECPlotter::test_mpl_image[plotter_generate_plot_mpl4]
2025-01-27T18:07:59.5875430Z   /Users/runner/work/tardis/tardis/tardis/visualization/tools/sdec_plot.py:1225: RuntimeWarning:
2025-01-27T18:07:59.5875760Z   
2025-01-27T18:07:59.5876480Z   More than 20 figures have been opened. Figures created through the pyplot interface (`matplotlib.pyplot.figure`) are retained until explicitly closed and may consume too much memory. (To control this warning, see the rcParam `figure.max_open_warning`). Consider using `matplotlib.pyplot.close()`.
2025-01-27T18:07:59.5878010Z 
2025-01-27T18:07:59.5878330Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-01-27T18:07:59.5879470Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-01-27T18:07:59.5880870Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-01-27T18:07:59.5881640Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-01-27T18:07:59.5882430Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-01-27T18:07:59.5884460Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-01-27T18:07:59.5885360Z   /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages/traitlets/traitlets.py:1385: DeprecationWarning:
2025-01-27T18:07:59.5885790Z   
2025-01-27T18:07:59.5885990Z   Passing unrecognized arguments to super(Checkbox).__init__(icon='lock').
2025-01-27T18:07:59.5886350Z   object.__init__() takes exactly one argument (the instance to initialize)
2025-01-27T18:07:59.5886770Z   This is deprecated in traitlets 4.2.This error will be raised in a future release of traitlets.
2025-01-27T18:07:59.5887020Z 
2025-01-27T18:07:59.5887330Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-01-27T18:07:59.5888230Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-01-27T18:07:59.5888880Z   /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages/traitlets/traitlets.py:1385: DeprecationWarning:
2025-01-27T18:07:59.5889280Z   
2025-01-27T18:07:59.5889480Z   Passing unrecognized arguments to super(FloatText).__init__(min=0).
2025-01-27T18:07:59.5889810Z   object.__init__() takes exactly one argument (the instance to initialize)
2025-01-27T18:07:59.5890210Z   This is deprecated in traitlets 4.2.This error will be raised in a future release of traitlets.
2025-01-27T18:07:59.5890470Z 
2025-01-27T18:07:59.5890740Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-01-27T18:07:59.5891360Z   /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages/traitlets/traitlets.py:1385: DeprecationWarning:
2025-01-27T18:07:59.5891740Z   
2025-01-27T18:07:59.5891950Z   Passing unrecognized arguments to super(HTML).__init__(indent=True).
2025-01-27T18:07:59.5892300Z   object.__init__() takes exactly one argument (the instance to initialize)
2025-01-27T18:07:59.5892700Z   This is deprecated in traitlets 4.2.This error will be raised in a future release of traitlets.
2025-01-27T18:07:59.5892950Z 
2025-01-27T18:07:59.5893290Z tardis/visualization/widgets/tests/test_line_info.py::TestLineInfoWidgetData::test_get_species_interactions[wavelength_range0-packet_out_nu]
2025-01-27T18:07:59.5893950Z   /Users/runner/micromamba/envs/tardis/lib/python3.12/site-packages/qgridnext/grid.py:825: DeprecationWarning:
2025-01-27T18:07:59.5894310Z   
2025-01-27T18:07:59.5894580Z   QgridWidget._grid_options_changed is deprecated in traitlets 4.1: use @observe and @unobserve instead.
2025-01-27T18:07:59.5894860Z 
2025-01-27T18:07:59.5895070Z tardis/visualization/widgets/tests/test_shell_info.py::TestHDFShellInfo::test_shells_data
2025-01-27T18:07:59.5895490Z   /Users/runner/work/tardis/tardis/tardis/io/util.py:289: PerformanceWarning:
2025-01-27T18:07:59.5895810Z   
2025-01-27T18:07:59.5896690Z   
2025-01-27T18:07:59.5897680Z   your performance may suffer as PyTables will pickle object types that it cannot
2025-01-27T18:07:59.5898340Z   map directly to c-types [inferred_type->mixed,key->block0_values] [items->Index([0], dtype='int64')]
2025-01-27T18:07:59.5898620Z 
2025-01-27T18:07:59.5898830Z tardis/visualization/widgets/tests/test_shell_info.py::TestHDFShellInfo::test_shells_data
2025-01-27T18:07:59.5899260Z   /Users/runner/work/tardis/tardis/tardis/io/util.py:292: PerformanceWarning:
2025-01-27T18:07:59.5899540Z   
2025-01-27T18:07:59.5899640Z   
2025-01-27T18:07:59.5899850Z   your performance may suffer as PyTables will pickle object types that it cannot
2025-01-27T18:07:59.5900190Z   map directly to c-types [inferred_type->mixed,key->values] [items->None]
2025-01-27T18:07:59.5900390Z 
2025-01-27T18:07:59.5900580Z tardis/visualization/widgets/tests/test_shell_info.py::TestHDFShellInfo::test_shells_data
2025-01-27T18:07:59.5901020Z   /Users/runner/work/tardis/tardis/tardis/spectrum/formal_integral.py:398: UserWarning:
2025-01-27T18:07:59.5901310Z   
2025-01-27T18:07:59.5901520Z   The number of interpolate_shells was not specified. The value was set to 80.
2025-01-27T18:07:59.5901730Z 
2025-01-27T18:07:59.5901890Z -- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
2025-01-27T18:07:59.5902090Z 
2025-01-27T18:07:59.5902210Z ---------- coverage: platform darwin, python 3.12.4-final-0 ----------
2025-01-27T18:07:59.5902480Z Coverage HTML written to dir coverage_html_report
2025-01-27T18:07:59.5902690Z Coverage XML written to file coverage.xml
2025-01-27T18:07:59.5902830Z 
2025-01-27T18:07:59.5902910Z =========================== short test summary info ============================
2025-01-27T18:07:59.5903640Z FAILED tardis/opacities/tests/test_tau_sobolev.py::test_calculate_sobolev_line_opacity - FileNotFoundError: File /Users/runner/work/tardis/tardis/tardis-regression-data/test_tau_sobolev/test_calculate_sobolev_line_opacity.h5 does not exist
2025-01-27T18:07:59.5904920Z FAILED tardis/opacities/tests/test_tau_sobolev.py::test_calculate_beta_sobolevs - FileNotFoundError: [Errno 2] No such file or directory: '/Users/runner/work/tardis/tardis/tardis-regression-data/test_tau_sobolev/test_calculate_beta_sobolevs.npy'
2025-01-27T18:07:59.5906000Z ERROR tardis/model/matter/tests/test_composition.py::test_elemental_mass_fraction - OSError: Atom Data kurucz_cd23_chianti_H_He.h5 not found in path or in TARDIS data repo - it is available as download:
2025-01-27T18:07:59.5906600Z from tardis.io.atom_data import download_atom_data
2025-01-27T18:07:59.5906840Z download_atom_data('kurucz_cd23_chianti_H_He')
2025-01-27T18:07:59.5907410Z ERROR tardis/model/matter/tests/test_composition.py::test_elemental_number_density - OSError: Atom Data kurucz_cd23_chianti_H_He.h5 not found in path or in TARDIS data repo - it is available as download:
2025-01-27T18:07:59.5907980Z from tardis.io.atom_data import download_atom_data
2025-01-27T18:07:59.5908210Z download_atom_data('kurucz_cd23_chianti_H_He')
2025-01-27T18:07:59.5908850Z ERROR tardis/model/matter/tests/test_composition.py::test_calculate_mass_fraction_at_time[time_explosion0] - OSError: Atom Data kurucz_cd23_chianti_H_He.h5 not found in path or in TARDIS data repo - it is available as download:
2025-01-27T18:07:59.5909490Z from tardis.io.atom_data import download_atom_data
2025-01-27T18:07:59.5910240Z download_atom_data('kurucz_cd23_chianti_H_He')
2025-01-27T18:07:59.5911590Z ERROR tardis/model/matter/tests/test_composition.py::test_calculate_mass_fraction_at_time[time_explosion1] - OSError: Atom Data kurucz_cd23_chianti_H_He.h5 not found in path or in TARDIS data repo - it is available as download:
2025-01-27T18:07:59.5912240Z from tardis.io.atom_data import download_atom_data
2025-01-27T18:07:59.5912470Z download_atom_data('kurucz_cd23_chianti_H_He')
2025-01-27T18:07:59.5913030Z ERROR tardis/model/matter/tests/test_composition.py::test_calculate_cell_masses - OSError: Atom Data kurucz_cd23_chianti_H_He.h5 not found in path or in TARDIS data repo - it is available as download:
2025-01-27T18:07:59.5913600Z from tardis.io.atom_data import download_atom_data
2025-01-27T18:07:59.5913940Z download_atom_data('kurucz_cd23_chianti_H_He')
2025-01-27T18:07:59.5914530Z ERROR tardis/model/matter/tests/test_composition.py::test_calculate_elemental_cell_masses - OSError: Atom Data kurucz_cd23_chianti_H_He.h5 not found in path or in TARDIS data repo - it is available as download:
2025-01-27T18:07:59.5915140Z from tardis.io.atom_data import download_atom_data
2025-01-27T18:07:59.5915350Z download_atom_data('kurucz_cd23_chianti_H_He')
2025-01-27T18:07:59.5915710Z = 2 failed, 1436 passed, 329 skipped, 2 deselected, 19 xfailed, 8 xpassed, 91 warnings, 6 errors in 1258.58s (0:20:58) =
2025-01-27T18:08:02.8198440Z ##[error]Process completed with exit code 1.
