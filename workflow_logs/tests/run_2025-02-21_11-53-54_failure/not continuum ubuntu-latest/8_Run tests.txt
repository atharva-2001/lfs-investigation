2025-02-21T11:55:27.2511029Z ##[group]Run pytest tardis --tardis-regression-data=/home/runner/work/tardis/tardis/tardis-regression-data --cov=tardis --cov-report=xml --cov-report=html --cov-append -m "not continuum"
2025-02-21T11:55:27.2512356Z [36;1mpytest tardis --tardis-regression-data=/home/runner/work/tardis/tardis/tardis-regression-data --cov=tardis --cov-report=xml --cov-report=html --cov-append -m "not continuum"[0m
2025-02-21T11:55:27.2567206Z shell: /usr/bin/bash -l {0}
2025-02-21T11:55:27.2567460Z env:
2025-02-21T11:55:27.2567635Z   CACHE_NUMBER: 0
2025-02-21T11:55:27.2568263Z   PYTEST_FLAGS: --tardis-regression-data=/home/runner/work/tardis/tardis/tardis-regression-data --cov=tardis --cov-report=xml --cov-report=html --cov-append
2025-02-21T11:55:27.2568918Z   CODECOV_TOKEN: 
2025-02-21T11:55:27.2569306Z   MAMBA_ROOT_PREFIX: /home/runner/micromamba
2025-02-21T11:55:27.2569615Z   MAMBA_EXE: /home/runner/micromamba-bin/micromamba
2025-02-21T11:55:27.2569960Z   CONDARC: /home/runner/work/_temp/setup-micromamba/.condarc
2025-02-21T11:55:27.2570312Z ##[endgroup]
2025-02-21T11:55:35.8412391Z ============================= test session starts ==============================
2025-02-21T11:55:35.8413147Z platform linux -- Python 3.12.4, pytest-8.2.2, pluggy-1.5.0
2025-02-21T11:55:35.8414249Z rootdir: /home/runner/work/tardis/tardis
2025-02-21T11:55:35.8414809Z configfile: pyproject.toml
2025-02-21T11:55:35.8415393Z plugins: metadata-3.1.1, anyio-4.4.0, doctestplus-1.2.1, cov-5.0.0, html-4.1.1
2025-02-21T11:55:35.8416058Z collected 1796 items / 2 deselected / 1794 selected
2025-02-21T11:55:35.8416417Z 
2025-02-21T11:55:40.7681775Z tardis/energy_input/tests/test_energy_source.py ..xxx                    [  0%]
2025-02-21T11:55:43.9548398Z tardis/energy_input/tests/test_gamma_ray_channel.py ...........          [  0%]
2025-02-21T11:55:45.7075407Z tardis/energy_input/tests/test_gamma_ray_grid.py xx.                     [  1%]
2025-02-21T11:55:47.5900756Z tardis/energy_input/tests/test_gamma_ray_interactions.py xx....          [  1%]
2025-02-21T11:55:47.5995331Z tardis/energy_input/tests/test_gamma_ray_packet_source.py sssssssss      [  1%]
2025-02-21T11:55:48.9045255Z tardis/energy_input/tests/test_util.py .....xxxx.....                    [  2%]
2025-02-21T11:55:49.2524605Z tardis/grid/tests/test_grid.py .                                         [  2%]
2025-02-21T11:55:49.2540507Z tardis/gui/tests/test_gui.py s                                           [  2%]
2025-02-21T11:55:52.7358081Z tardis/io/configuration/tests/test_config_reader.py ...........          [  3%]
2025-02-21T11:55:52.7488005Z tardis/io/configuration/tests/test_configuration_namespace.py .........  [  3%]
2025-02-21T11:55:52.7761662Z tardis/io/logger/tests/test_logging.py ssssssssssssssssssssssssssss      [  5%]
2025-02-21T11:56:30.7204856Z tardis/io/model/readers/tests/test_arepo_parser.py ..                    [  5%]
2025-02-21T11:56:30.7351707Z tardis/io/model/readers/tests/test_ascii_readers.py ...                  [  5%]
2025-02-21T11:56:30.7462392Z tardis/io/model/readers/tests/test_cmfgen_reader.py ..                   [  5%]
2025-02-21T11:56:30.7765234Z tardis/io/model/readers/tests/test_csvy_reader.py ....                   [  6%]
2025-02-21T11:56:30.7971715Z tardis/io/model/readers/tests/test_stella_reader.py ..                   [  6%]
2025-02-21T11:56:31.1021534Z tardis/io/tests/test_HDFWriter.py ...............                        [  7%]
2025-02-21T11:56:31.4146749Z tardis/io/tests/test_atomic.py .....                                     [  7%]
2025-02-21T11:56:31.4340769Z tardis/io/tests/test_decay.py ..                                         [  7%]
2025-02-21T11:56:31.6327771Z tardis/io/tests/test_model_reader.py ......                              [  7%]
2025-02-21T11:56:31.6396334Z tardis/model/geometry/tests/test_radial1d.py ..                          [  7%]
2025-02-21T11:57:30.3682396Z tardis/model/tests/test_base.py ........................................ [ 10%]
2025-02-21T11:57:31.3746500Z ............                                                             [ 10%]
2025-02-21T11:57:34.5303004Z tardis/model/tests/test_csvy_model.py .........                          [ 11%]
2025-02-21T11:57:34.5778823Z tardis/model/tests/test_density.py ..                                    [ 11%]
2025-02-21T11:57:35.8847033Z tardis/opacities/tests/test_opacity_solver.py .....                      [ 11%]
2025-02-21T11:57:37.2210618Z tardis/opacities/tests/test_opacity_state_numba.py .....                 [ 11%]
2025-02-21T11:57:38.8239460Z tardis/opacities/tests/test_tau_sobolev.py ..                            [ 12%]
2025-02-21T11:57:41.9384977Z tardis/plasma/equilibrium/tests/test_collisional_transitions.py ...      [ 12%]
2025-02-21T11:58:28.5607634Z tardis/plasma/equilibrium/tests/test_level_populations.py ....           [ 12%]
2025-02-21T11:58:40.1764925Z tardis/plasma/equilibrium/tests/test_rate_matrix.py .                    [ 12%]
2025-02-21T11:58:41.6027653Z tardis/plasma/tests/test_complete_plasmas.py ..............s......s..... [ 13%]
2025-02-21T11:58:44.4891811Z s....ssssss............s......s.....ss.....s....ssssss............s..... [ 18%]
2025-02-21T11:58:46.4353186Z .s.....ss.....s....ssssss............s......s.....ss.....s....ssssss.... [ 22%]
2025-02-21T11:58:49.3549676Z ........s......s.....ss.....s....ssssss............s......s.....ss.....s [ 26%]
2025-02-21T11:58:52.2618328Z ....ssssss............s......s.....ss.....s....ssssss............s...... [ 30%]
2025-02-21T11:58:52.9792777Z s.....ss.....s....ssssss............s......s.....ss.....s.ss.ssssss..... [ 34%]
2025-02-21T11:58:55.8822412Z .......s......s.....ss.....s....ssssss............s......s.....ss.....s. [ 38%]
2025-02-21T11:58:59.0588664Z ...ssssss............s......s.....ss.....s....ssssss............s......s [ 42%]
2025-02-21T11:59:02.1742779Z .....ss.....s....ssssss............s......s.....s...........ssssss...... [ 46%]
2025-02-21T11:59:04.0090024Z ......s......s.....s...........ssssss............s......s.....s......... [ 50%]
2025-02-21T11:59:06.9611380Z ..ssssss............s......s.....ss.....s....ssssss............s......s. [ 54%]
2025-02-21T11:59:10.4587851Z ....ss.....s....ssssss...................s......s.....s....ssss......... [ 58%]
2025-02-21T11:59:10.7423694Z ............s......s.....s....ssss.......                                [ 60%]
2025-02-21T11:59:10.8589857Z tardis/plasma/tests/test_hdf_plasma.py ................................. [ 62%]
2025-02-21T11:59:10.8707911Z ......                                                                   [ 62%]
2025-02-21T11:59:11.0022005Z tardis/plasma/tests/test_nlte_excitation.py ...                          [ 62%]
2025-02-21T12:01:31.6881444Z tardis/plasma/tests/test_nlte_solver.py .....X                           [ 63%]
2025-02-21T12:01:31.6908601Z tardis/plasma/tests/test_plasma_continuum.py .                           [ 63%]
2025-02-21T12:01:55.4159908Z tardis/plasma/tests/test_plasma_vboundary.py .............               [ 63%]
2025-02-21T12:02:10.0933054Z tardis/plasma/tests/test_tardis_model_density_config.py ...              [ 64%]
2025-02-21T12:02:10.8536301Z tardis/simulation/tests/test_convergence.py .....                        [ 64%]
2025-02-21T12:02:19.6824537Z tardis/simulation/tests/test_simulation.py .............                 [ 65%]
2025-02-21T12:02:19.7022974Z tardis/spectrum/tests/test_cuda_formal_integral.py sssssssssssssssssssss [ 66%]
2025-02-21T12:02:20.1805978Z ssss...ssssssssssssssssssssss                                            [ 67%]
2025-02-21T12:02:20.1878708Z tardis/spectrum/tests/test_luminosity.py ....                            [ 68%]
2025-02-21T12:02:21.8442961Z tardis/spectrum/tests/test_numba_formal_integral.py .................... [ 69%]
2025-02-21T12:02:21.8637790Z ..........                                                               [ 69%]
2025-02-21T12:02:22.0382800Z tardis/spectrum/tests/test_spectrum.py ................................. [ 71%]
2025-02-21T12:02:22.0722611Z .........                                                                [ 72%]
2025-02-21T12:02:22.1570840Z tardis/spectrum/tests/test_spectrum_solver.py .FFF                       [ 72%]
2025-02-21T12:02:54.3529668Z tardis/tests/test_tardis_full.py .FFF                                    [ 72%]
2025-02-21T12:04:19.8237109Z tardis/tests/test_tardis_full_formal_integral.py ................        [ 73%]
2025-02-21T12:04:19.9001523Z tardis/tests/test_util.py .............................................  [ 75%]
2025-02-21T12:04:22.6938850Z tardis/transport/montecarlo/tests/test_base.py x.....................    [ 77%]
2025-02-21T12:04:30.0684196Z tardis/transport/montecarlo/tests/test_interaction.py .......            [ 77%]
2025-02-21T12:04:30.2996859Z tardis/transport/montecarlo/tests/test_macro_atom.py ....                [ 77%]
2025-02-21T12:04:30.3170688Z tardis/transport/montecarlo/tests/test_montecarlo.py sssssssssssssssssss [ 78%]
2025-02-21T12:04:30.3620545Z sssssssssssssssssssssssssssssssssssssssssssss                            [ 81%]
2025-02-21T12:04:39.7628255Z tardis/transport/montecarlo/tests/test_montecarlo_main_loop.py x..       [ 81%]
2025-02-21T12:04:39.7695548Z tardis/transport/montecarlo/tests/test_nonhomologous.py ...              [ 81%]
2025-02-21T12:04:45.5984622Z tardis/transport/montecarlo/tests/test_numba_interface.py .....x.        [ 82%]
2025-02-21T12:04:46.1034051Z tardis/transport/montecarlo/tests/test_opacities.py ...............      [ 82%]
2025-02-21T12:04:47.1534007Z tardis/transport/montecarlo/tests/test_packet.py .................xXXXXX [ 84%]
2025-02-21T12:04:47.2927171Z XX.........                                                              [ 84%]
2025-02-21T12:04:47.3205475Z tardis/transport/montecarlo/tests/test_packet_source.py ........         [ 85%]
2025-02-21T12:04:47.6398031Z tardis/transport/montecarlo/tests/test_rpacket_last_interaction_tracker.py . [ 85%]
2025-02-21T12:04:48.0842529Z .....                                                                    [ 85%]
2025-02-21T12:05:23.5842481Z tardis/transport/montecarlo/tests/test_rpacket_tracker.py ......         [ 85%]
2025-02-21T12:05:23.6134479Z tardis/transport/montecarlo/tests/test_single_packet_loop.py xxx         [ 86%]
2025-02-21T12:05:23.6167319Z tardis/transport/montecarlo/tests/test_tracker_utils.py ..               [ 86%]
2025-02-21T12:05:26.0875553Z tardis/transport/montecarlo/tests/test_vpacket.py ..x.                   [ 86%]
2025-02-21T12:05:26.1049482Z tardis/transport/montecarlo/tests/test_weighted_packet_source.py ....    [ 86%]
2025-02-21T12:05:29.5396072Z tardis/transport/montecarlo/tests/test_weighted_packet_source_integration.py . [ 86%]
2025-02-21T12:05:29.5398315Z                                                                          [ 86%]
2025-02-21T12:05:30.3018767Z tardis/transport/tests/test_doppler_factor.py ..................         [ 87%]
2025-02-21T12:05:32.1436401Z tardis/visualization/tools/tests/test_convergence_plot.py .............. [ 88%]
2025-02-21T12:05:34.4483179Z ......                                                                   [ 88%]
2025-02-21T12:05:39.2203130Z tardis/visualization/tools/tests/test_liv_plot.py ...................... [ 90%]
2025-02-21T12:05:41.9487583Z .............................                                            [ 91%]
2025-02-21T12:05:44.8116656Z tardis/visualization/tools/tests/test_rpacket_plot.py .................. [ 92%]
2025-02-21T12:05:51.8743879Z ....                                                                     [ 92%]
2025-02-21T12:05:57.9394070Z tardis/visualization/tools/tests/test_sdec_plot.py ..................... [ 94%]
2025-02-21T12:06:06.1156027Z ..............................                                           [ 95%]
2025-02-21T12:06:06.5571779Z tardis/visualization/widgets/tests/test_custom_abundance.py ........ss.. [ 96%]
2025-02-21T12:06:06.6315593Z ....                                                                     [ 96%]
2025-02-21T12:06:07.7077466Z tardis/visualization/widgets/tests/test_line_info.py ................... [ 97%]
2025-02-21T12:06:08.3511543Z ..................                                                       [ 98%]
2025-02-21T12:07:11.8516725Z tardis/visualization/widgets/tests/test_shell_info.py .................. [ 99%]
2025-02-21T12:07:18.3957398Z ......                                                                   [100%]
2025-02-21T12:07:18.3957912Z 
2025-02-21T12:07:18.3958041Z =================================== FAILURES ===================================
2025-02-21T12:07:18.3958493Z ________________ TestSpectrumSolver.test_spectrum_real_packets _________________
2025-02-21T12:07:18.3958810Z 
2025-02-21T12:07:18.3959299Z self = <tardis.spectrum.tests.test_spectrum_solver.TestSpectrumSolver object at 0x7fc18c568d70>
2025-02-21T12:07:18.3960022Z simulation_regression_data = <tardis.simulation.base.Simulation object at 0x7fc18b278500>
2025-02-21T12:07:18.3960412Z 
2025-02-21T12:07:18.3960593Z     def test_spectrum_real_packets(self, simulation_regression_data):
2025-02-21T12:07:18.3961098Z         transport_state = simulation_regression_data.transport.transport_state
2025-02-21T12:07:18.3961672Z         spectrum_frequency_grid = simulation_regression_data.transport.spectrum_frequency_grid
2025-02-21T12:07:18.3962124Z     
2025-02-21T12:07:18.3962435Z         solver = SpectrumSolver(transport_state, spectrum_frequency_grid, None)
2025-02-21T12:07:18.3963125Z         result = solver.spectrum_real_packets.luminosity
2025-02-21T12:07:18.3963540Z         key = "simulation/spectrum_solver/spectrum_real_packets/luminosity"
2025-02-21T12:07:18.3963934Z         expected = self.get_expected_data(key)
2025-02-21T12:07:18.3964207Z     
2025-02-21T12:07:18.3964421Z         luminosity = u.Quantity(expected, "erg /s")
2025-02-21T12:07:18.3964703Z     
2025-02-21T12:07:18.3964890Z >       assert_quantity_allclose(
2025-02-21T12:07:18.3965138Z             result,
2025-02-21T12:07:18.3965341Z             luminosity,
2025-02-21T12:07:18.3965528Z         )
2025-02-21T12:07:18.3965625Z 
2025-02-21T12:07:18.3965750Z tardis/spectrum/tests/test_spectrum_solver.py:61: 
2025-02-21T12:07:18.3966062Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-02-21T12:07:18.3966610Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/astropy/tests/helper.py:203: in assert_quantity_allclose
2025-02-21T12:07:18.3967122Z     np.testing.assert_allclose(
2025-02-21T12:07:18.3967388Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-02-21T12:07:18.3967580Z 
2025-02-21T12:07:18.3968050Z args = (<function assert_allclose.<locals>.compare at 0x7fc15ac08680>, array([0.00000000e+00, 0.00000000e+00, 2.76120259e+39,...), array([1.33511090e+39, 1.33738696e+39, 9.41598476e+38, ...,
2025-02-21T12:07:18.3968696Z        0.00000000e+00, 0.00000000e+00, 0.00000000e+00]))
2025-02-21T12:07:18.3969224Z kwds = {'equal_nan': True, 'err_msg': '', 'header': 'Not equal to tolerance rtol=1e-07, atol=0', 'verbose': True}
2025-02-21T12:07:18.3969554Z 
2025-02-21T12:07:18.3969626Z     @wraps(func)
2025-02-21T12:07:18.3969818Z     def inner(*args, **kwds):
2025-02-21T12:07:18.3970040Z         with self._recreate_cm():
2025-02-21T12:07:18.3970279Z >           return func(*args, **kwds)
2025-02-21T12:07:18.3970524Z E           AssertionError: 
2025-02-21T12:07:18.3970766Z E           Not equal to tolerance rtol=1e-07, atol=0
2025-02-21T12:07:18.3971025Z E           
2025-02-21T12:07:18.3971216Z E           Mismatched elements: 4355 / 10000 (43.5%)
2025-02-21T12:07:18.3971491Z E           Max absolute difference: 1.94155993e+40
2025-02-21T12:07:18.3971765Z E           Max relative difference: 137.15340685
2025-02-21T12:07:18.3972083Z E            x: array([0.000000e+00, 0.000000e+00, 2.761203e+39, ..., 0.000000e+00,
2025-02-21T12:07:18.3972401Z E                  0.000000e+00, 0.000000e+00])
2025-02-21T12:07:18.3972704Z E            y: array([1.335111e+39, 1.337387e+39, 9.415985e+38, ..., 0.000000e+00,
2025-02-21T12:07:18.3973012Z E                  0.000000e+00, 0.000000e+00])
2025-02-21T12:07:18.3973172Z 
2025-02-21T12:07:18.3973375Z ../../../micromamba/envs/tardis/lib/python3.12/contextlib.py:81: AssertionError
2025-02-21T12:07:18.3974051Z ___________ TestSpectrumSolver.test_spectrum_real_packets_reabsorbed ___________
2025-02-21T12:07:18.3974338Z 
2025-02-21T12:07:18.3974597Z self = <tardis.spectrum.tests.test_spectrum_solver.TestSpectrumSolver object at 0x7fc18c5690d0>
2025-02-21T12:07:18.3975191Z simulation_regression_data = <tardis.simulation.base.Simulation object at 0x7fc18b278500>
2025-02-21T12:07:18.3975522Z 
2025-02-21T12:07:18.3975710Z     def test_spectrum_real_packets_reabsorbed(self, simulation_regression_data):
2025-02-21T12:07:18.3976169Z         transport_state = simulation_regression_data.transport.transport_state
2025-02-21T12:07:18.3976667Z         spectrum_frequency_grid = simulation_regression_data.transport.spectrum_frequency_grid
2025-02-21T12:07:18.3977053Z     
2025-02-21T12:07:18.3977320Z         solver = SpectrumSolver(transport_state, spectrum_frequency_grid, None)
2025-02-21T12:07:18.3977739Z         result = solver.spectrum_real_packets_reabsorbed.luminosity
2025-02-21T12:07:18.3978175Z         key = "simulation/spectrum_solver/spectrum_real_packets_reabsorbed/luminosity"
2025-02-21T12:07:18.3978557Z         expected = self.get_expected_data(key)
2025-02-21T12:07:18.3978797Z     
2025-02-21T12:07:18.3979246Z         luminosity = u.Quantity(expected, "erg /s")
2025-02-21T12:07:18.3979500Z     
2025-02-21T12:07:18.3979666Z >       assert_quantity_allclose(
2025-02-21T12:07:18.3979892Z             result,
2025-02-21T12:07:18.3980071Z             luminosity,
2025-02-21T12:07:18.3980257Z         )
2025-02-21T12:07:18.3980352Z 
2025-02-21T12:07:18.3980470Z tardis/spectrum/tests/test_spectrum_solver.py:77: 
2025-02-21T12:07:18.3980780Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-02-21T12:07:18.3981310Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/astropy/tests/helper.py:203: in assert_quantity_allclose
2025-02-21T12:07:18.3981814Z     np.testing.assert_allclose(
2025-02-21T12:07:18.3982077Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-02-21T12:07:18.3982279Z 
2025-02-21T12:07:18.3982655Z args = (<function assert_allclose.<locals>.compare at 0x7fc15ac0ad40>, array([0., 0., 0., ..., 0., 0., 0.]), array([2.03920412e+38, 3.72882494e+38, 2.29646943e+38, ...,
2025-02-21T12:07:18.3983217Z        0.00000000e+00, 0.00000000e+00, 0.00000000e+00]))
2025-02-21T12:07:18.3983670Z kwds = {'equal_nan': True, 'err_msg': '', 'header': 'Not equal to tolerance rtol=1e-07, atol=0', 'verbose': True}
2025-02-21T12:07:18.3983996Z 
2025-02-21T12:07:18.3984074Z     @wraps(func)
2025-02-21T12:07:18.3984269Z     def inner(*args, **kwds):
2025-02-21T12:07:18.3984494Z         with self._recreate_cm():
2025-02-21T12:07:18.3984726Z >           return func(*args, **kwds)
2025-02-21T12:07:18.3984976Z E           AssertionError: 
2025-02-21T12:07:18.3985219Z E           Not equal to tolerance rtol=1e-07, atol=0
2025-02-21T12:07:18.3985474Z E           
2025-02-21T12:07:18.3985821Z E           Mismatched elements: 4491 / 10000 (44.9%)
2025-02-21T12:07:18.3986301Z E           Max absolute difference: 1.0639846e+40
2025-02-21T12:07:18.3986779Z E           Max relative difference: 122.79315318
2025-02-21T12:07:18.3987237Z E            x: array([0., 0., 0., ..., 0., 0., 0.])
2025-02-21T12:07:18.3987757Z E            y: array([2.039204e+38, 3.728825e+38, 2.296469e+38, ..., 0.000000e+00,
2025-02-21T12:07:18.3988084Z E                  0.000000e+00, 0.000000e+00])
2025-02-21T12:07:18.3988247Z 
2025-02-21T12:07:18.3988448Z ../../../micromamba/envs/tardis/lib/python3.12/contextlib.py:81: AssertionError
2025-02-21T12:07:18.3988896Z ________________________ TestSpectrumSolver.test_solve _________________________
2025-02-21T12:07:18.3989254Z 
2025-02-21T12:07:18.3989517Z self = <tardis.spectrum.tests.test_spectrum_solver.TestSpectrumSolver object at 0x7fc18c569940>
2025-02-21T12:07:18.3990215Z simulation_regression_data = <tardis.simulation.base.Simulation object at 0x7fc18b278500>
2025-02-21T12:07:18.3990701Z 
2025-02-21T12:07:18.3990819Z     def test_solve(self, simulation_regression_data):
2025-02-21T12:07:18.3991352Z         transport_state = simulation_regression_data.transport.transport_state
2025-02-21T12:07:18.3991850Z         spectrum_frequency_grid = simulation_regression_data.transport.spectrum_frequency_grid
2025-02-21T12:07:18.3992237Z     
2025-02-21T12:07:18.3992505Z         solver = SpectrumSolver(transport_state, spectrum_frequency_grid, None)
2025-02-21T12:07:18.3992924Z         result_real, result_virtual, result_integrated = solver.solve(
2025-02-21T12:07:18.3993244Z             transport_state
2025-02-21T12:07:18.3993447Z         )
2025-02-21T12:07:18.3993717Z         key_real = "simulation/spectrum_solver/spectrum_real_packets/luminosity"
2025-02-21T12:07:18.3994094Z         expected_real = self.get_expected_data(key_real)
2025-02-21T12:07:18.3994356Z     
2025-02-21T12:07:18.3994569Z         luminosity_real = u.Quantity(expected_real, "erg /s")
2025-02-21T12:07:18.3994853Z     
2025-02-21T12:07:18.3995019Z >       assert_quantity_allclose(
2025-02-21T12:07:18.3995260Z             result_real.luminosity,
2025-02-21T12:07:18.3995494Z             luminosity_real,
2025-02-21T12:07:18.3995696Z         )
2025-02-21T12:07:18.3995791Z 
2025-02-21T12:07:18.3996035Z tardis/spectrum/tests/test_spectrum_solver.py:95: 
2025-02-21T12:07:18.3996343Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-02-21T12:07:18.3996872Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/astropy/tests/helper.py:203: in assert_quantity_allclose
2025-02-21T12:07:18.3997371Z     np.testing.assert_allclose(
2025-02-21T12:07:18.3997747Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-02-21T12:07:18.3998008Z 
2025-02-21T12:07:18.3998482Z args = (<function assert_allclose.<locals>.compare at 0x7fc15ac0a2a0>, array([0.00000000e+00, 0.00000000e+00, 2.76120259e+39,...), array([1.33511090e+39, 1.33738696e+39, 9.41598476e+38, ...,
2025-02-21T12:07:18.3999312Z        0.00000000e+00, 0.00000000e+00, 0.00000000e+00]))
2025-02-21T12:07:18.3999753Z kwds = {'equal_nan': True, 'err_msg': '', 'header': 'Not equal to tolerance rtol=1e-07, atol=0', 'verbose': True}
2025-02-21T12:07:18.4000077Z 
2025-02-21T12:07:18.4000177Z     @wraps(func)
2025-02-21T12:07:18.4000372Z     def inner(*args, **kwds):
2025-02-21T12:07:18.4000594Z         with self._recreate_cm():
2025-02-21T12:07:18.4000825Z >           return func(*args, **kwds)
2025-02-21T12:07:18.4001064Z E           AssertionError: 
2025-02-21T12:07:18.4001303Z E           Not equal to tolerance rtol=1e-07, atol=0
2025-02-21T12:07:18.4001555Z E           
2025-02-21T12:07:18.4001749Z E           Mismatched elements: 4355 / 10000 (43.5%)
2025-02-21T12:07:18.4002027Z E           Max absolute difference: 1.94155993e+40
2025-02-21T12:07:18.4002301Z E           Max relative difference: 137.15340685
2025-02-21T12:07:18.4002622Z E            x: array([0.000000e+00, 0.000000e+00, 2.761203e+39, ..., 0.000000e+00,
2025-02-21T12:07:18.4002944Z E                  0.000000e+00, 0.000000e+00])
2025-02-21T12:07:18.4003252Z E            y: array([1.335111e+39, 1.337387e+39, 9.415985e+38, ..., 0.000000e+00,
2025-02-21T12:07:18.4003560Z E                  0.000000e+00, 0.000000e+00])
2025-02-21T12:07:18.4003733Z 
2025-02-21T12:07:18.4003928Z ../../../micromamba/envs/tardis/lib/python3.12/contextlib.py:81: AssertionError
2025-02-21T12:07:18.4004385Z __________________ TestTransportSimple.test_j_blue_estimators __________________
2025-02-21T12:07:18.4004652Z 
2025-02-21T12:07:18.4004863Z self = <tardis.tests.test_tardis_full.TestTransportSimple object at 0x7fc18c56a2d0>
2025-02-21T12:07:18.4005389Z simulation_regression_data = <tardis.simulation.base.Simulation object at 0x7fc18b278500>
2025-02-21T12:07:18.4005716Z 
2025-02-21T12:07:18.4005866Z     def test_j_blue_estimators(self, simulation_regression_data):
2025-02-21T12:07:18.4006243Z         key = "simulation/transport/transport_state/j_blue_estimator"
2025-02-21T12:07:18.4006571Z         expected = self.get_expected_data(key)
2025-02-21T12:07:18.4006956Z     
2025-02-21T12:07:18.4007127Z >       npt.assert_allclose(
2025-02-21T12:07:18.4007528Z             simulation_regression_data.transport.transport_state.radfield_mc_estimators.j_blue_estimator,
2025-02-21T12:07:18.4007969Z             expected.values,
2025-02-21T12:07:18.4008170Z         )
2025-02-21T12:07:18.4008267Z 
2025-02-21T12:07:18.4008357Z tardis/tests/test_tardis_full.py:60: 
2025-02-21T12:07:18.4008627Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-02-21T12:07:18.4008826Z 
2025-02-21T12:07:18.4009245Z args = (<function assert_allclose.<locals>.compare at 0x7fc196b819e0>, array([[0., 0., 0., ..., 0., 0., 0.],
2025-02-21T12:07:18.4009669Z        [0., 0., .....,
2025-02-21T12:07:18.4009858Z        [0., 0., 0., ..., 0., 0., 0.],
2025-02-21T12:07:18.4010076Z        [0., 0., 0., ..., 0., 0., 0.],
2025-02-21T12:07:18.4010291Z        [0., 0., 0., ..., 0., 0., 0.]]))
2025-02-21T12:07:18.4010678Z kwds = {'equal_nan': True, 'err_msg': '', 'header': 'Not equal to tolerance rtol=1e-07, atol=0', 'verbose': True}
2025-02-21T12:07:18.4011007Z 
2025-02-21T12:07:18.4011084Z     @wraps(func)
2025-02-21T12:07:18.4011271Z     def inner(*args, **kwds):
2025-02-21T12:07:18.4011619Z         with self._recreate_cm():
2025-02-21T12:07:18.4011852Z >           return func(*args, **kwds)
2025-02-21T12:07:18.4012090Z E           AssertionError: 
2025-02-21T12:07:18.4012330Z E           Not equal to tolerance rtol=1e-07, atol=0
2025-02-21T12:07:18.4012582Z E           
2025-02-21T12:07:18.4012786Z E           Mismatched elements: 488044 / 584480 (83.5%)
2025-02-21T12:07:18.4013070Z E           Max absolute difference: 1.43452643e-17
2025-02-21T12:07:18.4013343Z E           Max relative difference: 235.31367318
2025-02-21T12:07:18.4013605Z E            x: array([[0., 0., 0., ..., 0., 0., 0.],
2025-02-21T12:07:18.4013856Z E                  [0., 0., 0., ..., 0., 0., 0.],
2025-02-21T12:07:18.4014112Z E                  [0., 0., 0., ..., 0., 0., 0.],...
2025-02-21T12:07:18.4014369Z E            y: array([[0., 0., 0., ..., 0., 0., 0.],
2025-02-21T12:07:18.4014612Z E                  [0., 0., 0., ..., 0., 0., 0.],
2025-02-21T12:07:18.4014859Z E                  [0., 0., 0., ..., 0., 0., 0.],...
2025-02-21T12:07:18.4015026Z 
2025-02-21T12:07:18.4015229Z ../../../micromamba/envs/tardis/lib/python3.12/contextlib.py:81: AssertionError
2025-02-21T12:07:18.4015690Z ______________________ TestTransportSimple.test_spectrum _______________________
2025-02-21T12:07:18.4015952Z 
2025-02-21T12:07:18.4016159Z self = <tardis.tests.test_tardis_full.TestTransportSimple object at 0x7fc18c56a4e0>
2025-02-21T12:07:18.4016695Z simulation_regression_data = <tardis.simulation.base.Simulation object at 0x7fc18b278500>
2025-02-21T12:07:18.4017028Z 
2025-02-21T12:07:18.4017151Z     def test_spectrum(self, simulation_regression_data):
2025-02-21T12:07:18.4017521Z         key = "simulation/spectrum_solver/spectrum_real_packets/luminosity"
2025-02-21T12:07:18.4017873Z         expected = self.get_expected_data(key)
2025-02-21T12:07:18.4018119Z     
2025-02-21T12:07:18.4018310Z         luminosity = u.Quantity(expected, "erg /s")
2025-02-21T12:07:18.4018565Z     
2025-02-21T12:07:18.4018731Z >       assert_quantity_allclose(
2025-02-21T12:07:18.4019198Z             simulation_regression_data.spectrum_solver.spectrum_real_packets.luminosity,
2025-02-21T12:07:18.4019569Z             luminosity,
2025-02-21T12:07:18.4019755Z         )
2025-02-21T12:07:18.4019846Z 
2025-02-21T12:07:18.4019941Z tardis/tests/test_tardis_full.py:71: 
2025-02-21T12:07:18.4020212Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-02-21T12:07:18.4020738Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/astropy/tests/helper.py:203: in assert_quantity_allclose
2025-02-21T12:07:18.4021243Z     np.testing.assert_allclose(
2025-02-21T12:07:18.4021497Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-02-21T12:07:18.4021695Z 
2025-02-21T12:07:18.4022163Z args = (<function assert_allclose.<locals>.compare at 0x7fc17e84f920>, array([0.00000000e+00, 0.00000000e+00, 2.76120259e+39,...), array([1.47119190e+39, 1.69564189e+39, 1.35368464e+39, ...,
2025-02-21T12:07:18.4022954Z        0.00000000e+00, 0.00000000e+00, 0.00000000e+00]))
2025-02-21T12:07:18.4023374Z kwds = {'equal_nan': True, 'err_msg': '', 'header': 'Not equal to tolerance rtol=1e-07, atol=0', 'verbose': True}
2025-02-21T12:07:18.4023703Z 
2025-02-21T12:07:18.4023778Z     @wraps(func)
2025-02-21T12:07:18.4023966Z     def inner(*args, **kwds):
2025-02-21T12:07:18.4024187Z         with self._recreate_cm():
2025-02-21T12:07:18.4024429Z >           return func(*args, **kwds)
2025-02-21T12:07:18.4024677Z E           AssertionError: 
2025-02-21T12:07:18.4024920Z E           Not equal to tolerance rtol=1e-07, atol=0
2025-02-21T12:07:18.4025176Z E           
2025-02-21T12:07:18.4025370Z E           Mismatched elements: 4560 / 10000 (45.6%)
2025-02-21T12:07:18.4025650Z E           Max absolute difference: 1.96604107e+40
2025-02-21T12:07:18.4025935Z E           Max relative difference: 97.03021569
2025-02-21T12:07:18.4026254Z E            x: array([0.000000e+00, 0.000000e+00, 2.761203e+39, ..., 0.000000e+00,
2025-02-21T12:07:18.4026582Z E                  0.000000e+00, 0.000000e+00])
2025-02-21T12:07:18.4027013Z E            y: array([1.471192e+39, 1.695642e+39, 1.353685e+39, ..., 0.000000e+00,
2025-02-21T12:07:18.4027324Z E                  0.000000e+00, 0.000000e+00])
2025-02-21T12:07:18.4027487Z 
2025-02-21T12:07:18.4027678Z ../../../micromamba/envs/tardis/lib/python3.12/contextlib.py:81: AssertionError
2025-02-21T12:07:18.4028140Z __________________ TestTransportSimple.test_virtual_spectrum ___________________
2025-02-21T12:07:18.4028409Z 
2025-02-21T12:07:18.4028618Z self = <tardis.tests.test_tardis_full.TestTransportSimple object at 0x7fc18c56a7b0>
2025-02-21T12:07:18.4029246Z simulation_regression_data = <tardis.simulation.base.Simulation object at 0x7fc18b278500>
2025-02-21T12:07:18.4029577Z 
2025-02-21T12:07:18.4029735Z     def test_virtual_spectrum(self, simulation_regression_data):
2025-02-21T12:07:18.4030142Z         key = "simulation/spectrum_solver/spectrum_virtual_packets/luminosity"
2025-02-21T12:07:18.4030501Z         expected = self.get_expected_data(key)
2025-02-21T12:07:18.4030745Z     
2025-02-21T12:07:18.4030936Z         luminosity = u.Quantity(expected, "erg /s")
2025-02-21T12:07:18.4031186Z     
2025-02-21T12:07:18.4031351Z >       assert_quantity_allclose(
2025-02-21T12:07:18.4031719Z             simulation_regression_data.spectrum_solver.spectrum_virtual_packets.luminosity,
2025-02-21T12:07:18.4032102Z             luminosity,
2025-02-21T12:07:18.4032290Z         )
2025-02-21T12:07:18.4032386Z 
2025-02-21T12:07:18.4032475Z tardis/tests/test_tardis_full.py:82: 
2025-02-21T12:07:18.4032753Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-02-21T12:07:18.4033286Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/astropy/tests/helper.py:203: in assert_quantity_allclose
2025-02-21T12:07:18.4033803Z     np.testing.assert_allclose(
2025-02-21T12:07:18.4034060Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-02-21T12:07:18.4034254Z 
2025-02-21T12:07:18.4034734Z args = (<function assert_allclose.<locals>.compare at 0x7fc185c1a5c0>, array([1.31895331e+39, 2.31381538e+39, 3.72000430e+39,...), array([1.44033177e+39, 1.35611403e+39, 1.39755698e+39, ...,
2025-02-21T12:07:18.4035383Z        0.00000000e+00, 0.00000000e+00, 0.00000000e+00]))
2025-02-21T12:07:18.4035805Z kwds = {'equal_nan': True, 'err_msg': '', 'header': 'Not equal to tolerance rtol=1e-07, atol=0', 'verbose': True}
2025-02-21T12:07:18.4036136Z 
2025-02-21T12:07:18.4036208Z     @wraps(func)
2025-02-21T12:07:18.4036399Z     def inner(*args, **kwds):
2025-02-21T12:07:18.4036623Z         with self._recreate_cm():
2025-02-21T12:07:18.4036861Z >           return func(*args, **kwds)
2025-02-21T12:07:18.4037101Z E           AssertionError: 
2025-02-21T12:07:18.4037346Z E           Not equal to tolerance rtol=1e-07, atol=0
2025-02-21T12:07:18.4037722Z E           
2025-02-21T12:07:18.4037917Z E           Mismatched elements: 5659 / 10000 (56.6%)
2025-02-21T12:07:18.4038192Z E           Max absolute difference: 4.69537822e+39
2025-02-21T12:07:18.4038471Z E           Max relative difference: 419.77405263
2025-02-21T12:07:18.4038788Z E            x: array([1.318953e+39, 2.313815e+39, 3.720004e+39, ..., 0.000000e+00,
2025-02-21T12:07:18.4039253Z E                  0.000000e+00, 0.000000e+00])
2025-02-21T12:07:18.4039630Z E            y: array([1.440332e+39, 1.356114e+39, 1.397557e+39, ..., 0.000000e+00,
2025-02-21T12:07:18.4039939Z E                  0.000000e+00, 0.000000e+00])
2025-02-21T12:07:18.4040097Z 
2025-02-21T12:07:18.4040298Z ../../../micromamba/envs/tardis/lib/python3.12/contextlib.py:81: AssertionError
2025-02-21T12:07:18.4040694Z =============================== warnings summary ===============================
2025-02-21T12:07:18.4041009Z tardis/io/configuration/config_validator.py:6
2025-02-21T12:07:18.4041310Z tardis/io/configuration/config_validator.py:6
2025-02-21T12:07:18.4041795Z   /home/runner/work/tardis/tardis/tardis/io/configuration/config_validator.py:6: DeprecationWarning:
2025-02-21T12:07:18.4042380Z   
2025-02-21T12:07:18.4043606Z   jsonschema.RefResolver is deprecated as of v4.18.0, in favor of the https://github.com/python-jsonschema/referencing library, which provides more compliant referencing behavior as well as more flexible APIs for customization. A future release will remove RefResolver. Please file a feature request (on referencing) if you are missing an API for the kind of customization you need.
2025-02-21T12:07:18.4044819Z 
2025-02-21T12:07:18.4045056Z ../../../micromamba/envs/tardis/lib/python3.12/site-packages/jupyter_client/connect.py:22
2025-02-21T12:07:18.4045726Z   /home/runner/micromamba/envs/tardis/lib/python3.12/site-packages/jupyter_client/connect.py:22: DeprecationWarning:
2025-02-21T12:07:18.4046231Z   
2025-02-21T12:07:18.4046462Z   Jupyter is migrating its paths to use standard platformdirs
2025-02-21T12:07:18.4046847Z   given by the platformdirs library.  To remove this warning and
2025-02-21T12:07:18.4047241Z   see the appropriate new directories, set the environment variable
2025-02-21T12:07:18.4047632Z   `JUPYTER_PLATFORM_DIRS=1` and then run `jupyter --paths`.
2025-02-21T12:07:18.4048004Z   The use of platformdirs will be the default in `jupyter_core` v6
2025-02-21T12:07:18.4048239Z 
2025-02-21T12:07:18.4052580Z tardis/io/tests/test_HDFWriter.py::test_multi_index_write
2025-02-21T12:07:18.4053108Z tardis/visualization/widgets/tests/test_shell_info.py::TestHDFShellInfo::test_shells_data
2025-02-21T12:07:18.4053670Z   /home/runner/work/tardis/tardis/tardis/io/util.py:276: PerformanceWarning:
2025-02-21T12:07:18.4054049Z   
2025-02-21T12:07:18.4054213Z   
2025-02-21T12:07:18.4054504Z   your performance may suffer as PyTables will pickle object types that it cannot
2025-02-21T12:07:18.4055060Z   map directly to c-types [inferred_type->mixed,key->block0_values] [items->Index([0], dtype='int64')]
2025-02-21T12:07:18.4055416Z 
2025-02-21T12:07:18.4055616Z tardis/io/tests/test_model_reader.py::test_read_cmfgen_isotope_abundances
2025-02-21T12:07:18.4056106Z tardis/plasma/tests/test_tardis_model_density_config.py::test_electron_densities
2025-02-21T12:07:18.4056673Z tardis/plasma/tests/test_tardis_model_density_config.py::test_isotope_number_densities
2025-02-21T12:07:18.4057168Z tardis/plasma/tests/test_tardis_model_density_config.py::test_t_rad
2025-02-21T12:07:18.4057735Z   /home/runner/work/tardis/tardis/tardis/io/model/readers/cmfgen_deprecated.py:82: DeprecationWarning:
2025-02-21T12:07:18.4058195Z   
2025-02-21T12:07:18.4058394Z   The current CMFGEN model parser is deprecated
2025-02-21T12:07:18.4058598Z 
2025-02-21T12:07:18.4058712Z tardis/io/tests/test_model_reader.py: 1 warning
2025-02-21T12:07:18.4059076Z tardis/plasma/tests/test_tardis_model_density_config.py: 9 warnings
2025-02-21T12:07:18.4059785Z   /home/runner/work/tardis/tardis/tardis/io/model/readers/cmfgen_deprecated.py:40: DeprecationWarning:
2025-02-21T12:07:18.4060431Z   
2025-02-21T12:07:18.4060621Z   The current CMFGEN model parser is deprecated
2025-02-21T12:07:18.4060803Z 
2025-02-21T12:07:18.4061018Z tardis/model/tests/test_base.py::TestModelFromPaper1Config::test_abundances
2025-02-21T12:07:18.4061663Z   /home/runner/work/tardis/tardis/tardis/transport/montecarlo/montecarlo_main_loop.py:123: NumbaTypeSafetyWarning:
2025-02-21T12:07:18.4062176Z   
2025-02-21T12:07:18.4062680Z   [1m[1m[1munsafe cast from uint64 to int64. Precision may be lost.[0m[0m[0m
2025-02-21T12:07:18.4062945Z 
2025-02-21T12:07:18.4063051Z tardis/model/tests/test_base.py: 6 warnings
2025-02-21T12:07:18.4063342Z tardis/model/tests/test_csvy_model.py: 2 warnings
2025-02-21T12:07:18.4063707Z tardis/plasma/tests/test_tardis_model_density_config.py: 3 warnings
2025-02-21T12:07:18.4064228Z   /home/runner/work/tardis/tardis/tardis/model/geometry/radial1d.py:50: DeprecationWarning:
2025-02-21T12:07:18.4064654Z   
2025-02-21T12:07:18.4064843Z   v_inner_boundary < 0, assuming default value
2025-02-21T12:07:18.4065051Z 
2025-02-21T12:07:18.4065152Z tardis/model/tests/test_base.py: 6 warnings
2025-02-21T12:07:18.4065446Z tardis/model/tests/test_csvy_model.py: 2 warnings
2025-02-21T12:07:18.4065946Z tardis/plasma/tests/test_tardis_model_density_config.py: 3 warnings
2025-02-21T12:07:18.4066474Z   /home/runner/work/tardis/tardis/tardis/model/geometry/radial1d.py:61: DeprecationWarning:
2025-02-21T12:07:18.4066893Z   
2025-02-21T12:07:18.4067078Z   v_outer_boundary < 0, assuming default value
2025-02-21T12:07:18.4067262Z 
2025-02-21T12:07:18.4067732Z tardis/plasma/equilibrium/tests/test_level_populations.py::TestLevelPopulationSolver::test_solve[collisional_rate_solver0-radiative_transitions0]
2025-02-21T12:07:18.4068563Z   /home/runner/work/tardis/tardis/tardis/plasma/equilibrium/level_populations.py:65: FutureWarning:
2025-02-21T12:07:18.4069016Z   
2025-02-21T12:07:18.4069792Z   A value is trying to be set on a copy of a DataFrame or Series through chained assignment using an inplace method.
2025-02-21T12:07:18.4070601Z   The behavior will change in pandas 3.0. This inplace method will never work because the intermediate object on which we are setting values always behaves as a copy.
2025-02-21T12:07:18.4071195Z   
2025-02-21T12:07:18.4071806Z   For example, when doing 'df[col].method(value, inplace=True)', try using 'df.method({col: value}, inplace=True)' or df[col] = df[col].method(value) instead, to perform the operation inplace on the original object.
2025-02-21T12:07:18.4072414Z 
2025-02-21T12:07:18.4072632Z tardis/plasma/tests/test_plasma_vboundary.py::test_plasma_vboundary[2900-3750]
2025-02-21T12:07:18.4073233Z tardis/plasma/tests/test_plasma_vboundary.py::test_plasma_vboundary[2900-3850]
2025-02-21T12:07:18.4073922Z tardis/plasma/tests/test_plasma_vboundary.py::test_plasma_vboundary[2900-3900]
2025-02-21T12:07:18.4074570Z   /home/runner/work/tardis/tardis/tardis/model/geometry/radial1d.py:71: UserWarning:
2025-02-21T12:07:18.4075076Z   
2025-02-21T12:07:18.4075640Z   Requesting inner boundary below inner shell. Extrapolating the inner cell
2025-02-21T12:07:18.4075947Z 
2025-02-21T12:07:18.4076221Z tardis/spectrum/tests/test_spectrum_solver.py::TestSpectrumSolver::test_solve
2025-02-21T12:07:18.4076852Z   /home/runner/work/tardis/tardis/tardis/spectrum/base.py:70: UserWarning:
2025-02-21T12:07:18.4077312Z   
2025-02-21T12:07:18.4090367Z   SpectrumSolver.spectrum_virtual_packets is zero. Please run the montecarlo simulation with no_of_virtual_packets > 0
2025-02-21T12:07:18.4091100Z 
2025-02-21T12:07:18.4091480Z tardis/spectrum/tests/test_spectrum_solver.py::TestSpectrumSolver::test_solve
2025-02-21T12:07:18.4092315Z   /home/runner/work/tardis/tardis/tardis/spectrum/base.py:111: UserWarning:
2025-02-21T12:07:18.4092909Z   
2025-02-21T12:07:18.4093607Z   SpectrumSolver.integrator: The FormalIntegrator is not yet available.Please run the montecarlo simulation at least once.
2025-02-21T12:07:18.4094310Z 
2025-02-21T12:07:18.4094890Z tardis/transport/montecarlo/tests/test_vpacket.py::test_trace_vpacket_volley
2025-02-21T12:07:18.4095538Z   <string>:3: NumbaPendingDeprecationWarning:
2025-02-21T12:07:18.4095942Z   
2025-02-21T12:07:18.4097861Z   [1m[1mCode using Numba extension API maybe depending on 'old_style' error-capturing, which is deprecated and will be replaced by 'new_style' in a future release. See details at https://numba.readthedocs.io/en/latest/reference/deprecation.html#deprecation-of-old-style-numba-captured-errors
2025-02-21T12:07:18.4099756Z   Exception origin:
2025-02-21T12:07:18.4100356Z     File "/home/runner/micromamba/envs/tardis/lib/python3.12/inspect.py", line 3180, in _bind
2025-02-21T12:07:18.4101026Z       raise TypeError(msg) from None
2025-02-21T12:07:18.4101423Z   [0m[0m
2025-02-21T12:07:18.4101571Z 
2025-02-21T12:07:18.4102116Z tardis/visualization/tools/tests/test_sdec_plot.py::TestSDECPlotter::test_mpl_image[plotter_generate_plot_mpl4]
2025-02-21T12:07:18.4103243Z   /home/runner/work/tardis/tardis/tardis/visualization/tools/sdec_plot.py:1225: RuntimeWarning:
2025-02-21T12:07:18.4103945Z   
2025-02-21T12:07:18.4105476Z   More than 20 figures have been opened. Figures created through the pyplot interface (`matplotlib.pyplot.figure`) are retained until explicitly closed and may consume too much memory. (To control this warning, see the rcParam `figure.max_open_warning`). Consider using `matplotlib.pyplot.close()`.
2025-02-21T12:07:18.4107203Z 
2025-02-21T12:07:18.4107797Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-02-21T12:07:18.4109264Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-02-21T12:07:18.4110573Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-02-21T12:07:18.4111721Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-02-21T12:07:18.4112539Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-02-21T12:07:18.4113319Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-02-21T12:07:18.4114117Z   /home/runner/micromamba/envs/tardis/lib/python3.12/site-packages/traitlets/traitlets.py:1385: DeprecationWarning:
2025-02-21T12:07:18.4114630Z   
2025-02-21T12:07:18.4114913Z   Passing unrecognized arguments to super(Checkbox).__init__(icon='lock').
2025-02-21T12:07:18.4115364Z   object.__init__() takes exactly one argument (the instance to initialize)
2025-02-21T12:07:18.4115861Z   This is deprecated in traitlets 4.2.This error will be raised in a future release of traitlets.
2025-02-21T12:07:18.4116194Z 
2025-02-21T12:07:18.4116545Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-02-21T12:07:18.4117324Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-02-21T12:07:18.4118103Z   /home/runner/micromamba/envs/tardis/lib/python3.12/site-packages/traitlets/traitlets.py:1385: DeprecationWarning:
2025-02-21T12:07:18.4118610Z   
2025-02-21T12:07:18.4118877Z   Passing unrecognized arguments to super(FloatText).__init__(min=0).
2025-02-21T12:07:18.4119519Z   object.__init__() takes exactly one argument (the instance to initialize)
2025-02-21T12:07:18.4120012Z   This is deprecated in traitlets 4.2.This error will be raised in a future release of traitlets.
2025-02-21T12:07:18.4120331Z 
2025-02-21T12:07:18.4120688Z tardis/visualization/widgets/tests/test_custom_abundance.py::TestCustomAbundanceWidget::test_update_input_item_value
2025-02-21T12:07:18.4121462Z   /home/runner/micromamba/envs/tardis/lib/python3.12/site-packages/traitlets/traitlets.py:1385: DeprecationWarning:
2025-02-21T12:07:18.4121955Z   
2025-02-21T12:07:18.4122215Z   Passing unrecognized arguments to super(HTML).__init__(indent=True).
2025-02-21T12:07:18.4122893Z   object.__init__() takes exactly one argument (the instance to initialize)
2025-02-21T12:07:18.4123377Z   This is deprecated in traitlets 4.2.This error will be raised in a future release of traitlets.
2025-02-21T12:07:18.4123703Z 
2025-02-21T12:07:18.4124136Z tardis/visualization/widgets/tests/test_line_info.py::TestLineInfoWidgetData::test_get_species_interactions[wavelength_range0-packet_out_nu]
2025-02-21T12:07:18.4124970Z   /home/runner/micromamba/envs/tardis/lib/python3.12/site-packages/qgridnext/grid.py:820: DeprecationWarning:
2025-02-21T12:07:18.4125447Z   
2025-02-21T12:07:18.4125797Z   QgridWidget._precision_changed is deprecated in traitlets 4.1: use @observe and @unobserve instead.
2025-02-21T12:07:18.4126148Z 
2025-02-21T12:07:18.4126411Z tardis/visualization/widgets/tests/test_shell_info.py::TestHDFShellInfo::test_shells_data
2025-02-21T12:07:18.4126953Z   /home/runner/work/tardis/tardis/tardis/io/util.py:289: PerformanceWarning:
2025-02-21T12:07:18.4127315Z   
2025-02-21T12:07:18.4127463Z   
2025-02-21T12:07:18.4127747Z   your performance may suffer as PyTables will pickle object types that it cannot
2025-02-21T12:07:18.4128408Z   map directly to c-types [inferred_type->mixed,key->block0_values] [items->Index([0], dtype='int64')]
2025-02-21T12:07:18.4128759Z 
2025-02-21T12:07:18.4129014Z tardis/visualization/widgets/tests/test_shell_info.py::TestHDFShellInfo::test_shells_data
2025-02-21T12:07:18.4129780Z   /home/runner/work/tardis/tardis/tardis/io/util.py:292: PerformanceWarning:
2025-02-21T12:07:18.4130137Z   
2025-02-21T12:07:18.4130288Z   
2025-02-21T12:07:18.4130571Z   your performance may suffer as PyTables will pickle object types that it cannot
2025-02-21T12:07:18.4131033Z   map directly to c-types [inferred_type->mixed,key->values] [items->None]
2025-02-21T12:07:18.4131298Z 
2025-02-21T12:07:18.4131554Z tardis/visualization/widgets/tests/test_shell_info.py::TestHDFShellInfo::test_shells_data
2025-02-21T12:07:18.4132138Z   /home/runner/work/tardis/tardis/tardis/spectrum/formal_integral.py:398: UserWarning:
2025-02-21T12:07:18.4132534Z   
2025-02-21T12:07:18.4132810Z   The number of interpolate_shells was not specified. The value was set to 80.
2025-02-21T12:07:18.4133088Z 
2025-02-21T12:07:18.4133288Z -- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
2025-02-21T12:07:18.4133564Z 
2025-02-21T12:07:18.4133736Z ---------- coverage: platform linux, python 3.12.4-final-0 -----------
2025-02-21T12:07:18.4134098Z Coverage HTML written to dir coverage_html_report
2025-02-21T12:07:18.4134410Z Coverage XML written to file coverage.xml
2025-02-21T12:07:18.4134593Z 
2025-02-21T12:07:18.4134714Z =========================== short test summary info ============================
2025-02-21T12:07:18.4135278Z FAILED tardis/spectrum/tests/test_spectrum_solver.py::TestSpectrumSolver::test_spectrum_real_packets - AssertionError: 
2025-02-21T12:07:18.4135887Z Not equal to tolerance rtol=1e-07, atol=0
2025-02-21T12:07:18.4136072Z 
2025-02-21T12:07:18.4136168Z Mismatched elements: 4355 / 10000 (43.5%)
2025-02-21T12:07:18.4136426Z Max absolute difference: 1.94155993e+40
2025-02-21T12:07:18.4136682Z Max relative difference: 137.15340685
2025-02-21T12:07:18.4136994Z  x: array([0.000000e+00, 0.000000e+00, 2.761203e+39, ..., 0.000000e+00,
2025-02-21T12:07:18.4137303Z        0.000000e+00, 0.000000e+00])
2025-02-21T12:07:18.4137588Z  y: array([1.335111e+39, 1.337387e+39, 9.415985e+38, ..., 0.000000e+00,
2025-02-21T12:07:18.4137887Z        0.000000e+00, 0.000000e+00])
2025-02-21T12:07:18.4138432Z FAILED tardis/spectrum/tests/test_spectrum_solver.py::TestSpectrumSolver::test_spectrum_real_packets_reabsorbed - AssertionError: 
2025-02-21T12:07:18.4138996Z Not equal to tolerance rtol=1e-07, atol=0
2025-02-21T12:07:18.4139370Z 
2025-02-21T12:07:18.4139463Z Mismatched elements: 4491 / 10000 (44.9%)
2025-02-21T12:07:18.4139717Z Max absolute difference: 1.0639846e+40
2025-02-21T12:07:18.4139969Z Max relative difference: 122.79315318
2025-02-21T12:07:18.4140344Z  x: array([0., 0., 0., ..., 0., 0., 0.])
2025-02-21T12:07:18.4140642Z  y: array([2.039204e+38, 3.728825e+38, 2.296469e+38, ..., 0.000000e+00,
2025-02-21T12:07:18.4140939Z        0.000000e+00, 0.000000e+00])
2025-02-21T12:07:18.4141384Z FAILED tardis/spectrum/tests/test_spectrum_solver.py::TestSpectrumSolver::test_solve - AssertionError: 
2025-02-21T12:07:18.4141864Z Not equal to tolerance rtol=1e-07, atol=0
2025-02-21T12:07:18.4142034Z 
2025-02-21T12:07:18.4142126Z Mismatched elements: 4355 / 10000 (43.5%)
2025-02-21T12:07:18.4142379Z Max absolute difference: 1.94155993e+40
2025-02-21T12:07:18.4142629Z Max relative difference: 137.15340685
2025-02-21T12:07:18.4142920Z  x: array([0.000000e+00, 0.000000e+00, 2.761203e+39, ..., 0.000000e+00,
2025-02-21T12:07:18.4143215Z        0.000000e+00, 0.000000e+00])
2025-02-21T12:07:18.4143491Z  y: array([1.335111e+39, 1.337387e+39, 9.415985e+38, ..., 0.000000e+00,
2025-02-21T12:07:18.4143782Z        0.000000e+00, 0.000000e+00])
2025-02-21T12:07:18.4144224Z FAILED tardis/tests/test_tardis_full.py::TestTransportSimple::test_j_blue_estimators - AssertionError: 
2025-02-21T12:07:18.4144687Z Not equal to tolerance rtol=1e-07, atol=0
2025-02-21T12:07:18.4144863Z 
2025-02-21T12:07:18.4145108Z Mismatched elements: 488044 / 584480 (83.5%)
2025-02-21T12:07:18.4145372Z Max absolute difference: 1.43452643e-17
2025-02-21T12:07:18.4145622Z Max relative difference: 235.31367318
2025-02-21T12:07:18.4145861Z  x: array([[0., 0., 0., ..., 0., 0., 0.],
2025-02-21T12:07:18.4146112Z        [0., 0., 0., ..., 0., 0., 0.],
2025-02-21T12:07:18.4146343Z        [0., 0., 0., ..., 0., 0., 0.],...
2025-02-21T12:07:18.4146578Z  y: array([[0., 0., 0., ..., 0., 0., 0.],
2025-02-21T12:07:18.4146808Z        [0., 0., 0., ..., 0., 0., 0.],
2025-02-21T12:07:18.4147026Z        [0., 0., 0., ..., 0., 0., 0.],...
2025-02-21T12:07:18.4147437Z FAILED tardis/tests/test_tardis_full.py::TestTransportSimple::test_spectrum - AssertionError: 
2025-02-21T12:07:18.4147877Z Not equal to tolerance rtol=1e-07, atol=0
2025-02-21T12:07:18.4148050Z 
2025-02-21T12:07:18.4148141Z Mismatched elements: 4560 / 10000 (45.6%)
2025-02-21T12:07:18.4148406Z Max absolute difference: 1.96604107e+40
2025-02-21T12:07:18.4148652Z Max relative difference: 97.03021569
2025-02-21T12:07:18.4148951Z  x: array([0.000000e+00, 0.000000e+00, 2.761203e+39, ..., 0.000000e+00,
2025-02-21T12:07:18.4149444Z        0.000000e+00, 0.000000e+00])
2025-02-21T12:07:18.4149726Z  y: array([1.471192e+39, 1.695642e+39, 1.353685e+39, ..., 0.000000e+00,
2025-02-21T12:07:18.4150019Z        0.000000e+00, 0.000000e+00])
2025-02-21T12:07:18.4150447Z FAILED tardis/tests/test_tardis_full.py::TestTransportSimple::test_virtual_spectrum - AssertionError: 
2025-02-21T12:07:18.4150917Z Not equal to tolerance rtol=1e-07, atol=0
2025-02-21T12:07:18.4151089Z 
2025-02-21T12:07:18.4151174Z Mismatched elements: 5659 / 10000 (56.6%)
2025-02-21T12:07:18.4151430Z Max absolute difference: 4.69537822e+39
2025-02-21T12:07:18.4151675Z Max relative difference: 419.77405263
2025-02-21T12:07:18.4151970Z  x: array([1.318953e+39, 2.313815e+39, 3.720004e+39, ..., 0.000000e+00,
2025-02-21T12:07:18.4152261Z        0.000000e+00, 0.000000e+00])
2025-02-21T12:07:18.4152535Z  y: array([1.440332e+39, 1.356114e+39, 1.397557e+39, ..., 0.000000e+00,
2025-02-21T12:07:18.4152833Z        0.000000e+00, 0.000000e+00])
2025-02-21T12:07:18.4153230Z = 6 failed, 1404 passed, 357 skipped, 2 deselected, 19 xfailed, 8 xpassed, 63 warnings in 704.20s (0:11:44) =
2025-02-21T12:07:20.5928168Z ##[error]Process completed with exit code 1.
